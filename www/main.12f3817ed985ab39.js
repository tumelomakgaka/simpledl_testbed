var Xw=Object.defineProperty,Qw=Object.defineProperties,Jw=Object.getOwnPropertyDescriptors,VI=Object.getOwnPropertySymbols,eD=Object.prototype.hasOwnProperty,tD=Object.prototype.propertyIsEnumerable,BI=(Pt,Ze,$)=>Ze in Pt?Xw(Pt,Ze,{enumerable:!0,configurable:!0,writable:!0,value:$}):Pt[Ze]=$,$I=(Pt,Ze)=>{for(var $ in Ze||(Ze={}))eD.call(Ze,$)&&BI(Pt,$,Ze[$]);if(VI)for(var $ of VI(Ze))tD.call(Ze,$)&&BI(Pt,$,Ze[$]);return Pt},UI=(Pt,Ze)=>Qw(Pt,Jw(Ze));(self.webpackChunkapp=self.webpackChunkapp||[]).push([[179],{7591:(Pt,Ze,$)=>{"use strict";$.d(Ze,{ST:()=>C_,yb:()=>Fb});var a=$(6435),X=$(353),B=$(6498),Ce=$(5254),Te=$(1086),ce=$(263),he=$(1059),be=$(3489);function me(){return r=>r.lift(new se)}class se{call(e,t){return t.subscribe(new re(e))}}class re extends be.L{constructor(e){super(e),this.hasPrev=!1}_next(e){let t;this.hasPrev?t=[this.prev,e]:this.hasPrev=!0,this.prev=e,t&&this.destination.next(t)}}var ye,ae=$(4850),ie=$(2014),Re=$(5778),ot=$(2198),$e=$(2011),_e=$(9808),Je=($(407),$(3942)),ee=$(5861),nt=$(9681),Be=$(4859),ct=$(1877),Pe=$(2090),st="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},de={},le=le||{},W=st||self;function Y(){}function Q(r){var e=typeof r;return"array"==(e="object"!=e?e:r?Array.isArray(r)?"array":e:"null")||"object"==e&&"number"==typeof r.length}function Ie(r){var e=typeof r;return"object"==e&&null!=r||"function"==e}var pt="closure_uid_"+(1e9*Math.random()>>>0),He=0;function We(r,e,t){return r.call.apply(r.bind,arguments)}function Fe(r,e,t){if(!r)throw Error();if(2<arguments.length){var s=Array.prototype.slice.call(arguments,2);return function(){var u=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(u,s),r.apply(e,u)}}return function(){return r.apply(e,arguments)}}function Ne(r,e,t){return(Ne=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?We:Fe).apply(null,arguments)}function Ue(r,e){var t=Array.prototype.slice.call(arguments,1);return function(){var s=t.slice();return s.push.apply(s,arguments),r.apply(this,s)}}function Ve(r,e){function t(){}t.prototype=e.prototype,r.X=e.prototype,r.prototype=new t,r.prototype.constructor=r,r.Wb=function(s,u,d){for(var m=Array(arguments.length-2),C=2;C<arguments.length;C++)m[C-2]=arguments[C];return e.prototype[u].apply(s,m)}}function ft(){this.s=this.s,this.o=this.o}ft.prototype.s=!1,ft.prototype.na=function(){!this.s&&(this.s=!0,this.M(),0)&&function ze(r){Object.prototype.hasOwnProperty.call(r,pt)&&r[pt]||(r[pt]=++He)}(this)},ft.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const Lt=Array.prototype.indexOf?function(r,e){return Array.prototype.indexOf.call(r,e,void 0)}:function(r,e){if("string"==typeof r)return"string"!=typeof e||1!=e.length?-1:r.indexOf(e,0);for(let t=0;t<r.length;t++)if(t in r&&r[t]===e)return t;return-1};function Rt(r){const e=r.length;if(0<e){const t=Array(e);for(let s=0;s<e;s++)t[s]=r[s];return t}return[]}function xn(r,e){for(let t=1;t<arguments.length;t++){const s=arguments[t];if(Q(s)){const u=r.length||0,d=s.length||0;r.length=u+d;for(let m=0;m<d;m++)r[u+m]=s[m]}else r.push(s)}}function zt(r,e){this.type=r,this.g=this.target=e,this.defaultPrevented=!1}zt.prototype.h=function(){this.defaultPrevented=!0};var Kn=function(){if(!W.addEventListener||!Object.defineProperty)return!1;var r=!1,e=Object.defineProperty({},"passive",{get:function(){r=!0}});try{W.addEventListener("test",Y,e),W.removeEventListener("test",Y,e)}catch(t){}return r}();function bn(r){return/^[\s\xa0]*$/.test(r)}var Mn=String.prototype.trim?function(r){return r.trim()}:function(r){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(r)[1]};function $n(r,e){return r<e?-1:r>e?1:0}function Jn(){var r=W.navigator;return r&&(r=r.userAgent)?r:""}function er(r){return-1!=Jn().indexOf(r)}function Dr(r){return Dr[" "](r),r}Dr[" "]=Y;var St,r,Rr=er("Opera"),cr=er("Trident")||er("MSIE"),Ci=er("Edge"),lr=Ci||cr,en=er("Gecko")&&!(-1!=Jn().toLowerCase().indexOf("webkit")&&!er("Edge"))&&!(er("Trident")||er("MSIE"))&&!er("Edge"),Cr=-1!=Jn().toLowerCase().indexOf("webkit")&&!er("Edge");function zr(){var r=W.document;return r?r.documentMode:void 0}e:{var Xt="",yt=(r=Jn(),en?/rv:([^\);]+)(\)|;)/.exec(r):Ci?/Edge\/([\d\.]+)/.exec(r):cr?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(r):Cr?/WebKit\/(\S+)/.exec(r):Rr?/(?:Version)[ \/]?(\S+)/.exec(r):void 0);if(yt&&(Xt=yt?yt[1]:""),cr){var rr=zr();if(null!=rr&&rr>parseFloat(Xt)){St=String(rr);break e}}St=Xt}var Un={};var ir=W.document&&cr&&(zr()||parseInt(St,10))||void 0;function jn(r,e){if(zt.call(this,r?r.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,r){var t=this.type=r.type,s=r.changedTouches&&r.changedTouches.length?r.changedTouches[0]:null;if(this.target=r.target||r.srcElement,this.g=e,e=r.relatedTarget){if(en){e:{try{Dr(e.nodeName);var u=!0;break e}catch(d){}u=!1}u||(e=null)}}else"mouseover"==t?e=r.fromElement:"mouseout"==t&&(e=r.toElement);this.relatedTarget=e,s?(this.clientX=void 0!==s.clientX?s.clientX:s.pageX,this.clientY=void 0!==s.clientY?s.clientY:s.pageY,this.screenX=s.screenX||0,this.screenY=s.screenY||0):(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0),this.button=r.button,this.key=r.key||"",this.ctrlKey=r.ctrlKey,this.altKey=r.altKey,this.shiftKey=r.shiftKey,this.metaKey=r.metaKey,this.pointerId=r.pointerId||0,this.pointerType="string"==typeof r.pointerType?r.pointerType:zi[r.pointerType]||"",this.state=r.state,this.i=r,r.defaultPrevented&&jn.X.h.call(this)}}Ve(jn,zt);var zi={2:"touch",3:"pen",4:"mouse"};jn.prototype.h=function(){jn.X.h.call(this);var r=this.i;r.preventDefault?r.preventDefault():r.returnValue=!1};var an="closure_listenable_"+(1e6*Math.random()|0),Dn=0;function jr(r,e,t,s,u){this.listener=r,this.proxy=null,this.src=e,this.type=t,this.capture=!!s,this.ha=u,this.key=++Dn,this.ba=this.ea=!1}function Wt(r){r.ba=!0,r.listener=null,r.proxy=null,r.src=null,r.ha=null}function wt(r,e,t){for(const s in r)e.call(t,r[s],s,r)}function Gt(r){const e={};for(const t in r)e[t]=r[t];return e}const on="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function cn(r,e){let t,s;for(let u=1;u<arguments.length;u++){for(t in s=arguments[u],s)r[t]=s[t];for(let d=0;d<on.length;d++)t=on[d],Object.prototype.hasOwnProperty.call(s,t)&&(r[t]=s[t])}}function pn(r){this.src=r,this.g={},this.h=0}function Oe(r,e){var t=e.type;if(t in r.g){var d,s=r.g[t],u=Lt(s,e);(d=0<=u)&&Array.prototype.splice.call(s,u,1),d&&(Wt(e),0==r.g[t].length&&(delete r.g[t],r.h--))}}function we(r,e,t,s){for(var u=0;u<r.length;++u){var d=r[u];if(!d.ba&&d.listener==e&&d.capture==!!t&&d.ha==s)return u}return-1}pn.prototype.add=function(r,e,t,s,u){var d=r.toString();(r=this.g[d])||(r=this.g[d]=[],this.h++);var m=we(r,e,s,u);return-1<m?(e=r[m],t||(e.ea=!1)):((e=new jr(e,this.src,d,!!s,u)).ea=t,r.push(e)),e};var ke="closure_lm_"+(1e6*Math.random()|0),mt={};function rt(r,e,t,s,u){if(s&&s.once)return Gn(r,e,t,s,u);if(Array.isArray(e)){for(var d=0;d<e.length;d++)rt(r,e[d],t,s,u);return null}return t=Et(t),r&&r[an]?r.N(e,t,Ie(s)?!!s.capture:!!s,u):Mt(r,e,t,!1,s,u)}function Mt(r,e,t,s,u,d){if(!e)throw Error("Invalid event type");var m=Ie(u)?!!u.capture:!!u,C=Ee(r);if(C||(r[ke]=C=new pn(r)),(t=C.add(e,t,s,m,d)).proxy)return t;if(s=function gn(){const e=Se;return function r(t){return e.call(r.src,r.listener,t)}}(),t.proxy=s,s.src=r,s.listener=t,r.addEventListener)Kn||(u=m),void 0===u&&(u=!1),r.addEventListener(e.toString(),s,u);else if(r.attachEvent)r.attachEvent(Xe(e.toString()),s);else{if(!r.addListener||!r.removeListener)throw Error("addEventListener and attachEvent are unavailable.");r.addListener(s)}return t}function Gn(r,e,t,s,u){if(Array.isArray(e)){for(var d=0;d<e.length;d++)Gn(r,e[d],t,s,u);return null}return t=Et(t),r&&r[an]?r.O(e,t,Ie(s)?!!s.capture:!!s,u):Mt(r,e,t,!0,s,u)}function pr(r,e,t,s,u){if(Array.isArray(e))for(var d=0;d<e.length;d++)pr(r,e[d],t,s,u);else s=Ie(s)?!!s.capture:!!s,t=Et(t),r&&r[an]?(r=r.i,(e=String(e).toString())in r.g&&-1<(t=we(d=r.g[e],t,s,u))&&(Wt(d[t]),Array.prototype.splice.call(d,t,1),0==d.length&&(delete r.g[e],r.h--))):r&&(r=Ee(r))&&(e=r.g[e.toString()],r=-1,e&&(r=we(e,t,s,u)),(t=-1<r?e[r]:null)&&hn(t))}function hn(r){if("number"!=typeof r&&r&&!r.ba){var e=r.src;if(e&&e[an])Oe(e.i,r);else{var t=r.type,s=r.proxy;e.removeEventListener?e.removeEventListener(t,s,r.capture):e.detachEvent?e.detachEvent(Xe(t),s):e.addListener&&e.removeListener&&e.removeListener(s),(t=Ee(e))?(Oe(t,r),0==t.h&&(t.src=null,e[ke]=null)):Wt(r)}}}function Xe(r){return r in mt?mt[r]:mt[r]="on"+r}function Se(r,e){if(r.ba)r=!0;else{e=new jn(e,this);var t=r.listener,s=r.ha||r.src;r.ea&&hn(r),r=t.call(s,e)}return r}function Ee(r){return(r=r[ke])instanceof pn?r:null}var tt="__closure_events_fn_"+(1e9*Math.random()>>>0);function Et(r){return"function"==typeof r?r:(r[tt]||(r[tt]=function(e){return r.handleEvent(e)}),r[tt])}function qt(){ft.call(this),this.i=new pn(this),this.P=this,this.I=null}function nn(r,e){var t,s=r.I;if(s)for(t=[];s;s=s.I)t.push(s);if(r=r.P,s=e.type||e,"string"==typeof e)e=new zt(e,r);else if(e instanceof zt)e.target=e.target||r;else{var u=e;cn(e=new zt(s,r),u)}if(u=!0,t)for(var d=t.length-1;0<=d;d--){var m=e.g=t[d];u=Sr(m,s,!0,e)&&u}if(u=Sr(m=e.g=r,s,!0,e)&&u,u=Sr(m,s,!1,e)&&u,t)for(d=0;d<t.length;d++)u=Sr(m=e.g=t[d],s,!1,e)&&u}function Sr(r,e,t,s){if(!(e=r.i.g[String(e)]))return!0;e=e.concat();for(var u=!0,d=0;d<e.length;++d){var m=e[d];if(m&&!m.ba&&m.capture==t){var C=m.listener,L=m.ha||m.src;m.ea&&Oe(r.i,m),u=!1!==C.call(L,s)&&u}}return u&&!s.defaultPrevented}Ve(qt,ft),qt.prototype[an]=!0,qt.prototype.removeEventListener=function(r,e,t,s){pr(this,r,e,t,s)},qt.prototype.M=function(){if(qt.X.M.call(this),this.i){var e,r=this.i;for(e in r.g){for(var t=r.g[e],s=0;s<t.length;s++)Wt(t[s]);delete r.g[e],r.h--}}this.I=null},qt.prototype.N=function(r,e,t,s){return this.i.add(String(r),e,!1,t,s)},qt.prototype.O=function(r,e,t,s){return this.i.add(String(r),e,!0,t,s)};var sr=W.JSON.stringify;function zn(){var r=ei;let e=null;return r.g&&(e=r.g,r.g=r.g.next,r.g||(r.h=null),e.next=null),e}var xr,Wn=new class{constructor(r,e){this.i=r,this.j=e,this.h=0,this.g=null}get(){let r;return 0<this.h?(this.h--,r=this.g,this.g=r.next,r.next=null):r=this.i(),r}}(()=>new Ut,r=>r.reset());class Ut{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}function Cn(r){W.setTimeout(()=>{throw r},0)}function Ln(r,e){xr||function Fr(){var r=W.Promise.resolve(void 0);xr=function(){r.then(Vn)}}(),_r||(xr(),_r=!0),ei.add(r,e)}var _r=!1,ei=new class si{constructor(){this.h=this.g=null}add(e,t){const s=Wn.get();s.set(e,t),this.h?this.h.next=s:this.g=s,this.h=s}};function Vn(){for(var r;r=zn();){try{r.h.call(r.g)}catch(t){Cn(t)}var e=Wn;e.j(r),100>e.h&&(e.h++,r.next=e.g,e.g=r)}_r=!1}function oi(r,e){qt.call(this),this.h=r||1,this.g=e||W,this.j=Ne(this.lb,this),this.l=Date.now()}function vi(r){r.ca=!1,r.R&&(r.g.clearTimeout(r.R),r.R=null)}function En(r,e,t){if("function"==typeof r)t&&(r=Ne(r,t));else{if(!r||"function"!=typeof r.handleEvent)throw Error("Invalid listener argument");r=Ne(r.handleEvent,r)}return 2147483647<Number(e)?-1:W.setTimeout(r,e||0)}function di(r){r.g=En(()=>{r.g=null,r.i&&(r.i=!1,di(r))},r.j);const e=r.h;r.h=null,r.m.apply(null,e)}Ve(oi,qt),(ye=oi.prototype).ca=!1,ye.R=null,ye.lb=function(){if(this.ca){var r=Date.now()-this.l;0<r&&r<.8*this.h?this.R=this.g.setTimeout(this.j,this.h-r):(this.R&&(this.g.clearTimeout(this.R),this.R=null),nn(this,"tick"),this.ca&&(vi(this),this.start()))}},ye.start=function(){this.ca=!0,this.R||(this.R=this.g.setTimeout(this.j,this.h),this.l=Date.now())},ye.M=function(){oi.X.M.call(this),vi(this),delete this.g};class Hr extends ft{constructor(e,t){super(),this.m=e,this.j=t,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:di(this)}M(){super.M(),this.g&&(W.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Si(r){ft.call(this),this.h=r,this.g={}}Ve(Si,ft);var Ti=[];function br(r,e,t,s){Array.isArray(t)||(t&&(Ti[0]=t.toString()),t=Ti);for(var u=0;u<t.length;u++){var d=rt(e,t[u],s||r.handleEvent,!1,r.h||r);if(!d)break;r.g[d.key]=d}}function Z(r){wt(r.g,function(e,t){this.g.hasOwnProperty(t)&&hn(e)},r),r.g={}}function pe(){this.g=!0}function lt(r,e,t,s){r.info(function(){return"XMLHTTP TEXT ("+e+"): "+function je(r,e){if(!r.g)return e;if(!e)return null;try{var t=JSON.parse(e);if(t)for(r=0;r<t.length;r++)if(Array.isArray(t[r])){var s=t[r];if(!(2>s.length)){var u=s[1];if(Array.isArray(u)&&!(1>u.length)){var d=u[0];if("noop"!=d&&"stop"!=d&&"close"!=d)for(var m=1;m<u.length;m++)u[m]=""}}}return sr(t)}catch(C){return e}}(r,t)+(s?" "+s:"")})}Si.prototype.M=function(){Si.X.M.call(this),Z(this)},Si.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},pe.prototype.Aa=function(){this.g=!1},pe.prototype.info=function(){};var it={},dt=null;function bt(){return dt=dt||new qt}function Bt(r){zt.call(this,it.Pa,r)}function Qt(r){const e=bt();nn(e,new Bt(e))}function An(r,e){zt.call(this,it.STAT_EVENT,r),this.stat=e}function mn(r){const e=bt();nn(e,new An(e,r))}function Zn(r,e){zt.call(this,it.Qa,r),this.size=e}function ti(r,e){if("function"!=typeof r)throw Error("Fn must not be null and must be a function");return W.setTimeout(function(){r()},e)}it.Pa="serverreachability",Ve(Bt,zt),it.STAT_EVENT="statevent",Ve(An,zt),it.Qa="timingevent",Ve(Zn,zt);var hi={NO_ERROR:0,mb:1,zb:2,yb:3,tb:4,xb:5,Ab:6,Ma:7,TIMEOUT:8,Db:9},gi={rb:"complete",Nb:"success",Na:"error",Ma:"abort",Fb:"ready",Gb:"readystatechange",TIMEOUT:"timeout",Bb:"incrementaldata",Eb:"progress",ub:"downloadprogress",Vb:"uploadprogress"};function Ns(){}function Vi(){}Ns.prototype.h=null;var To,fi={OPEN:"a",qb:"b",Na:"c",Cb:"d"};function Wi(){zt.call(this,"d")}function Is(){zt.call(this,"c")}function fo(){}function ws(r,e,t,s){this.l=r,this.j=e,this.m=t,this.U=s||1,this.S=new Si(this),this.O=_a,this.T=new oi(r=lr?125:void 0),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.V=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.Y=-1,this.I=!1,this.N=0,this.L=null,this.$=this.J=this.Z=this.P=!1,this.h=new Ds}function Ds(){this.i=null,this.g="",this.h=!1}Ve(Wi,zt),Ve(Is,zt),Ve(fo,Ns),fo.prototype.g=function(){return new XMLHttpRequest},fo.prototype.i=function(){return{}},To=new fo;var _a=45e3,po={},cs={};function go(r,e,t){r.K=1,r.v=Ss(Or(e)),r.s=t,r.P=!0,Cs(r,null)}function Cs(r,e){r.F=Date.now(),ls(r),r.A=Or(r.v);var t=r.A,s=r.U;Array.isArray(s)||(s=[String(s)]),Mi(t.i,"t",s),r.C=0,t=r.l.H,r.h=new Ds,r.g=Vs(r.l,t?e:null,!r.s),0<r.N&&(r.L=new Hr(Ne(r.La,r,r.g),r.N)),br(r.S,r.g,"readystatechange",r.ib),e=r.H?Gt(r.H):{},r.s?(r.u||(r.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",r.g.da(r.A,r.u,r.s,e)):(r.u="GET",r.g.da(r.A,r.u,null,e)),Qt(),function Le(r,e,t,s,u,d){r.info(function(){if(r.g)if(d)for(var m="",C=d.split("&"),L=0;L<C.length;L++){var G=C[L].split("=");if(1<G.length){var oe=G[0];G=G[1];var xe=oe.split("_");m=2<=xe.length&&"type"==xe[1]?m+(oe+"=")+G+"&":m+(oe+"=redacted&")}}else m=null;else m=d;return"XMLHTTP REQ ("+s+") [attempt "+u+"]: "+e+"\n"+t+"\n"+m})}(r.j,r.u,r.A,r.m,r.U,r.s)}function Bi(r){return!!r.g&&"GET"==r.u&&2!=r.K&&r.l.Da}function qi(r,e,t){let u,s=!0;for(;!r.I&&r.C<t.length;){if(u=Ws(r,t),u==cs){4==e&&(r.o=4,mn(14),s=!1),lt(r.j,r.m,null,"[Incomplete Response]");break}if(u==po){r.o=4,mn(15),lt(r.j,r.m,t,"[Invalid Chunk]"),s=!1;break}lt(r.j,r.m,u,null),Yr(r,u)}Bi(r)&&u!=cs&&u!=po&&(r.h.g="",r.C=0),4!=e||0!=t.length||r.h.h||(r.o=1,mn(16),s=!1),r.i=r.i&&s,s?0<t.length&&!r.$&&(r.$=!0,(e=r.l).g==r&&e.$&&!e.K&&(e.j.info("Great, no buffering proxy detected. Bytes received: "+t.length),Yn(e),e.K=!0,mn(11))):(lt(r.j,r.m,t,"[Invalid Chunked Response]"),Ai(r),ds(r))}function Ws(r,e){var t=r.C,s=e.indexOf("\n",t);return-1==s?cs:(t=Number(e.substring(t,s)),isNaN(t)?po:(s+=1)+t>e.length?cs:(e=e.substr(s,t),r.C=s+t,e))}function ls(r){r.V=Date.now()+r.O,Pi(r,r.O)}function Pi(r,e){if(null!=r.B)throw Error("WatchDog timer not null");r.B=ti(Ne(r.gb,r),e)}function Fs(r){r.B&&(W.clearTimeout(r.B),r.B=null)}function ds(r){0==r.l.G||r.I||$r(r.l,r)}function Ai(r){Fs(r);var e=r.L;e&&"function"==typeof e.na&&e.na(),r.L=null,vi(r.T),Z(r.S),r.g&&(e=r.g,r.g=null,e.abort(),e.na())}function Yr(r,e){try{var t=r.l;if(0!=t.G&&(t.g==r||yo(t.h,r)))if(!r.J&&yo(t.h,r)&&3==t.G){try{var s=t.Fa.g.parse(e)}catch(G){s=null}if(Array.isArray(s)&&3==s.length){var u=s;if(0==u[0]){e:if(!t.u){if(t.g){if(!(t.g.F+3e3<r.F))break e;ui(t),z(t)}Nn(t),mn(18)}}else t.Ba=u[1],0<t.Ba-t.T&&37500>u[2]&&t.L&&0==t.A&&!t.v&&(t.v=ti(Ne(t.cb,t),6e3));if(1>=xo(t.h)&&t.ja){try{t.ja()}catch(G){}t.ja=void 0}}else is(t,11)}else if((r.J||t.g==r)&&ui(t),!bn(e))for(u=t.Fa.g.parse(e),e=0;e<u.length;e++){let G=u[e];if(t.T=G[0],G=G[1],2==t.G)if("c"==G[0]){t.I=G[1],t.ka=G[2];const oe=G[3];null!=oe&&(t.ma=oe,t.j.info("VER="+t.ma));const xe=G[4];null!=xe&&(t.Ca=xe,t.j.info("SVER="+t.Ca));const at=G[5];null!=at&&"number"==typeof at&&0<at&&(t.J=s=1.5*at,t.j.info("backChannelRequestTimeoutMs_="+s)),s=t;const Dt=r.g;if(Dt){const Ot=Dt.g?Dt.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Ot){var d=s.h;d.g||-1==Ot.indexOf("spdy")&&-1==Ot.indexOf("quic")&&-1==Ot.indexOf("h2")||(d.j=d.l,d.g=new Set,d.h&&(Mo(d,d.h),d.h=null))}if(s.D){const Jt=Dt.g?Dt.g.getResponseHeader("X-HTTP-Session-Id"):null;Jt&&(s.za=Jt,qn(s.F,s.D,Jt))}}t.G=3,t.l&&t.l.xa(),t.$&&(t.P=Date.now()-r.F,t.j.info("Handshake RTT: "+t.P+"ms"));var m=r;if((s=t).sa=Zs(s,s.H?s.ka:null,s.V),m.J){vo(s.h,m);var C=m,L=s.J;L&&C.setTimeout(L),C.B&&(Fs(C),ls(C)),s.g=m}else mr(s);0<t.i.length&&K(t)}else"stop"!=G[0]&&"close"!=G[0]||is(t,7);else 3==t.G&&("stop"==G[0]||"close"==G[0]?"stop"==G[0]?is(t,7):R(t):"noop"!=G[0]&&t.l&&t.l.wa(G),t.A=0)}Qt()}catch(G){}}function es(r,e){if(r.forEach&&"function"==typeof r.forEach)r.forEach(e,void 0);else if(Q(r)||"string"==typeof r)Array.prototype.forEach.call(r,e,void 0);else for(var t=function eo(r){if(r.oa&&"function"==typeof r.oa)return r.oa();if(!r.W||"function"!=typeof r.W){if("undefined"!=typeof Map&&r instanceof Map)return Array.from(r.keys());if(!("undefined"!=typeof Set&&r instanceof Set)){if(Q(r)||"string"==typeof r){var e=[];r=r.length;for(var t=0;t<r;t++)e.push(t);return e}e=[],t=0;for(const s in r)e[t++]=s;return e}}}(r),s=function ai(r){if(r.W&&"function"==typeof r.W)return r.W();if("undefined"!=typeof Map&&r instanceof Map||"undefined"!=typeof Set&&r instanceof Set)return Array.from(r.values());if("string"==typeof r)return r.split("");if(Q(r)){for(var e=[],t=r.length,s=0;s<t;s++)e.push(r[s]);return e}for(s in e=[],t=0,r)e[t++]=r[s];return e}(r),u=s.length,d=0;d<u;d++)e.call(void 0,s[d],t&&t[d],r)}(ye=ws.prototype).setTimeout=function(r){this.O=r},ye.ib=function(r){r=r.target;const e=this.L;e&&3==Ui(r)?e.l():this.La(r)},ye.La=function(r){try{if(r==this.g)e:{const oe=Ui(this.g);var e=this.g.Ea();if(this.g.aa(),!(3>oe)&&(3!=oe||lr||this.g&&(this.h.h||this.g.fa()||fs(this.g)))){this.I||4!=oe||7==e||Qt(),Fs(this);var t=this.g.aa();this.Y=t;t:if(Bi(this)){var s=fs(this.g);r="";var u=s.length,d=4==Ui(this.g);if(!this.h.i){if("undefined"==typeof TextDecoder){Ai(this),ds(this);var m="";break t}this.h.i=new W.TextDecoder}for(e=0;e<u;e++)this.h.h=!0,r+=this.h.i.decode(s[e],{stream:d&&e==u-1});s.splice(0,u),this.h.g+=r,this.C=0,m=this.h.g}else m=this.g.fa();if(this.i=200==t,function Ke(r,e,t,s,u,d,m){r.info(function(){return"XMLHTTP RESP ("+s+") [ attempt "+u+"]: "+e+"\n"+t+"\n"+d+" "+m})}(this.j,this.u,this.A,this.m,this.U,oe,t),this.i){if(this.Z&&!this.J){t:{if(this.g){var C,L=this.g;if((C=L.g?L.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!bn(C)){var G=C;break t}}G=null}if(!(t=G)){this.i=!1,this.o=3,mn(12),Ai(this),ds(this);break e}lt(this.j,this.m,t,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,Yr(this,t)}this.P?(qi(this,oe,m),lr&&this.i&&3==oe&&(br(this.S,this.T,"tick",this.hb),this.T.start())):(lt(this.j,this.m,m,null),Yr(this,m)),4==oe&&Ai(this),this.i&&!this.I&&(4==oe?$r(this.l,this):(this.i=!1,ls(this)))}else 400==t&&0<m.indexOf("Unknown SID")?(this.o=3,mn(12)):(this.o=0,mn(13)),Ai(this),ds(this)}}}catch(oe){}},ye.hb=function(){if(this.g){var r=Ui(this.g),e=this.g.fa();this.C<e.length&&(Fs(this),qi(this,r,e),this.i&&4!=r&&ls(this))}},ye.cancel=function(){this.I=!0,Ai(this)},ye.gb=function(){this.B=null;const r=Date.now();0<=r-this.V?(function ue(r,e){r.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.K&&(Qt(),mn(17)),Ai(this),this.o=2,ds(this)):Pi(this,this.V-r)};var Ao=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function _i(r,e){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,r instanceof _i){this.h=void 0!==e?e:r.h,Yi(this,r.j),this.s=r.s,this.g=r.g,ts(this,r.m),this.l=r.l,e=r.i;var t=new Kr;t.i=e.i,e.g&&(t.g=new Map(e.g),t.h=e.h),xi(this,t),this.o=r.o}else r&&(t=String(r).match(Ao))?(this.h=!!e,Yi(this,t[1]||"",!0),this.s=Er(t[2]||""),this.g=Er(t[3]||"",!0),ts(this,t[4]),this.l=Er(t[5]||"",!0),xi(this,t[6]||"",!0),this.o=Er(t[7]||"")):(this.h=!!e,this.i=new Kr(null,this.h))}function Or(r){return new _i(r)}function Yi(r,e,t){r.j=t?Er(e,!0):e,r.j&&(r.j=r.j.replace(/:$/,""))}function ts(r,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);r.m=e}else r.m=null}function xi(r,e,t){e instanceof Kr?(r.i=e,function mo(r,e){e&&!r.j&&(Ir(r),r.i=null,r.g.forEach(function(t,s){var u=s.toLowerCase();s!=u&&(qs(this,s),Mi(this,u,t))},r)),r.j=e}(r.i,r.h)):(t||(e=hs(e,As)),r.i=new Kr(e,r.h))}function qn(r,e,t){r.i.set(e,t)}function Ss(r){return qn(r,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),r}function Er(r,e){return r?e?decodeURI(r.replace(/%25/g,"%2525")):decodeURIComponent(r):""}function hs(r,e,t){return"string"==typeof r?(r=encodeURI(r).replace(e,Ls),t&&(r=r.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),r):null}function Ls(r){return"%"+((r=r.charCodeAt(0))>>4&15).toString(16)+(15&r).toString(16)}_i.prototype.toString=function(){var r=[],e=this.j;e&&r.push(hs(e,kr,!0),":");var t=this.g;return(t||"file"==e)&&(r.push("//"),(e=this.s)&&r.push(hs(e,kr,!0),"@"),r.push(encodeURIComponent(String(t)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(t=this.m)&&r.push(":",String(t))),(t=this.l)&&(this.g&&"/"!=t.charAt(0)&&r.push("/"),r.push(hs(t,"/"==t.charAt(0)?Ts:pi,!0))),(t=this.i.toString())&&r.push("?",t),(t=this.o)&&r.push("#",hs(t,$i)),r.join("")};var kr=/[#\/\?@]/g,pi=/[#\?:]/g,Ts=/[#\?]/g,As=/[#\?@]/g,$i=/#/g;function Kr(r,e){this.h=this.g=null,this.i=r||null,this.j=!!e}function Ir(r){r.g||(r.g=new Map,r.h=0,r.i&&function Wr(r,e){if(r){r=r.split("&");for(var t=0;t<r.length;t++){var s=r[t].indexOf("="),u=null;if(0<=s){var d=r[t].substring(0,s);u=r[t].substring(s+1)}else d=r[t];e(d,u?decodeURIComponent(u.replace(/\+/g," ")):"")}}}(r.i,function(e,t){r.add(decodeURIComponent(e.replace(/\+/g," ")),t)}))}function qs(r,e){Ir(r),e=Ki(r,e),r.g.has(e)&&(r.i=null,r.h-=r.g.get(e).length,r.g.delete(e))}function ns(r,e){return Ir(r),e=Ki(r,e),r.g.has(e)}function Mi(r,e,t){qs(r,e),0<t.length&&(r.i=null,r.g.set(Ki(r,e),Rt(t)),r.h+=t.length)}function Ki(r,e){return e=String(e),r.j&&(e=e.toLowerCase()),e}function rs(r){this.l=r||$o,r=W.PerformanceNavigationTiming?0<(r=W.performance.getEntriesByType("navigation")).length&&("hq"==r[0].nextHopProtocol||"h2"==r[0].nextHopProtocol):!!(W.g&&W.g.Ga&&W.g.Ga()&&W.g.Ga().$b),this.j=r?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(ye=Kr.prototype).add=function(r,e){Ir(this),this.i=null,r=Ki(this,r);var t=this.g.get(r);return t||this.g.set(r,t=[]),t.push(e),this.h+=1,this},ye.forEach=function(r,e){Ir(this),this.g.forEach(function(t,s){t.forEach(function(u){r.call(e,u,s,this)},this)},this)},ye.oa=function(){Ir(this);const r=Array.from(this.g.values()),e=Array.from(this.g.keys()),t=[];for(let s=0;s<e.length;s++){const u=r[s];for(let d=0;d<u.length;d++)t.push(e[s])}return t},ye.W=function(r){Ir(this);let e=[];if("string"==typeof r)ns(this,r)&&(e=e.concat(this.g.get(Ki(this,r))));else{r=Array.from(this.g.values());for(let t=0;t<r.length;t++)e=e.concat(r[t])}return e},ye.set=function(r,e){return Ir(this),this.i=null,ns(this,r=Ki(this,r))&&(this.h-=this.g.get(r).length),this.g.set(r,[e]),this.h+=1,this},ye.get=function(r,e){return r&&0<(r=this.W(r)).length?String(r[0]):e},ye.toString=function(){if(this.i)return this.i;if(!this.g)return"";const r=[],e=Array.from(this.g.keys());for(var t=0;t<e.length;t++){var s=e[t];const d=encodeURIComponent(String(s)),m=this.W(s);for(s=0;s<m.length;s++){var u=d;""!==m[s]&&(u+="="+encodeURIComponent(String(m[s]))),r.push(u)}}return this.i=r.join("&")};var $o=10;function Ys(r){return!!r.h||!!r.g&&r.g.size>=r.j}function xo(r){return r.h?1:r.g?r.g.size:0}function yo(r,e){return r.h?r.h==e:!!r.g&&r.g.has(e)}function Mo(r,e){r.g?r.g.add(e):r.h=e}function vo(r,e){r.h&&r.h==e?r.h=null:r.g&&r.g.has(e)&&r.g.delete(e)}function Uo(r){if(null!=r.h)return r.i.concat(r.h.D);if(null!=r.g&&0!==r.g.size){let e=r.i;for(const t of r.g.values())e=e.concat(t.D);return e}return Rt(r.i)}function xt(){}function or(){this.g=new xt}function _o(r,e,t){const s=t||"";try{es(r,function(u,d){let m=u;Ie(u)&&(m=sr(u)),e.push(s+d+"="+encodeURIComponent(m))})}catch(u){throw e.push(s+"type="+encodeURIComponent("_badmap")),u}}function V(r,e,t,s,u){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,u(s)}catch(d){}}function k(r){this.l=r.ac||null,this.j=r.jb||!1}function M(r,e){qt.call(this),this.D=r,this.u=e,this.m=void 0,this.readyState=f,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}rs.prototype.cancel=function(){if(this.i=Uo(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const r of this.g.values())r.cancel();this.g.clear()}},xt.prototype.stringify=function(r){return W.JSON.stringify(r,void 0)},xt.prototype.parse=function(r){return W.JSON.parse(r,void 0)},Ve(k,Ns),k.prototype.g=function(){return new M(this.l,this.j)},k.prototype.i=function(r){return function(){return r}}({}),Ve(M,qt);var f=0;function x(r){r.j.read().then(r.Ta.bind(r)).catch(r.ga.bind(r))}function y(r){r.readyState=4,r.l=null,r.j=null,r.A=null,N(r)}function N(r){r.onreadystatechange&&r.onreadystatechange.call(r)}(ye=M.prototype).open=function(r,e){if(this.readyState!=f)throw this.abort(),Error("Error reopening a connection");this.C=r,this.B=e,this.readyState=1,N(this)},ye.send=function(r){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};r&&(e.body=r),(this.D||W).fetch(new Request(this.B,e)).then(this.Wa.bind(this),this.ga.bind(this))},ye.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,y(this)),this.readyState=f},ye.Wa=function(r){if(this.g&&(this.l=r,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=r.headers,this.readyState=2,N(this)),this.g&&(this.readyState=3,N(this),this.g)))if("arraybuffer"===this.responseType)r.arrayBuffer().then(this.Ua.bind(this),this.ga.bind(this));else if(void 0!==W.ReadableStream&&"body"in r){if(this.j=r.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;x(this)}else r.text().then(this.Va.bind(this),this.ga.bind(this))},ye.Ta=function(r){if(this.g){if(this.u&&r.value)this.response.push(r.value);else if(!this.u){var e=r.value?r.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!r.done}))&&(this.response=this.responseText+=e)}r.done?y(this):N(this),3==this.readyState&&x(this)}},ye.Va=function(r){this.g&&(this.response=this.responseText=r,y(this))},ye.Ua=function(r){this.g&&(this.response=r,y(this))},ye.ga=function(){this.g&&y(this)},ye.setRequestHeader=function(r,e){this.v.append(r,e)},ye.getResponseHeader=function(r){return this.h&&this.h.get(r.toLowerCase())||""},ye.getAllResponseHeaders=function(){if(!this.h)return"";const r=[],e=this.h.entries();for(var t=e.next();!t.done;)r.push((t=t.value)[0]+": "+t[1]),t=e.next();return r.join("\r\n")},Object.defineProperty(M.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(r){this.m=r?"include":"same-origin"}});var te=W.JSON.parse;function Qe(r){qt.call(this),this.headers=new Map,this.u=r||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=kt,this.K=this.L=!1}Ve(Qe,qt);var kt="",$t=/^https?$/i,In=["POST","PUT"];function gr(r,e){r.h=!1,r.g&&(r.l=!0,r.g.abort(),r.l=!1),r.j=e,r.m=5,dr(r),Fi(r)}function dr(r){r.D||(r.D=!0,nn(r,"complete"),nn(r,"error"))}function Ri(r){if(r.h&&void 0!==le&&(!r.C[1]||4!=Ui(r)||2!=r.aa()))if(r.v&&4==Ui(r))En(r.Ha,0,r);else if(nn(r,"readystatechange"),4==Ui(r)){r.h=!1;try{const C=r.aa();e:switch(C){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var t;if(!(t=e)){var s;if(s=0===C){var u=String(r.H).match(Ao)[1]||null;if(!u&&W.self&&W.self.location){var d=W.self.location.protocol;u=d.substr(0,d.length-1)}s=!$t.test(u?u.toLowerCase():"")}t=s}if(t)nn(r,"complete"),nn(r,"success");else{r.m=6;try{var m=2<Ui(r)?r.g.statusText:""}catch(L){m=""}r.j=m+" ["+r.aa()+"]",dr(r)}}finally{Fi(r)}}}function Fi(r,e){if(r.g){Zi(r);const t=r.g,s=r.C[0]?Y:null;r.g=null,r.C=null,e||nn(r,"ready");try{t.onreadystatechange=s}catch(u){}}}function Zi(r){r.g&&r.K&&(r.g.ontimeout=null),r.A&&(W.clearTimeout(r.A),r.A=null)}function Ui(r){return r.g?r.g.readyState:0}function fs(r){try{if(!r.g)return null;if("response"in r.g)return r.g.response;switch(r.J){case kt:case"text":return r.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in r.g)return r.g.mozResponseArrayBuffer}return null}catch(e){return null}}function ba(r){let e="";return wt(r,function(t,s){e+=s,e+=":",e+=t,e+="\r\n"}),e}function ea(r,e,t){e:{for(s in t){var s=!1;break e}s=!0}s||(t=ba(t),"string"==typeof r?null!=t&&encodeURIComponent(String(t)):qn(r,e,t))}function Ks(r,e,t){return t&&t.internalChannelParams&&t.internalChannelParams[r]||e}function jo(r){this.Ca=0,this.i=[],this.j=new pe,this.ka=this.sa=this.F=this.V=this.g=this.za=this.D=this.ia=this.o=this.S=this.s=null,this.ab=this.U=0,this.Za=Ks("failFast",!1,r),this.L=this.v=this.u=this.m=this.l=null,this.Y=!0,this.pa=this.Ba=this.T=-1,this.Z=this.A=this.C=0,this.Xa=Ks("baseRetryDelayMs",5e3,r),this.bb=Ks("retryDelaySeedMs",1e4,r),this.$a=Ks("forwardChannelMaxRetries",2,r),this.ta=Ks("forwardChannelRequestTimeoutMs",2e4,r),this.ra=r&&r.xmlHttpFactory||void 0,this.Da=r&&r.Zb||!1,this.J=void 0,this.H=r&&r.supportsCrossDomainXhr||!1,this.I="",this.h=new rs(r&&r.concurrentRequestLimit),this.Fa=new or,this.O=r&&r.fastHandshake||!1,this.N=r&&r.encodeInitMessageHeaders||!1,this.O&&this.N&&(this.N=!1),this.Ya=r&&r.Xb||!1,r&&r.Aa&&this.j.Aa(),r&&r.forceLongPolling&&(this.Y=!1),this.$=!this.O&&this.Y&&r&&r.detectBufferingProxy||!1,this.ja=void 0,this.P=0,this.K=!1,this.la=this.B=null}function R(r){if(P(r),3==r.G){var e=r.U++,t=Or(r.F);qn(t,"SID",r.I),qn(t,"RID",e),qn(t,"TYPE","terminate"),Ct(r,t),(e=new ws(r,r.j,e,void 0)).K=2,e.v=Ss(Or(t)),t=!1,W.navigator&&W.navigator.sendBeacon&&(t=W.navigator.sendBeacon(e.v.toString(),"")),!t&&W.Image&&((new Image).src=e.v,t=!0),t||(e.g=Vs(e.l,null),e.g.da(e.v)),e.F=Date.now(),ls(e)}to(r)}function z(r){r.g&&(Yn(r),r.g.cancel(),r.g=null)}function P(r){z(r),r.u&&(W.clearTimeout(r.u),r.u=null),ui(r),r.h.cancel(),r.m&&("number"==typeof r.m&&W.clearTimeout(r.m),r.m=null)}function K(r){Ys(r.h)||r.m||(r.m=!0,Ln(r.Ja,r),r.C=0)}function ht(r,e){var t;t=e?e.m:r.U++;const s=Or(r.F);qn(s,"SID",r.I),qn(s,"RID",t),qn(s,"AID",r.T),Ct(r,s),r.o&&r.s&&ea(s,r.o,r.s),t=new ws(r,r.j,t,r.C+1),null===r.o&&(t.H=r.s),e&&(r.i=e.D.concat(r.i)),e=rn(r,t,1e3),t.setTimeout(Math.round(.5*r.ta)+Math.round(.5*r.ta*Math.random())),Mo(r.h,t),go(t,s,e)}function Ct(r,e){r.ia&&wt(r.ia,function(t,s){qn(e,s,t)}),r.l&&es({},function(t,s){qn(e,s,t)})}function rn(r,e,t){t=Math.min(r.i.length,t);var s=r.l?Ne(r.l.Ra,r.l,r):null;e:{var u=r.i;let d=-1;for(;;){const m=["count="+t];-1==d?0<t?(d=u[0].h,m.push("ofs="+d)):d=0:m.push("ofs="+d);let C=!0;for(let L=0;L<t;L++){let G=u[L].h;const oe=u[L].g;if(G-=d,0>G)d=Math.max(0,u[L].h-100),C=!1;else try{_o(oe,m,"req"+G+"_")}catch(xe){s&&s(oe)}}if(C){s=m.join("&");break e}}}return r=r.i.splice(0,t),e.D=r,s}function mr(r){r.g||r.u||(r.Z=1,Ln(r.Ia,r),r.A=0)}function Nn(r){return!(r.g||r.u||3<=r.A||(r.Z++,r.u=ti(Ne(r.Ia,r),ci(r,r.A)),r.A++,0))}function Yn(r){null!=r.B&&(W.clearTimeout(r.B),r.B=null)}function wn(r){r.g=new ws(r,r.j,"rpc",r.Z),null===r.o&&(r.g.H=r.s),r.g.N=0;var e=Or(r.sa);qn(e,"RID","rpc"),qn(e,"SID",r.I),qn(e,"CI",r.L?"0":"1"),qn(e,"AID",r.T),qn(e,"TYPE","xmlhttp"),Ct(r,e),r.o&&r.s&&ea(e,r.o,r.s),r.J&&r.g.setTimeout(r.J);var t=r.g;r=r.ka,t.K=1,t.v=Ss(Or(e)),t.s=null,t.P=!0,Cs(t,r)}function ui(r){null!=r.v&&(W.clearTimeout(r.v),r.v=null)}function $r(r,e){var t=null;if(r.g==e){ui(r),Yn(r),r.g=null;var s=2}else{if(!yo(r.h,e))return;t=e.D,vo(r.h,e),s=1}if(0!=r.G)if(r.pa=e.Y,e.i)if(1==s){t=e.s?e.s.length:0,e=Date.now()-e.F;var u=r.C;nn(s=bt(),new Zn(s,t)),K(r)}else mr(r);else if(3==(u=e.o)||0==u&&0<r.pa||!(1==s&&function Me(r,e){return!(xo(r.h)>=r.h.j-(r.m?1:0)||(r.m?(r.i=e.D.concat(r.i),0):1==r.G||2==r.G||r.C>=(r.Za?0:r.$a)||(r.m=ti(Ne(r.Ja,r,e),ci(r,r.C)),r.C++,0)))}(r,e)||2==s&&Nn(r)))switch(t&&0<t.length&&(e=r.h,e.i=e.i.concat(t)),u){case 1:is(r,5);break;case 4:is(r,10);break;case 3:is(r,6);break;default:is(r,2)}}function ci(r,e){let t=r.Xa+Math.floor(Math.random()*r.bb);return r.l||(t*=2),t*e}function is(r,e){if(r.j.info("Error code "+e),2==e){var t=null;r.l&&(t=null);var s=Ne(r.kb,r);t||(t=new _i("//www.google.com/images/cleardot.gif"),W.location&&"http"==W.location.protocol||Yi(t,"https"),Ss(t)),function Ni(r,e){const t=new pe;if(W.Image){const s=new Image;s.onload=Ue(V,t,s,"TestLoadImage: loaded",!0,e),s.onerror=Ue(V,t,s,"TestLoadImage: error",!1,e),s.onabort=Ue(V,t,s,"TestLoadImage: abort",!1,e),s.ontimeout=Ue(V,t,s,"TestLoadImage: timeout",!1,e),W.setTimeout(function(){s.ontimeout&&s.ontimeout()},1e4),s.src=r}else e(!1)}(t.toString(),s)}else mn(2);r.G=0,r.l&&r.l.va(e),to(r),P(r)}function to(r){if(r.G=0,r.la=[],r.l){const e=Uo(r.h);(0!=e.length||0!=r.i.length)&&(xn(r.la,e),xn(r.la,r.i),r.h.i.length=0,Rt(r.i),r.i.length=0),r.l.ua()}}function Zs(r,e,t){var s=t instanceof _i?Or(t):new _i(t,void 0);if(""!=s.g)e&&(s.g=e+"."+s.g),ts(s,s.m);else{var u=W.location;s=u.protocol,e=e?e+"."+u.hostname:u.hostname,u=+u.port;var d=new _i(null,void 0);s&&Yi(d,s),e&&(d.g=e),u&&ts(d,u),t&&(d.l=t),s=d}return e=r.za,(t=r.D)&&e&&qn(s,t,e),qn(s,"VER",r.ma),Ct(r,s),s}function Vs(r,e,t){if(e&&!r.H)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new Qe(t&&r.Da&&!r.ra?new k({jb:!0}):r.ra)).Ka(r.H),e}function Ro(){}function ss(){if(cr&&!(10<=Number(ir)))throw Error("Environmental error: no available transport.")}function ni(r,e){qt.call(this),this.g=new jo(e),this.l=r,this.h=e&&e.messageUrlParams||null,r=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(r?r["X-Client-Protocol"]="webchannel":r={"X-Client-Protocol":"webchannel"}),this.g.s=r,r=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(r?r["X-WebChannel-Content-Type"]=e.messageContentType:r={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.ya&&(r?r["X-WebChannel-Client-Profile"]=e.ya:r={"X-WebChannel-Client-Profile":e.ya}),this.g.S=r,(r=e&&e.Yb)&&!bn(r)&&(this.g.o=r),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!bn(e)&&(this.g.D=e,null!==(r=this.h)&&e in r&&e in(r=this.h)&&delete r[e]),this.j=new Xi(this)}function ta(r){Wi.call(this);var e=r.__sm__;if(e){e:{for(const t in e){r=t;break e}r=void 0}(this.i=r)&&(r=this.i,e=null!==e&&r in e?e[r]:void 0),this.data=e}else this.data=r}function bi(){Is.call(this),this.status=1}function Xi(r){this.g=r}(ye=Qe.prototype).Ka=function(r){this.L=r},ye.da=function(r,e,t,s){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+r);e=e?e.toUpperCase():"GET",this.H=r,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():To.g(),this.C=function us(r){return r.h||(r.h=r.i())}(this.u?this.u:To),this.g.onreadystatechange=Ne(this.Ha,this);try{this.F=!0,this.g.open(e,String(r),!0),this.F=!1}catch(d){return void gr(this,d)}if(r=t||"",t=new Map(this.headers),s)if(Object.getPrototypeOf(s)===Object.prototype)for(var u in s)t.set(u,s[u]);else{if("function"!=typeof s.keys||"function"!=typeof s.get)throw Error("Unknown input type for opt_headers: "+String(s));for(const d of s.keys())t.set(d,s.get(d))}s=Array.from(t.keys()).find(d=>"content-type"==d.toLowerCase()),u=W.FormData&&r instanceof W.FormData,!(0<=Lt(In,e))||s||u||t.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[d,m]of t)this.g.setRequestHeader(d,m);this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{Zi(this),0<this.B&&((this.K=function ar(r){return cr&&function tr(){return function yn(r){var e=Un;return Object.prototype.hasOwnProperty.call(e,9)?e[9]:e[9]=r(9)}(function(){let r=0;const e=Mn(String(St)).split("."),t=Mn("9").split("."),s=Math.max(e.length,t.length);for(let m=0;0==r&&m<s;m++){var u=e[m]||"",d=t[m]||"";do{if(u=/(\d*)(\D*)(.*)/.exec(u)||["","","",""],d=/(\d*)(\D*)(.*)/.exec(d)||["","","",""],0==u[0].length&&0==d[0].length)break;r=$n(0==u[1].length?0:parseInt(u[1],10),0==d[1].length?0:parseInt(d[1],10))||$n(0==u[2].length,0==d[2].length)||$n(u[2],d[2]),u=u[3],d=d[3]}while(0==r)}return 0<=r})}()&&"number"==typeof r.timeout&&void 0!==r.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Ne(this.qa,this)):this.A=En(this.qa,this.B,this)),this.v=!0,this.g.send(r),this.v=!1}catch(d){gr(this,d)}},ye.qa=function(){void 0!==le&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,nn(this,"timeout"),this.abort(8))},ye.abort=function(r){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=r||7,nn(this,"complete"),nn(this,"abort"),Fi(this))},ye.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Fi(this,!0)),Qe.X.M.call(this)},ye.Ha=function(){this.s||(this.F||this.v||this.l?Ri(this):this.fb())},ye.fb=function(){Ri(this)},ye.aa=function(){try{return 2<Ui(this)?this.g.status:-1}catch(r){return-1}},ye.fa=function(){try{return this.g?this.g.responseText:""}catch(r){return""}},ye.Sa=function(r){if(this.g){var e=this.g.responseText;return r&&0==e.indexOf(r)&&(e=e.substring(r.length)),te(e)}},ye.Ea=function(){return this.m},ye.Oa=function(){return"string"==typeof this.j?this.j:String(this.j)},(ye=jo.prototype).ma=8,ye.G=1,ye.Ja=function(r){if(this.m)if(this.m=null,1==this.G){if(!r){this.U=Math.floor(1e5*Math.random()),r=this.U++;const u=new ws(this,this.j,r,void 0);let d=this.s;if(this.S&&(d?(d=Gt(d),cn(d,this.S)):d=this.S),null!==this.o||this.N||(u.H=d,d=null),this.O)e:{for(var e=0,t=0;t<this.i.length;t++){var s=this.i[t];if(void 0===(s="__data__"in s.g&&"string"==typeof(s=s.g.__data__)?s.length:void 0))break;if(4096<(e+=s)){e=t;break e}if(4096===e||t===this.i.length-1){e=t+1;break e}}e=1e3}else e=1e3;e=rn(this,u,e),qn(t=Or(this.F),"RID",r),qn(t,"CVER",22),this.D&&qn(t,"X-HTTP-Session-Id",this.D),Ct(this,t),d&&(this.N?e="headers="+encodeURIComponent(String(ba(d)))+"&"+e:this.o&&ea(t,this.o,d)),Mo(this.h,u),this.Ya&&qn(t,"TYPE","init"),this.O?(qn(t,"$req",e),qn(t,"SID","null"),u.Z=!0,go(u,t,null)):go(u,t,e),this.G=2}}else 3==this.G&&(r?ht(this,r):0==this.i.length||Ys(this.h)||ht(this))},ye.Ia=function(){if(this.u=null,wn(this),this.$&&!(this.K||null==this.g||0>=this.P)){var r=2*this.P;this.j.info("BP detection timer enabled: "+r),this.B=ti(Ne(this.eb,this),r)}},ye.eb=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.L=!1,this.K=!0,mn(10),z(this),wn(this))},ye.cb=function(){null!=this.v&&(this.v=null,z(this),Nn(this),mn(19))},ye.kb=function(r){r?(this.j.info("Successfully pinged google.com"),mn(2)):(this.j.info("Failed to ping google.com"),mn(1))},(ye=Ro.prototype).xa=function(){},ye.wa=function(){},ye.va=function(){},ye.ua=function(){},ye.Ra=function(){},ss.prototype.g=function(r,e){return new ni(r,e)},Ve(ni,qt),ni.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.H=!0);var r=this.g,e=this.l,t=this.h||void 0;mn(0),r.V=e,r.ia=t||{},r.L=r.Y,r.F=Zs(r,null,r.V),K(r)},ni.prototype.close=function(){R(this.g)},ni.prototype.u=function(r){var e=this.g;if("string"==typeof r){var t={};t.__data__=r,r=t}else this.v&&((t={}).__data__=sr(r),r=t);e.i.push(new class{constructor(r,e){this.h=r,this.g=e}}(e.ab++,r)),3==e.G&&K(e)},ni.prototype.M=function(){this.g.l=null,delete this.j,R(this.g),delete this.g,ni.X.M.call(this)},Ve(ta,Wi),Ve(bi,Is),Ve(Xi,Ro),Xi.prototype.xa=function(){nn(this.g,"a")},Xi.prototype.wa=function(r){nn(this.g,new ta(r))},Xi.prototype.va=function(r){nn(this.g,new bi)},Xi.prototype.ua=function(){nn(this.g,"b")},ss.prototype.createWebChannel=ss.prototype.g,ni.prototype.send=ni.prototype.u,ni.prototype.open=ni.prototype.m,ni.prototype.close=ni.prototype.close,hi.NO_ERROR=0,hi.TIMEOUT=8,hi.HTTP_ERROR=6,gi.COMPLETE="complete",Vi.EventType=fi,fi.OPEN="a",fi.CLOSE="b",fi.ERROR="c",fi.MESSAGE="d",qt.prototype.listen=qt.prototype.N,Qe.prototype.listenOnce=Qe.prototype.O,Qe.prototype.getLastError=Qe.prototype.Oa,Qe.prototype.getLastErrorCode=Qe.prototype.Ea,Qe.prototype.getStatus=Qe.prototype.aa,Qe.prototype.getResponseJson=Qe.prototype.Sa,Qe.prototype.getResponseText=Qe.prototype.fa,Qe.prototype.send=Qe.prototype.da,Qe.prototype.setWithCredentials=Qe.prototype.Ka;var Ea=de.createWebChannelTransport=function(){return new ss},Na=de.getStatEventTarget=function(){return bt()},Ia=de.ErrorCode=hi,Oo=de.EventType=gi,wu=de.Event=it,na=de.Stat={sb:0,vb:1,wb:2,Pb:3,Ub:4,Rb:5,Sb:6,Qb:7,Ob:8,Tb:9,PROXY:10,NOPROXY:11,Mb:12,Ib:13,Jb:14,Hb:15,Kb:16,Lb:17,ob:18,nb:19,pb:20},nc=de.FetchXmlHttpFactory=k,Du=de.WebChannel=Vi,Cu=de.XhrIo=Qe;const Fa="@firebase/firestore";class Lr{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Lr.UNAUTHENTICATED=new Lr(null),Lr.GOOGLE_CREDENTIALS=new Lr("google-credentials-uid"),Lr.FIRST_PARTY=new Lr("first-party-uid"),Lr.MOCK_USER=new Lr("mock-user");let bo="9.17.1";const Eo=new ct.Yd("@firebase/firestore");function no(){return Eo.logLevel}function Nt(r,...e){if(Eo.logLevel<=ct.in.DEBUG){const t=e.map(li);Eo.debug(`Firestore (${bo}): ${r}`,...t)}}function Zr(r,...e){if(Eo.logLevel<=ct.in.ERROR){const t=e.map(li);Eo.error(`Firestore (${bo}): ${r}`,...t)}}function xs(r,...e){if(Eo.logLevel<=ct.in.WARN){const t=e.map(li);Eo.warn(`Firestore (${bo}): ${r}`,...t)}}function li(r){if("string"==typeof r)return r;try{return JSON.stringify(r)}catch(t){return r}}function tn(r="Unexpected state"){const e=`FIRESTORE (${bo}) INTERNAL ASSERTION FAILED: `+r;throw Zr(e),new Error(e)}function dn(r,e){r||tn()}function Yt(r,e){return r}const vt={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Tt extends Pe.ZR{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class mi{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}class wa{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class Ho{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(Lr.UNAUTHENTICATED))}shutdown(){}}class tu{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class ro{constructor(e){this.t=e,this.currentUser=Lr.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){var s=this;let u=this.i;const d=G=>this.i!==u?(u=this.i,t(G)):Promise.resolve();let m=new mi;this.o=()=>{this.i++,this.currentUser=this.u(),m.resolve(),m=new mi,e.enqueueRetryable(()=>d(this.currentUser))};const C=()=>{const G=m;e.enqueueRetryable((0,ee.Z)(function*(){yield G.promise,yield d(s.currentUser)}))},L=G=>{Nt("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=G,this.auth.addAuthTokenListener(this.o),C()};this.t.onInit(G=>L(G)),setTimeout(()=>{if(!this.auth){const G=this.t.getImmediate({optional:!0});G?L(G):(Nt("FirebaseAuthCredentialsProvider","Auth not yet detected"),m.resolve(),m=new mi)}},0),C()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(s=>this.i!==e?(Nt("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(dn("string"==typeof s.accessToken),new wa(s.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return dn(null===e||"string"==typeof e),new Lr(e)}}class ko{constructor(e,t,s,u){this.h=e,this.l=t,this.m=s,this.g=u,this.type="FirstParty",this.user=Lr.FIRST_PARTY,this.p=new Map}I(){return this.g?this.g():(dn(!("object"!=typeof this.h||null===this.h||!this.h.auth||!this.h.auth.getAuthHeaderValueForFirstParty)),this.h.auth.getAuthHeaderValueForFirstParty([]))}get headers(){this.p.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.p.set("Authorization",e),this.m&&this.p.set("X-Goog-Iam-Authorization-Token",this.m),this.p}}class nu{constructor(e,t,s,u){this.h=e,this.l=t,this.m=s,this.g=u}getToken(){return Promise.resolve(new ko(this.h,this.l,this.m,this.g))}start(e,t){e.enqueueRetryable(()=>t(Lr.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Da{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class ru{constructor(e){this.T=e,this.forceRefresh=!1,this.appCheck=null,this.A=null}start(e,t){const s=d=>{null!=d.error&&Nt("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${d.error.message}`);const m=d.token!==this.A;return this.A=d.token,Nt("FirebaseAppCheckTokenProvider",`Received ${m?"new":"existing"} token.`),m?t(d.token):Promise.resolve()};this.o=d=>{e.enqueueRetryable(()=>s(d))};const u=d=>{Nt("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=d,this.appCheck.addTokenListener(this.o)};this.T.onInit(d=>u(d)),setTimeout(()=>{if(!this.appCheck){const d=this.T.getImmediate({optional:!0});d?u(d):Nt("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(dn("string"==typeof t.token),this.A=t.token,new Da(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function su(r){const e="undefined"!=typeof self&&(self.crypto||self.msCrypto),t=new Uint8Array(r);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(t);else for(let s=0;s<r;s++)t[s]=Math.floor(256*Math.random());return t}class Ca{static R(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length;let s="";for(;s.length<20;){const u=su(40);for(let d=0;d<u.length;++d)s.length<20&&u[d]<t&&(s+=e.charAt(u[d]%e.length))}return s}}function kn(r,e){return r<e?-1:r>e?1:0}function Ms(r,e,t){return r.length===e.length&&r.every((s,u)=>t(s,e[u]))}function Tu(r){return r+"\0"}class Gr{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new Tt(vt.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new Tt(vt.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new Tt(vt.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Tt(vt.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Gr.fromMillis(Date.now())}static fromDate(e){return Gr.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),s=Math.floor(1e6*(e-1e3*t));return new Gr(t,s)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?kn(this.nanoseconds,e.nanoseconds):kn(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class ln{constructor(e){this.timestamp=e}static fromTimestamp(e){return new ln(e)}static min(){return new ln(new Gr(0,0))}static max(){return new ln(new Gr(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class Xs{constructor(e,t,s){void 0===t?t=0:t>e.length&&tn(),void 0===s?s=e.length-t:s>e.length-t&&tn(),this.segments=e,this.offset=t,this.len=s}get length(){return this.len}isEqual(e){return 0===Xs.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Xs?e.forEach(s=>{t.push(s)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,s=this.limit();t<s;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const s=Math.min(e.length,t.length);for(let u=0;u<s;u++){const d=e.get(u),m=t.get(u);if(d<m)return-1;if(d>m)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class Tr extends Xs{construct(e,t,s){return new Tr(e,t,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const t=[];for(const s of e){if(s.indexOf("//")>=0)throw new Tt(vt.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);t.push(...s.split("/").filter(u=>u.length>0))}return new Tr(t)}static emptyPath(){return new Tr([])}}const Bs=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class qr extends Xs{construct(e,t,s){return new qr(e,t,s)}static isValidIdentifier(e){return Bs.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),qr.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new qr(["__name__"])}static fromServerFormat(e){const t=[];let s="",u=0;const d=()=>{if(0===s.length)throw new Tt(vt.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(s),s=""};let m=!1;for(;u<e.length;){const C=e[u];if("\\"===C){if(u+1===e.length)throw new Tt(vt.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const L=e[u+1];if("\\"!==L&&"."!==L&&"`"!==L)throw new Tt(vt.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=L,u+=2}else"`"===C?(m=!m,u++):"."!==C||m?(s+=C,u++):(d(),u++)}if(d(),m)throw new Tt(vt.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new qr(t)}static emptyPath(){return new qr([])}}class Zt{constructor(e){this.path=e}static fromPath(e){return new Zt(Tr.fromString(e))}static fromName(e){return new Zt(Tr.fromString(e).popFirst(5))}static empty(){return new Zt(Tr.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===Tr.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return Tr.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Zt(new Tr(e.slice()))}}class Po{constructor(e,t,s,u){this.indexId=e,this.collectionGroup=t,this.fields=s,this.indexState=u}}function ra(r){return r.fields.find(e=>2===e.kind)}function $s(r){return r.fields.filter(e=>2!==e.kind)}Po.UNKNOWN_ID=-1;class Pr{constructor(e,t){this.fieldPath=e,this.kind=t}}class Go{constructor(e,t){this.sequenceNumber=e,this.offset=t}static empty(){return new Go(0,Us.min())}}function Io(r,e){const t=r.toTimestamp().seconds,s=r.toTimestamp().nanoseconds+1,u=ln.fromTimestamp(1e9===s?new Gr(t+1,0):new Gr(t,s));return new Us(u,Zt.empty(),e)}function ou(r){return new Us(r.readTime,r.key,-1)}class Us{constructor(e,t,s){this.readTime=e,this.documentKey=t,this.largestBatchId=s}static min(){return new Us(ln.min(),Zt.empty(),-1)}static max(){return new Us(ln.max(),Zt.empty(),-1)}}function Ur(r,e){let t=r.readTime.compareTo(e.readTime);return 0!==t?t:(t=Zt.comparator(r.documentKey,e.documentKey),0!==t?t:kn(r.largestBatchId,e.largestBatchId))}const au="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class fl{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}function Va(r){return rc.apply(this,arguments)}function rc(){return rc=(0,ee.Z)(function*(r){if(r.code!==vt.FAILED_PRECONDITION||r.message!==au)throw r;Nt("LocalStore","Unexpectedly lost primary lease")}),rc.apply(this,arguments)}class gt{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&tn(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new gt((s,u)=>{this.nextCallback=d=>{this.wrapSuccess(e,d).next(s,u)},this.catchCallback=d=>{this.wrapFailure(t,d).next(s,u)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof gt?t:gt.resolve(t)}catch(t){return gt.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):gt.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):gt.reject(t)}static resolve(e){return new gt((t,s)=>{t(e)})}static reject(e){return new gt((t,s)=>{s(e)})}static waitFor(e){return new gt((t,s)=>{let u=0,d=0,m=!1;e.forEach(C=>{++u,C.next(()=>{++d,m&&d===u&&t()},L=>s(L))}),m=!0,d===u&&t()})}static or(e){let t=gt.resolve(!1);for(const s of e)t=t.next(u=>u?gt.resolve(u):s());return t}static forEach(e,t){const s=[];return e.forEach((u,d)=>{s.push(t.call(this,u,d))}),this.waitFor(s)}static mapArray(e,t){return new gt((s,u)=>{const d=e.length,m=new Array(d);let C=0;for(let L=0;L<d;L++){const G=L;t(e[G]).next(oe=>{m[G]=oe,++C,C===d&&s(m)},oe=>u(oe))}})}static doWhile(e,t){return new gt((s,u)=>{const d=()=>{!0===e()?t().next(()=>{d()},u):s()};d()})}}class Au{constructor(e,t){this.action=e,this.transaction=t,this.aborted=!1,this.P=new mi,this.transaction.oncomplete=()=>{this.P.resolve()},this.transaction.onabort=()=>{t.error?this.P.reject(new Sa(e,t.error)):this.P.resolve()},this.transaction.onerror=s=>{const u=$a(s.target.error);this.P.reject(new Sa(e,u))}}static open(e,t,s,u){try{return new Au(t,e.transaction(u,s))}catch(d){throw new Sa(t,d)}}get v(){return this.P.promise}abort(e){e&&this.P.reject(e),this.aborted||(Nt("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}V(){const e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}store(e){const t=this.transaction.objectStore(e);return new Ei(t)}}class js{constructor(e,t,s){this.name=e,this.version=t,this.S=s,12.2===js.D((0,Pe.z$)())&&Zr("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return Nt("SimpleDb","Removing database:",e),wo(window.indexedDB.deleteDatabase(e)).toPromise()}static C(){if(!(0,Pe.hl)())return!1;if(js.N())return!0;const e=(0,Pe.z$)(),t=js.D(e),s=0<t&&t<10,u=js.k(e),d=0<u&&u<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||s||d)}static N(){var e;return"undefined"!=typeof process&&"YES"===(null===(e=process.env)||void 0===e?void 0:e.O)}static M(e,t){return e.store(t)}static D(e){const t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),s=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(s)}static k(e){const t=e.match(/Android ([\d.]+)/i),s=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(s)}F(e){var t=this;return(0,ee.Z)(function*(){return t.db||(Nt("SimpleDb","Opening database:",t.name),t.db=yield new Promise((s,u)=>{const d=indexedDB.open(t.name,t.version);d.onsuccess=m=>{s(m.target.result)},d.onblocked=()=>{u(new Sa(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},d.onerror=m=>{const C=m.target.error;u("VersionError"===C.name?new Tt(vt.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===C.name?new Tt(vt.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+C):new Sa(e,C))},d.onupgradeneeded=m=>{Nt("SimpleDb",'Database "'+t.name+'" requires upgrade from version:',m.oldVersion),t.S.$(m.target.result,d.transaction,m.oldVersion,t.version).next(()=>{Nt("SimpleDb","Database upgrade to version "+t.version+" complete")})}})),t.B&&(t.db.onversionchange=s=>t.B(s)),t.db})()}L(e){this.B=e,this.db&&(this.db.onversionchange=t=>e(t))}runTransaction(e,t,s,u){var d=this;return(0,ee.Z)(function*(){const m="readonly"===t;let C=0;for(;;){++C;try{d.db=yield d.F(e);const L=Au.open(d.db,e,m?"readonly":"readwrite",s),G=u(L).next(oe=>(L.V(),oe)).catch(oe=>(L.abort(oe),gt.reject(oe))).toPromise();return G.catch(()=>{}),yield L.v,G}catch(L){const G=L,oe="FirebaseError"!==G.name&&C<3;if(Nt("SimpleDb","Transaction failed with error:",G.message,"Retrying:",oe),d.close(),!oe)return Promise.reject(G)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}class Ba{constructor(e){this.q=e,this.U=!1,this.K=null}get isDone(){return this.U}get G(){return this.K}set cursor(e){this.q=e}done(){this.U=!0}j(e){this.K=e}delete(){return wo(this.q.delete())}}class Sa extends Tt{constructor(e,t){super(vt.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${t}`),this.name="IndexedDbTransactionError"}}function gs(r){return"IndexedDbTransactionError"===r.name}class Ei{constructor(e){this.store=e}put(e,t){let s;return void 0!==t?(Nt("SimpleDb","PUT",this.store.name,e,t),s=this.store.put(t,e)):(Nt("SimpleDb","PUT",this.store.name,"<auto-key>",e),s=this.store.put(e)),wo(s)}add(e){return Nt("SimpleDb","ADD",this.store.name,e,e),wo(this.store.add(e))}get(e){return wo(this.store.get(e)).next(t=>(void 0===t&&(t=null),Nt("SimpleDb","GET",this.store.name,e,t),t))}delete(e){return Nt("SimpleDb","DELETE",this.store.name,e),wo(this.store.delete(e))}count(){return Nt("SimpleDb","COUNT",this.store.name),wo(this.store.count())}W(e,t){const s=this.options(e,t);if(s.index||"function"!=typeof this.store.getAll){const u=this.cursor(s),d=[];return this.H(u,(m,C)=>{d.push(C)}).next(()=>d)}{const u=this.store.getAll(s.range);return new gt((d,m)=>{u.onerror=C=>{m(C.target.error)},u.onsuccess=C=>{d(C.target.result)}})}}J(e,t){const s=this.store.getAll(e,null===t?void 0:t);return new gt((u,d)=>{s.onerror=m=>{d(m.target.error)},s.onsuccess=m=>{u(m.target.result)}})}Y(e,t){Nt("SimpleDb","DELETE ALL",this.store.name);const s=this.options(e,t);s.X=!1;const u=this.cursor(s);return this.H(u,(d,m,C)=>C.delete())}Z(e,t){let s;t?s=e:(s={},t=e);const u=this.cursor(s);return this.H(u,t)}tt(e){const t=this.cursor({});return new gt((s,u)=>{t.onerror=d=>{const m=$a(d.target.error);u(m)},t.onsuccess=d=>{const m=d.target.result;m?e(m.primaryKey,m.value).next(C=>{C?m.continue():s()}):s()}})}H(e,t){const s=[];return new gt((u,d)=>{e.onerror=m=>{d(m.target.error)},e.onsuccess=m=>{const C=m.target.result;if(!C)return void u();const L=new Ba(C),G=t(C.primaryKey,C.value,L);if(G instanceof gt){const oe=G.catch(xe=>(L.done(),gt.reject(xe)));s.push(oe)}L.isDone?u():null===L.G?C.continue():C.continue(L.G)}}).next(()=>gt.waitFor(s))}options(e,t){let s;return void 0!==e&&("string"==typeof e?s=e:t=e),{index:s,range:t}}cursor(e){let t="next";if(e.reverse&&(t="prev"),e.index){const s=this.store.index(e.index);return e.X?s.openKeyCursor(e.range,t):s.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}function wo(r){return new gt((e,t)=>{r.onsuccess=s=>{e(s.target.result)},r.onerror=s=>{const u=$a(s.target.error);t(u)}})}let ia=!1;function $a(r){const e=js.D((0,Pe.z$)());if(e>=12.2&&e<13){const t="An internal error was encountered in the Indexed Database server";if(r.message.indexOf(t)>=0){const s=new Tt("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${t}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return ia||(ia=!0,setTimeout(()=>{throw s},0)),s}}return r}class Ta{constructor(e,t){this.asyncQueue=e,this.et=t,this.task=null}start(){this.nt(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return null!==this.task}nt(e){var t=this;Nt("IndexBackiller",`Scheduled in ${e}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,(0,ee.Z)(function*(){t.task=null;try{Nt("IndexBackiller",`Documents written: ${yield t.et.st()}`)}catch(s){gs(s)?Nt("IndexBackiller","Ignoring IndexedDB error during index backfill: ",s):yield Va(s)}yield t.nt(6e4)}))}}class ms{constructor(e,t){this.localStore=e,this.persistence=t}st(e=50){var t=this;return(0,ee.Z)(function*(){return t.persistence.runTransaction("Backfill Indexes","readwrite-primary",s=>t.it(s,e))})()}it(e,t){const s=new Set;let u=t,d=!0;return gt.doWhile(()=>!0===d&&u>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next(m=>{if(null!==m&&!s.has(m))return Nt("IndexBackiller",`Processing collection: ${m}`),this.rt(e,m,u).next(C=>{u-=C,s.add(m)});d=!1})).next(()=>t-u)}rt(e,t,s){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,t).next(u=>this.localStore.localDocuments.getNextDocuments(e,t,u,s).next(d=>{const m=d.changes;return this.localStore.indexManager.updateIndexEntries(e,m).next(()=>this.ot(u,d)).next(C=>(Nt("IndexBackiller",`Updating offset: ${C}`),this.localStore.indexManager.updateCollectionGroup(e,t,C))).next(()=>m.size)}))}ot(e,t){let s=e;return t.changes.forEach((u,d)=>{const m=ou(d);Ur(m,s)>0&&(s=m)}),new Us(s.readTime,s.documentKey,Math.max(t.batchId,e.largestBatchId))}}let Ii=(()=>{class r{constructor(t,s){this.previousValue=t,s&&(s.sequenceNumberHandler=u=>this.ut(u),this.ct=u=>s.writeSequenceNumber(u))}ut(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ct&&this.ct(t),t}}return r.at=-1,r})();class Aa{constructor(e,t,s,u,d,m,C,L){this.databaseId=e,this.appId=t,this.persistenceKey=s,this.host=u,this.ssl=d,this.forceLongPolling=m,this.autoDetectLongPolling=C,this.useFetchStreams=L}}class ji{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new ji("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof ji&&e.projectId===this.projectId&&e.database===this.database}}function Rs(r){let e=0;for(const t in r)Object.prototype.hasOwnProperty.call(r,t)&&e++;return e}function io(r,e){for(const t in r)Object.prototype.hasOwnProperty.call(r,t)&&e(t,r[t])}function sa(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}function xa(r){return null==r}function oa(r){return 0===r&&1/r==-1/0}function ic(r){return"number"==typeof r&&Number.isInteger(r)&&!oa(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}class Vr{constructor(e){this.binaryString=e}static fromBase64String(e){const t=atob(e);return new Vr(t)}static fromUint8Array(e){const t=function(s){let u="";for(let d=0;d<s.length;++d)u+=String.fromCharCode(s[d]);return u}(e);return new Vr(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let s=0;s<e.length;s++)t[s]=e.charCodeAt(s);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return kn(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Vr.EMPTY_BYTE_STRING=new Vr("");const xu=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ys(r){if(dn(!!r),"string"==typeof r){let e=0;const t=xu.exec(r);if(dn(!!t),t[1]){let u=t[1];u=(u+"000000000").substr(0,9),e=Number(u)}const s=new Date(r);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:Xr(r.seconds),nanos:Xr(r.nanos)}}function Xr(r){return"number"==typeof r?r:"string"==typeof r?Number(r):0}function so(r){return"string"==typeof r?Vr.fromBase64String(r):Vr.fromUint8Array(r)}function Mu(r){var e,t;return"server_timestamp"===(null===(t=((null===(e=null==r?void 0:r.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===t?void 0:t.stringValue)}function Ua(r){const e=r.mapValue.fields.__previous_value__;return Mu(e)?Ua(e):e}function Hs(r){const e=ys(r.mapValue.fields.__local_write_time__.timestampValue);return new Gr(e.seconds,e.nanos)}const aa={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},I={nullValue:"NULL_VALUE"};function w(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?Mu(r)?4:Vt(r)?9007199254740991:10:tn()}function v(r,e){if(r===e)return!0;const t=w(r);if(t!==w(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===e.booleanValue;case 4:return Hs(r).isEqual(Hs(e));case 3:return function(s,u){if("string"==typeof s.timestampValue&&"string"==typeof u.timestampValue&&s.timestampValue.length===u.timestampValue.length)return s.timestampValue===u.timestampValue;const d=ys(s.timestampValue),m=ys(u.timestampValue);return d.seconds===m.seconds&&d.nanos===m.nanos}(r,e);case 5:return r.stringValue===e.stringValue;case 6:return u=e,so(r.bytesValue).isEqual(so(u.bytesValue));case 7:return r.referenceValue===e.referenceValue;case 8:return function(s,u){return Xr(s.geoPointValue.latitude)===Xr(u.geoPointValue.latitude)&&Xr(s.geoPointValue.longitude)===Xr(u.geoPointValue.longitude)}(r,e);case 2:return function(s,u){if("integerValue"in s&&"integerValue"in u)return Xr(s.integerValue)===Xr(u.integerValue);if("doubleValue"in s&&"doubleValue"in u){const d=Xr(s.doubleValue),m=Xr(u.doubleValue);return d===m?oa(d)===oa(m):isNaN(d)&&isNaN(m)}return!1}(r,e);case 9:return Ms(r.arrayValue.values||[],e.arrayValue.values||[],v);case 10:return function(s,u){const d=s.mapValue.fields||{},m=u.mapValue.fields||{};if(Rs(d)!==Rs(m))return!1;for(const C in d)if(d.hasOwnProperty(C)&&(void 0===m[C]||!v(d[C],m[C])))return!1;return!0}(r,e);default:return tn()}var u}function T(r,e){return void 0!==(r.values||[]).find(t=>v(t,e))}function F(r,e){if(r===e)return 0;const t=w(r),s=w(e);if(t!==s)return kn(t,s);switch(t){case 0:case 9007199254740991:return 0;case 1:return kn(r.booleanValue,e.booleanValue);case 2:return function(u,d){const m=Xr(u.integerValue||u.doubleValue),C=Xr(d.integerValue||d.doubleValue);return m<C?-1:m>C?1:m===C?0:isNaN(m)?isNaN(C)?0:-1:1}(r,e);case 3:return q(r.timestampValue,e.timestampValue);case 4:return q(Hs(r),Hs(e));case 5:return kn(r.stringValue,e.stringValue);case 6:return function(u,d){const m=so(u),C=so(d);return m.compareTo(C)}(r.bytesValue,e.bytesValue);case 7:return function(u,d){const m=u.split("/"),C=d.split("/");for(let L=0;L<m.length&&L<C.length;L++){const G=kn(m[L],C[L]);if(0!==G)return G}return kn(m.length,C.length)}(r.referenceValue,e.referenceValue);case 8:return function(u,d){const m=kn(Xr(u.latitude),Xr(d.latitude));return 0!==m?m:kn(Xr(u.longitude),Xr(d.longitude))}(r.geoPointValue,e.geoPointValue);case 9:return function(u,d){const m=u.values||[],C=d.values||[];for(let L=0;L<m.length&&L<C.length;++L){const G=F(m[L],C[L]);if(G)return G}return kn(m.length,C.length)}(r.arrayValue,e.arrayValue);case 10:return function(u,d){if(u===aa.mapValue&&d===aa.mapValue)return 0;if(u===aa.mapValue)return 1;if(d===aa.mapValue)return-1;const m=u.fields||{},C=Object.keys(m),L=d.fields||{},G=Object.keys(L);C.sort(),G.sort();for(let oe=0;oe<C.length&&oe<G.length;++oe){const xe=kn(C[oe],G[oe]);if(0!==xe)return xe;const at=F(m[C[oe]],L[G[oe]]);if(0!==at)return at}return kn(C.length,G.length)}(r.mapValue,e.mapValue);default:throw tn()}}function q(r,e){if("string"==typeof r&&"string"==typeof e&&r.length===e.length)return kn(r,e);const t=ys(r),s=ys(e),u=kn(t.seconds,s.seconds);return 0!==u?u:kn(t.nanos,s.nanos)}function ve(r){return E(r)}function E(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?function(s){const u=ys(s);return`time(${u.seconds},${u.nanos})`}(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?so(r.bytesValue).toBase64():"referenceValue"in r?Zt.fromName(r.referenceValue).toString():"geoPointValue"in r?`geo(${(e=r.geoPointValue).latitude},${e.longitude})`:"arrayValue"in r?function(s){let u="[",d=!0;for(const m of s.values||[])d?d=!1:u+=",",u+=E(m);return u+"]"}(r.arrayValue):"mapValue"in r?function(s){const u=Object.keys(s.fields||{}).sort();let d="{",m=!0;for(const C of u)m?m=!1:d+=",",d+=`${C}:${E(s.fields[C])}`;return d+"}"}(r.mapValue):tn();var e}function A(r,e){return{referenceValue:`projects/${r.projectId}/databases/${r.database}/documents/${e.path.canonicalString()}`}}function H(r){return!!r&&"integerValue"in r}function fe(r){return!!r&&"arrayValue"in r}function Ae(r){return!!r&&"nullValue"in r}function qe(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function _t(r){return!!r&&"mapValue"in r}function Ht(r){if(r.geoPointValue)return{geoPointValue:Object.assign({},r.geoPointValue)};if(r.timestampValue&&"object"==typeof r.timestampValue)return{timestampValue:Object.assign({},r.timestampValue)};if(r.mapValue){const e={mapValue:{fields:{}}};return io(r.mapValue.fields,(t,s)=>e.mapValue.fields[t]=Ht(s)),e}if(r.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(r.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=Ht(r.arrayValue.values[t]);return e}return Object.assign({},r)}function Vt(r){return"__max__"===(((r.mapValue||{}).fields||{}).__type__||{}).stringValue}function fn(r){return"nullValue"in r?I:"booleanValue"in r?{booleanValue:!1}:"integerValue"in r||"doubleValue"in r?{doubleValue:NaN}:"timestampValue"in r?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in r?{stringValue:""}:"bytesValue"in r?{bytesValue:""}:"referenceValue"in r?A(ji.empty(),Zt.empty()):"geoPointValue"in r?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in r?{arrayValue:{}}:"mapValue"in r?{mapValue:{}}:tn()}function Hn(r){return"nullValue"in r?{booleanValue:!1}:"booleanValue"in r?{doubleValue:NaN}:"integerValue"in r||"doubleValue"in r?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in r?{stringValue:""}:"stringValue"in r?{bytesValue:""}:"bytesValue"in r?A(ji.empty(),Zt.empty()):"referenceValue"in r?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in r?{arrayValue:{}}:"arrayValue"in r?{mapValue:{}}:"mapValue"in r?aa:tn()}function Sn(r,e){const t=F(r.value,e.value);return 0!==t?t:r.inclusive&&!e.inclusive?-1:!r.inclusive&&e.inclusive?1:0}function Hi(r,e){const t=F(r.value,e.value);return 0!==t?t:r.inclusive&&!e.inclusive?1:!r.inclusive&&e.inclusive?-1:0}class yr{constructor(e,t){this.position=e,this.inclusive=t}}function zo(r,e,t){let s=0;for(let u=0;u<r.position.length;u++){const d=e[u],m=r.position[u];if(s=d.field.isKeyField()?Zt.comparator(Zt.fromName(m.referenceValue),t.key):F(m,t.data.field(d.field)),"desc"===d.dir&&(s*=-1),0!==s)break}return s}function uu(r,e){if(null===r)return null===e;if(null===e||r.inclusive!==e.inclusive||r.position.length!==e.position.length)return!1;for(let t=0;t<r.position.length;t++)if(!v(r.position[t],e.position[t]))return!1;return!0}class ua{}class Pn extends ua{constructor(e,t,s){super(),this.field=e,this.op=t,this.value=s}static create(e,t,s){return e.isKeyField()?"in"===t||"not-in"===t?this.createKeyFieldInFilter(e,t,s):new ac(e,t,s):"array-contains"===t?new fd(e,s):"in"===t?new Th(e,s):"not-in"===t?new pd(e,s):"array-contains-any"===t?new gp(e,s):new Pn(e,t,s)}static createKeyFieldInFilter(e,t,s){return"in"===t?new Ou(e,s):new fp(e,s)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.matchesComparison(F(t,this.value)):null!==t&&w(this.value)===w(t)&&this.matchesComparison(F(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return tn()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}getFirstInequalityField(){return this.isInequality()?this.field:null}}class wr extends ua{constructor(e,t){super(),this.filters=e,this.op=t,this.ht=null}static create(e,t){return new wr(e,t)}matches(e){return Do(this)?void 0===this.filters.find(t=>!t.matches(e)):void 0!==this.filters.find(t=>t.matches(e))}getFlattenedFilters(){return null!==this.ht||(this.ht=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.ht}getFilters(){return Object.assign([],this.filters)}getFirstInequalityField(){const e=this.lt(t=>t.isInequality());return null!==e?e.field:null}lt(e){for(const t of this.getFlattenedFilters())if(e(t))return t;return null}}function Do(r){return"and"===r.op}function pl(r){return"or"===r.op}function Oc(r){return oc(r)&&Do(r)}function oc(r){for(const e of r.filters)if(e instanceof wr)return!1;return!0}function Ru(r){if(r instanceof Pn)return r.field.canonicalString()+r.op.toString()+ve(r.value);if(Oc(r))return r.filters.map(e=>Ru(e)).join(",");{const e=r.filters.map(t=>Ru(t)).join(",");return`${r.op}(${e})`}}function kc(r,e){return r instanceof Pn?(t=r,(s=e)instanceof Pn&&t.op===s.op&&t.field.isEqual(s.field)&&v(t.value,s.value)):r instanceof wr?function(t,s){return s instanceof wr&&t.op===s.op&&t.filters.length===s.filters.length&&t.filters.reduce((u,d,m)=>u&&kc(d,s.filters[m]),!0)}(r,e):void tn();var t,s}function Ch(r,e){const t=r.filters.concat(e);return wr.create(t,r.op)}function Sh(r){return r instanceof Pn?`${(e=r).field.canonicalString()} ${e.op} ${ve(e.value)}`:r instanceof wr?function(e){return e.op.toString()+" {"+e.getFilters().map(Sh).join(" ,")+"}"}(r):"Filter";var e}class ac extends Pn{constructor(e,t,s){super(e,t,s),this.key=Zt.fromName(s.referenceValue)}matches(e){const t=Zt.comparator(e.key,this.key);return this.matchesComparison(t)}}class Ou extends Pn{constructor(e,t){super(e,"in",t),this.keys=pp(0,t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class fp extends Pn{constructor(e,t){super(e,"not-in",t),this.keys=pp(0,t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function pp(r,e){var t;return((null===(t=e.arrayValue)||void 0===t?void 0:t.values)||[]).map(s=>Zt.fromName(s.referenceValue))}class fd extends Pn{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return fe(t)&&T(t.arrayValue,this.value)}}class Th extends Pn{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&T(this.value.arrayValue,t)}}class pd extends Pn{constructor(e,t){super(e,"not-in",t)}matches(e){if(T(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!T(this.value.arrayValue,t)}}class gp extends Pn{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!fe(t)||!t.arrayValue.values)&&t.arrayValue.values.some(s=>T(this.value.arrayValue,s))}}class uc{constructor(e,t="asc"){this.field=e,this.dir=t}}function mp(r,e){return r.dir===e.dir&&r.field.isEqual(e.field)}class wi{constructor(e,t){this.comparator=e,this.root=t||Gs.EMPTY}insert(e,t){return new wi(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Gs.BLACK,null,null))}remove(e){return new wi(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Gs.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const s=this.comparator(e,t.key);if(0===s)return t.value;s<0?t=t.left:s>0&&(t=t.right)}return null}indexOf(e){let t=0,s=this.root;for(;!s.isEmpty();){const u=this.comparator(e,s.key);if(0===u)return t+s.left.size;u<0?s=s.left:(t+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,s)=>(e(t,s),!1))}toString(){const e=[];return this.inorderTraversal((t,s)=>(e.push(`${t}:${s}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Pc(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Pc(this.root,e,this.comparator,!1)}getReverseIterator(){return new Pc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Pc(this.root,e,this.comparator,!0)}}class Pc{constructor(e,t,s,u){this.isReverse=u,this.nodeStack=[];let d=1;for(;!e.isEmpty();)if(d=t?s(e.key,t):1,t&&u&&(d*=-1),d<0)e=this.isReverse?e.left:e.right;else{if(0===d){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Gs{constructor(e,t,s,u,d){this.key=e,this.value=t,this.color=null!=s?s:Gs.RED,this.left=null!=u?u:Gs.EMPTY,this.right=null!=d?d:Gs.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,s,u,d){return new Gs(null!=e?e:this.key,null!=t?t:this.value,null!=s?s:this.color,null!=u?u:this.left,null!=d?d:this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,s){let u=this;const d=s(e,u.key);return u=d<0?u.copy(null,null,null,u.left.insert(e,t,s),null):0===d?u.copy(null,t,null,null,null):u.copy(null,null,null,null,u.right.insert(e,t,s)),u.fixUp()}removeMin(){if(this.left.isEmpty())return Gs.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let s,u=this;if(t(e,u.key)<0)u.left.isEmpty()||u.left.isRed()||u.left.left.isRed()||(u=u.moveRedLeft()),u=u.copy(null,null,null,u.left.remove(e,t),null);else{if(u.left.isRed()&&(u=u.rotateRight()),u.right.isEmpty()||u.right.isRed()||u.right.left.isRed()||(u=u.moveRedRight()),0===t(e,u.key)){if(u.right.isEmpty())return Gs.EMPTY;s=u.right.min(),u=u.copy(s.key,s.value,null,null,u.right.removeMin())}u=u.copy(null,null,null,null,u.right.remove(e,t))}return u.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Gs.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Gs.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw tn();const e=this.left.check();if(e!==this.right.check())throw tn();return e+(this.isRed()?0:1)}}Gs.EMPTY=null,Gs.RED=!0,Gs.BLACK=!1,Gs.EMPTY=new class{constructor(){this.size=0}get key(){throw tn()}get value(){throw tn()}get color(){throw tn()}get left(){throw tn()}get right(){throw tn()}copy(r,e,t,s,u){return this}insert(r,e,t){return new Gs(r,e)}remove(r,e){return this}isEmpty(){return!0}inorderTraversal(r){return!1}reverseTraversal(r){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class ri{constructor(e){this.comparator=e,this.data=new wi(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,s)=>(e(t),!1))}forEachInRange(e,t){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const u=s.getNext();if(this.comparator(u.key,e[1])>=0)return;t(u.key)}}forEachWhile(e,t){let s;for(s=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new yp(this.data.getIterator())}getIteratorFrom(e){return new yp(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(s=>{t=t.add(s)}),t}isEqual(e){if(!(e instanceof ri)||this.size!==e.size)return!1;const t=this.data.getIterator(),s=e.data.getIterator();for(;t.hasNext();){const u=t.getNext().key,d=s.getNext().key;if(0!==this.comparator(u,d))return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new ri(this.comparator);return t.data=e,t}}class yp{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function ja(r){return r.hasNext()?r.getNext():void 0}class No{constructor(e){this.fields=e,e.sort(qr.comparator)}static empty(){return new No([])}unionWith(e){let t=new ri(qr.comparator);for(const s of this.fields)t=t.add(s);for(const s of e)t=t.add(s);return new No(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Ms(this.fields,e.fields,(t,s)=>t.isEqual(s))}}class vs{constructor(e){this.value=e}static empty(){return new vs({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let s=0;s<e.length-1;++s)if(t=(t.mapValue.fields||{})[e.get(s)],!_t(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Ht(t)}setAll(e){let t=qr.emptyPath(),s={},u=[];e.forEach((m,C)=>{if(!t.isImmediateParentOf(C)){const L=this.getFieldsMap(t);this.applyChanges(L,s,u),s={},u=[],t=C.popLast()}m?s[C.lastSegment()]=Ht(m):u.push(C.lastSegment())});const d=this.getFieldsMap(t);this.applyChanges(d,s,u)}delete(e){const t=this.field(e.popLast());_t(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return v(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let s=0;s<e.length;++s){let u=t.mapValue.fields[e.get(s)];_t(u)&&u.mapValue.fields||(u={mapValue:{fields:{}}},t.mapValue.fields[e.get(s)]=u),t=u}return t.mapValue.fields}applyChanges(e,t,s){io(t,(u,d)=>e[u]=d);for(const u of s)delete e[u]}clone(){return new vs(Ht(this.value))}}function Ah(r){const e=[];return io(r.fields,(t,s)=>{const u=new qr([t]);if(_t(s)){const d=Ah(s.mapValue).fields;if(0===d.length)e.push(u);else for(const m of d)e.push(u.child(m))}else e.push(u)}),new No(e)}class yi{constructor(e,t,s,u,d,m,C){this.key=e,this.documentType=t,this.version=s,this.readTime=u,this.createTime=d,this.data=m,this.documentState=C}static newInvalidDocument(e){return new yi(e,0,ln.min(),ln.min(),ln.min(),vs.empty(),0)}static newFoundDocument(e,t,s,u){return new yi(e,1,t,ln.min(),s,u,0)}static newNoDocument(e,t){return new yi(e,2,t,ln.min(),ln.min(),vs.empty(),0)}static newUnknownDocument(e,t){return new yi(e,3,t,ln.min(),ln.min(),vs.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(ln.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=vs.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=vs.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=ln.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof yi&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new yi(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class gl{constructor(e,t=null,s=[],u=[],d=null,m=null,C=null){this.path=e,this.collectionGroup=t,this.orderBy=s,this.filters=u,this.limit=d,this.startAt=m,this.endAt=C,this.ft=null}}function cc(r,e=null,t=[],s=[],u=null,d=null,m=null){return new gl(r,e,t,s,u,d,m)}function Wo(r){const e=Yt(r);if(null===e.ft){let t=e.path.canonicalString();null!==e.collectionGroup&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(s=>Ru(s)).join(","),t+="|ob:",t+=e.orderBy.map(s=>{return(u=s).field.canonicalString()+u.dir;var u}).join(","),xa(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(s=>ve(s)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(s=>ve(s)).join(",")),e.ft=t}return e.ft}function Nc(r,e){if(r.limit!==e.limit||r.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<r.orderBy.length;t++)if(!mp(r.orderBy[t],e.orderBy[t]))return!1;if(r.filters.length!==e.filters.length)return!1;for(let t=0;t<r.filters.length;t++)if(!kc(r.filters[t],e.filters[t]))return!1;return r.collectionGroup===e.collectionGroup&&!!r.path.isEqual(e.path)&&!!uu(r.startAt,e.startAt)&&uu(r.endAt,e.endAt)}function ml(r){return Zt.isDocumentKey(r.path)&&null===r.collectionGroup&&0===r.filters.length}function gd(r,e){return r.filters.filter(t=>t instanceof Pn&&t.field.isEqual(e))}function ku(r,e,t){let s=I,u=!0;for(const d of gd(r,e)){let m=I,C=!0;switch(d.op){case"<":case"<=":m=fn(d.value);break;case"==":case"in":case">=":m=d.value;break;case">":m=d.value,C=!1;break;case"!=":case"not-in":m=I}Sn({value:s,inclusive:u},{value:m,inclusive:C})<0&&(s=m,u=C)}if(null!==t)for(let d=0;d<r.orderBy.length;++d)if(r.orderBy[d].field.isEqual(e)){const m=t.position[d];Sn({value:s,inclusive:u},{value:m,inclusive:t.inclusive})<0&&(s=m,u=t.inclusive);break}return{value:s,inclusive:u}}function yl(r,e,t){let s=aa,u=!0;for(const d of gd(r,e)){let m=aa,C=!0;switch(d.op){case">=":case">":m=Hn(d.value),C=!1;break;case"==":case"in":case"<=":m=d.value;break;case"<":m=d.value,C=!1;break;case"!=":case"not-in":m=aa}Hi({value:s,inclusive:u},{value:m,inclusive:C})>0&&(s=m,u=C)}if(null!==t)for(let d=0;d<r.orderBy.length;++d)if(r.orderBy[d].field.isEqual(e)){const m=t.position[d];Hi({value:s,inclusive:u},{value:m,inclusive:t.inclusive})>0&&(s=m,u=t.inclusive);break}return{value:s,inclusive:u}}class qo{constructor(e,t=null,s=[],u=[],d=null,m="F",C=null,L=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=s,this.filters=u,this.limit=d,this.limitType=m,this.startAt=C,this.endAt=L,this.dt=null,this._t=null}}function md(r,e,t,s,u,d,m,C){return new qo(r,e,t,s,u,d,m,C)}function cu(r){return new qo(r)}function yd(r){return 0===r.filters.length&&null===r.limit&&null==r.startAt&&null==r.endAt&&(0===r.explicitOrderBy.length||1===r.explicitOrderBy.length&&r.explicitOrderBy[0].field.isKeyField())}function Fc(r){return r.explicitOrderBy.length>0?r.explicitOrderBy[0].field:null}function vl(r){for(const e of r.filters){const t=e.getFirstInequalityField();if(null!==t)return t}return null}function _l(r){return null!==r.collectionGroup}function lu(r){const e=Yt(r);if(null===e.dt){e.dt=[];const t=vl(e),s=Fc(e);if(null!==t&&null===s)t.isKeyField()||e.dt.push(new uc(t)),e.dt.push(new uc(qr.keyField(),"asc"));else{let u=!1;for(const d of e.explicitOrderBy)e.dt.push(d),d.field.isKeyField()&&(u=!0);if(!u){const d=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.dt.push(new uc(qr.keyField(),d))}}}return e.dt}function oo(r){const e=Yt(r);if(!e._t)if("F"===e.limitType)e._t=cc(e.path,e.collectionGroup,lu(e),e.filters,e.limit,e.startAt,e.endAt);else{const t=[];for(const d of lu(e))t.push(new uc(d.field,"desc"===d.dir?"asc":"desc"));const s=e.endAt?new yr(e.endAt.position,e.endAt.inclusive):null,u=e.startAt?new yr(e.startAt.position,e.startAt.inclusive):null;e._t=cc(e.path,e.collectionGroup,t,e.filters,e.limit,s,u)}return e._t}function Ma(r,e){e.getFirstInequalityField(),vl(r);const t=r.filters.concat([e]);return new qo(r.path,r.collectionGroup,r.explicitOrderBy.slice(),t,r.limit,r.limitType,r.startAt,r.endAt)}function du(r,e,t){return new qo(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),e,t,r.startAt,r.endAt)}function Lc(r,e){return Nc(oo(r),oo(e))&&r.limitType===e.limitType}function vp(r){return`${Wo(oo(r))}|lt:${r.limitType}`}function vd(r){return`Query(target=${function(e){let t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=`, filters: [${e.filters.map(s=>Sh(s)).join(", ")}]`),xa(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=`, orderBy: [${e.orderBy.map(s=>{return`${(u=s).field.canonicalString()} (${u.dir})`;var u}).join(", ")}]`),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(s=>ve(s)).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(s=>ve(s)).join(",")),`Target(${t})`}(oo(r))}; limitType=${r.limitType})`}function bl(r,e){return e.isFoundDocument()&&function(t,s){const u=s.key.path;return null!==t.collectionGroup?s.key.hasCollectionId(t.collectionGroup)&&t.path.isPrefixOf(u):Zt.isDocumentKey(t.path)?t.path.isEqual(u):t.path.isImmediateParentOf(u)}(r,e)&&function(t,s){for(const u of lu(t))if(!u.field.isKeyField()&&null===s.data.field(u.field))return!1;return!0}(r,e)&&function(t,s){for(const u of t.filters)if(!u.matches(s))return!1;return!0}(r,e)&&(s=e,!((t=r).startAt&&!function(u,d,m){const C=zo(u,d,m);return u.inclusive?C<=0:C<0}(t.startAt,lu(t),s)||t.endAt&&!function(u,d,m){const C=zo(u,d,m);return u.inclusive?C>=0:C>0}(t.endAt,lu(t),s)));var t,s}function Um(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}function Pu(r){return(e,t)=>{let s=!1;for(const u of lu(r)){const d=xh(u,e,t);if(0!==d)return d;s=s||u.field.isKeyField()}return 0}}function xh(r,e,t){const s=r.field.isKeyField()?Zt.comparator(e.key,t.key):function(u,d,m){const C=d.data.field(u),L=m.data.field(u);return null!==C&&null!==L?F(C,L):tn()}(r.field,e,t);switch(r.dir){case"asc":return s;case"desc":return-1*s;default:return tn()}}function Mh(r,e){if(r.wt){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:oa(e)?"-0":e}}function El(r){return{integerValue:""+r}}function Rh(r,e){return ic(e)?El(e):Mh(r,e)}class lc{constructor(){this._=void 0}}function _d(r,e,t){return r instanceof Nu?function(s,u){const d={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:s.seconds,nanos:s.nanoseconds}}}};return u&&(d.fields.__previous_value__=u),{mapValue:d}}(t,e):r instanceof fu?Vc(r,e):r instanceof dc?_p(r,e):function(s,u){const d=hu(s,u),m=Il(d)+Il(s.gt);return H(d)&&H(s.gt)?El(m):Mh(s.yt,m)}(r,e)}function Ha(r,e,t){return r instanceof fu?Vc(r,e):r instanceof dc?_p(r,e):t}function hu(r,e){return r instanceof Bc?H(t=e)||(s=t)&&"doubleValue"in s?e:{integerValue:0}:null;var s,t}class Nu extends lc{}class fu extends lc{constructor(e){super(),this.elements=e}}function Vc(r,e){const t=wl(e);for(const s of r.elements)t.some(u=>v(u,s))||t.push(s);return{arrayValue:{values:t}}}class dc extends lc{constructor(e){super(),this.elements=e}}function _p(r,e){let t=wl(e);for(const s of r.elements)t=t.filter(u=>!v(u,s));return{arrayValue:{values:t}}}class Bc extends lc{constructor(e,t){super(),this.yt=e,this.gt=t}}function Il(r){return Xr(r.integerValue||r.doubleValue)}function wl(r){return fe(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}class $c{constructor(e,t){this.field=e,this.transform=t}}class kh{constructor(e,t){this.version=e,this.transformResults=t}}class Oi{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Oi}static exists(e){return new Oi(void 0,e)}static updateTime(e){return new Oi(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function hc(r,e){return void 0!==r.updateTime?e.isFoundDocument()&&e.version.isEqual(r.updateTime):void 0===r.exists||r.exists===e.isFoundDocument()}class fc{}function Ph(r,e){if(!r.hasLocalMutations||e&&0===e.fields.length)return null;if(null===e)return r.isNoDocument()?new Fu(r.key,Oi.none()):new pc(r.key,r.data,Oi.none());{const t=r.data,s=vs.empty();let u=new ri(qr.comparator);for(let d of e.fields)if(!u.has(d)){let m=t.field(d);null===m&&d.length>1&&(d=d.popLast(),m=t.field(d)),null===m?s.delete(d):s.set(d,m),u=u.add(d)}return new ii(r.key,s,new No(u.toArray()),Oi.none())}}function Nh(r,e,t){r instanceof pc?function(s,u,d){const m=s.value.clone(),C=Lh(s.fieldTransforms,u,d.transformResults);m.setAll(C),u.convertToFoundDocument(d.version,m).setHasCommittedMutations()}(r,e,t):r instanceof ii?function(s,u,d){if(!hc(s.precondition,u))return void u.convertToUnknownDocument(d.version);const m=Lh(s.fieldTransforms,u,d.transformResults),C=u.data;C.setAll(Fh(s)),C.setAll(m),u.convertToFoundDocument(d.version,C).setHasCommittedMutations()}(r,e,t):e.convertToNoDocument(t.version).setHasCommittedMutations()}function ca(r,e,t,s){return r instanceof pc?function(u,d,m,C){if(!hc(u.precondition,d))return m;const L=u.value.clone(),G=Cl(u.fieldTransforms,C,d);return L.setAll(G),d.convertToFoundDocument(d.version,L).setHasLocalMutations(),null}(r,e,t,s):r instanceof ii?function(u,d,m,C){if(!hc(u.precondition,d))return m;const L=Cl(u.fieldTransforms,C,d),G=d.data;return G.setAll(Fh(u)),G.setAll(L),d.convertToFoundDocument(d.version,G).setHasLocalMutations(),null===m?null:m.unionWith(u.fieldMask.fields).unionWith(u.fieldTransforms.map(oe=>oe.field))}(r,e,t,s):(m=t,hc(r.precondition,d=e)?(d.convertToNoDocument(d.version).setHasLocalMutations(),null):m);var d,m}function bp(r,e){let t=null;for(const s of r.fieldTransforms){const u=e.data.field(s.field),d=hu(s.transform,u||null);null!=d&&(null===t&&(t=vs.empty()),t.set(s.field,d))}return t||null}function Dl(r,e){return r.type===e.type&&!!r.key.isEqual(e.key)&&!!r.precondition.isEqual(e.precondition)&&(s=e.fieldTransforms,!!(void 0===(t=r.fieldTransforms)&&void 0===s||t&&s&&Ms(t,s,(u,d)=>function Oh(r,e){return r.field.isEqual(e.field)&&(s=e.transform,(t=r.transform)instanceof fu&&s instanceof fu||t instanceof dc&&s instanceof dc?Ms(t.elements,s.elements,v):t instanceof Bc&&s instanceof Bc?v(t.gt,s.gt):t instanceof Nu&&s instanceof Nu);var t,s}(u,d))))&&(0===r.type?r.value.isEqual(e.value):1!==r.type||r.data.isEqual(e.data)&&r.fieldMask.isEqual(e.fieldMask));var t,s}class pc extends fc{constructor(e,t,s,u=[]){super(),this.key=e,this.value=t,this.precondition=s,this.fieldTransforms=u,this.type=0}getFieldMask(){return null}}class ii extends fc{constructor(e,t,s,u,d=[]){super(),this.key=e,this.data=t,this.fieldMask=s,this.precondition=u,this.fieldTransforms=d,this.type=1}getFieldMask(){return this.fieldMask}}function Fh(r){const e=new Map;return r.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const s=r.data.field(t);e.set(t,s)}}),e}function Lh(r,e,t){const s=new Map;dn(r.length===t.length);for(let u=0;u<t.length;u++){const d=r[u],m=d.transform,C=e.data.field(d.field);s.set(d.field,Ha(m,C,t[u]))}return s}function Cl(r,e,t){const s=new Map;for(const u of r){const d=u.transform,m=t.data.field(u.field);s.set(u.field,_d(d,m,e))}return s}class Fu extends fc{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Lu extends fc{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class Ep{constructor(e){this.count=e}}var Qi,Br;function Vh(r){switch(r){default:return tn();case vt.CANCELLED:case vt.UNKNOWN:case vt.DEADLINE_EXCEEDED:case vt.RESOURCE_EXHAUSTED:case vt.INTERNAL:case vt.UNAVAILABLE:case vt.UNAUTHENTICATED:return!1;case vt.INVALID_ARGUMENT:case vt.NOT_FOUND:case vt.ALREADY_EXISTS:case vt.PERMISSION_DENIED:case vt.FAILED_PRECONDITION:case vt.ABORTED:case vt.OUT_OF_RANGE:case vt.UNIMPLEMENTED:case vt.DATA_LOSS:return!0}}function Ip(r){if(void 0===r)return Zr("GRPC error has no .code"),vt.UNKNOWN;switch(r){case Qi.OK:return vt.OK;case Qi.CANCELLED:return vt.CANCELLED;case Qi.UNKNOWN:return vt.UNKNOWN;case Qi.DEADLINE_EXCEEDED:return vt.DEADLINE_EXCEEDED;case Qi.RESOURCE_EXHAUSTED:return vt.RESOURCE_EXHAUSTED;case Qi.INTERNAL:return vt.INTERNAL;case Qi.UNAVAILABLE:return vt.UNAVAILABLE;case Qi.UNAUTHENTICATED:return vt.UNAUTHENTICATED;case Qi.INVALID_ARGUMENT:return vt.INVALID_ARGUMENT;case Qi.NOT_FOUND:return vt.NOT_FOUND;case Qi.ALREADY_EXISTS:return vt.ALREADY_EXISTS;case Qi.PERMISSION_DENIED:return vt.PERMISSION_DENIED;case Qi.FAILED_PRECONDITION:return vt.FAILED_PRECONDITION;case Qi.ABORTED:return vt.ABORTED;case Qi.OUT_OF_RANGE:return vt.OUT_OF_RANGE;case Qi.UNIMPLEMENTED:return vt.UNIMPLEMENTED;case Qi.DATA_LOSS:return vt.DATA_LOSS;default:return tn()}}(Br=Qi||(Qi={}))[Br.OK=0]="OK",Br[Br.CANCELLED=1]="CANCELLED",Br[Br.UNKNOWN=2]="UNKNOWN",Br[Br.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Br[Br.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Br[Br.NOT_FOUND=5]="NOT_FOUND",Br[Br.ALREADY_EXISTS=6]="ALREADY_EXISTS",Br[Br.PERMISSION_DENIED=7]="PERMISSION_DENIED",Br[Br.UNAUTHENTICATED=16]="UNAUTHENTICATED",Br[Br.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Br[Br.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Br[Br.ABORTED=10]="ABORTED",Br[Br.OUT_OF_RANGE=11]="OUT_OF_RANGE",Br[Br.UNIMPLEMENTED=12]="UNIMPLEMENTED",Br[Br.INTERNAL=13]="INTERNAL",Br[Br.UNAVAILABLE=14]="UNAVAILABLE",Br[Br.DATA_LOSS=15]="DATA_LOSS";class Vu{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),s=this.inner[t];if(void 0!==s)for(const[u,d]of s)if(this.equalsFn(u,e))return d}has(e){return void 0!==this.get(e)}set(e,t){const s=this.mapKeyFn(e),u=this.inner[s];if(void 0===u)return this.inner[s]=[[e,t]],void this.innerSize++;for(let d=0;d<u.length;d++)if(this.equalsFn(u[d][0],e))return void(u[d]=[e,t]);u.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),s=this.inner[t];if(void 0===s)return!1;for(let u=0;u<s.length;u++)if(this.equalsFn(s[u][0],e))return 1===s.length?delete this.inner[t]:s.splice(u,1),this.innerSize--,!0;return!1}forEach(e){io(this.inner,(t,s)=>{for(const[u,d]of s)e(u,d)})}isEmpty(){return sa(this.inner)}size(){return this.innerSize}}const gc=new wi(Zt.comparator);function Os(){return gc}const Uc=new wi(Zt.comparator);function Bu(...r){let e=Uc;for(const t of r)e=e.insert(t.key,t);return e}function bd(r){let e=Uc;return r.forEach((t,s)=>e=e.insert(t,s.overlayedDocument)),e}function Yo(){return ks()}function Ed(){return ks()}function ks(){return new Vu(r=>r.toString(),(r,e)=>r.isEqual(e))}const $u=new wi(Zt.comparator),wp=new ri(Zt.comparator);function hr(...r){let e=wp;for(const t of r)e=e.add(t);return e}const jc=new ri(kn);function Uu(){return jc}class mc{constructor(e,t,s,u,d){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=s,this.documentUpdates=u,this.resolvedLimboDocuments=d}static createSynthesizedRemoteEventForCurrentChange(e,t,s){const u=new Map;return u.set(e,Ko.createSynthesizedTargetChangeForCurrentChange(e,t,s)),new mc(ln.min(),u,Uu(),Os(),hr())}}class Ko{constructor(e,t,s,u,d){this.resumeToken=e,this.current=t,this.addedDocuments=s,this.modifiedDocuments=u,this.removedDocuments=d}static createSynthesizedTargetChangeForCurrentChange(e,t,s){return new Ko(s,t,hr(),hr(),hr())}}class Sl{constructor(e,t,s,u){this.It=e,this.removedTargetIds=t,this.key=s,this.Tt=u}}class la{constructor(e,t){this.targetId=e,this.Et=t}}class yc{constructor(e,t,s=Vr.EMPTY_BYTE_STRING,u=null){this.state=e,this.targetIds=t,this.resumeToken=s,this.cause=u}}class Bh{constructor(){this.At=0,this.Rt=Ga(),this.bt=Vr.EMPTY_BYTE_STRING,this.Pt=!1,this.vt=!0}get current(){return this.Pt}get resumeToken(){return this.bt}get Vt(){return 0!==this.At}get St(){return this.vt}Dt(e){e.approximateByteSize()>0&&(this.vt=!0,this.bt=e)}Ct(){let e=hr(),t=hr(),s=hr();return this.Rt.forEach((u,d)=>{switch(d){case 0:e=e.add(u);break;case 2:t=t.add(u);break;case 1:s=s.add(u);break;default:tn()}}),new Ko(this.bt,this.Pt,e,t,s)}xt(){this.vt=!1,this.Rt=Ga()}Nt(e,t){this.vt=!0,this.Rt=this.Rt.insert(e,t)}kt(e){this.vt=!0,this.Rt=this.Rt.remove(e)}Ot(){this.At+=1}Mt(){this.At-=1}Ft(){this.vt=!0,this.Pt=!0}}class Id{constructor(e){this.$t=e,this.Bt=new Map,this.Lt=Os(),this.qt=Hc(),this.Ut=new ri(kn)}Kt(e){for(const t of e.It)e.Tt&&e.Tt.isFoundDocument()?this.Gt(t,e.Tt):this.Qt(t,e.key,e.Tt);for(const t of e.removedTargetIds)this.Qt(t,e.key,e.Tt)}jt(e){this.forEachTarget(e,t=>{const s=this.Wt(t);switch(e.state){case 0:this.zt(t)&&s.Dt(e.resumeToken);break;case 1:s.Mt(),s.Vt||s.xt(),s.Dt(e.resumeToken);break;case 2:s.Mt(),s.Vt||this.removeTarget(t);break;case 3:this.zt(t)&&(s.Ft(),s.Dt(e.resumeToken));break;case 4:this.zt(t)&&(this.Ht(t),s.Dt(e.resumeToken));break;default:tn()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Bt.forEach((s,u)=>{this.zt(u)&&t(u)})}Jt(e){const t=e.targetId,s=e.Et.count,u=this.Yt(t);if(u){const d=u.target;if(ml(d))if(0===s){const m=new Zt(d.path);this.Qt(t,m,yi.newNoDocument(m,ln.min()))}else dn(1===s);else this.Xt(t)!==s&&(this.Ht(t),this.Ut=this.Ut.add(t))}}Zt(e){const t=new Map;this.Bt.forEach((d,m)=>{const C=this.Yt(m);if(C){if(d.current&&ml(C.target)){const L=new Zt(C.target.path);null!==this.Lt.get(L)||this.te(m,L)||this.Qt(m,L,yi.newNoDocument(L,e))}d.St&&(t.set(m,d.Ct()),d.xt())}});let s=hr();this.qt.forEach((d,m)=>{let C=!0;m.forEachWhile(L=>{const G=this.Yt(L);return!G||2===G.purpose||(C=!1,!1)}),C&&(s=s.add(d))}),this.Lt.forEach((d,m)=>m.setReadTime(e));const u=new mc(e,t,this.Ut,this.Lt,s);return this.Lt=Os(),this.qt=Hc(),this.Ut=new ri(kn),u}Gt(e,t){if(!this.zt(e))return;const s=this.te(e,t.key)?2:0;this.Wt(e).Nt(t.key,s),this.Lt=this.Lt.insert(t.key,t),this.qt=this.qt.insert(t.key,this.ee(t.key).add(e))}Qt(e,t,s){if(!this.zt(e))return;const u=this.Wt(e);this.te(e,t)?u.Nt(t,1):u.kt(t),this.qt=this.qt.insert(t,this.ee(t).delete(e)),s&&(this.Lt=this.Lt.insert(t,s))}removeTarget(e){this.Bt.delete(e)}Xt(e){const t=this.Wt(e).Ct();return this.$t.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ot(e){this.Wt(e).Ot()}Wt(e){let t=this.Bt.get(e);return t||(t=new Bh,this.Bt.set(e,t)),t}ee(e){let t=this.qt.get(e);return t||(t=new ri(kn),this.qt=this.qt.insert(e,t)),t}zt(e){const t=null!==this.Yt(e);return t||Nt("WatchChangeAggregator","Detected inactive target",e),t}Yt(e){const t=this.Bt.get(e);return t&&t.Vt?null:this.$t.ne(e)}Ht(e){this.Bt.set(e,new Bh),this.$t.getRemoteKeysForTarget(e).forEach(t=>{this.Qt(e,t,null)})}te(e,t){return this.$t.getRemoteKeysForTarget(e).has(t)}}function Hc(){return new wi(Zt.comparator)}function Ga(){return new wi(Zt.comparator)}const ao={asc:"ASCENDING",desc:"DESCENDING"},Gc={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},wd={and:"AND",or:"OR"};class Dp{constructor(e,t){this.databaseId=e,this.wt=t}}function uo(r,e){return r.wt?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function da(r,e){return r.wt?e.toBase64():e.toUint8Array()}function $h(r,e){return uo(r,e.toTimestamp())}function Gi(r){return dn(!!r),ln.fromTimestamp(function(e){const t=ys(e);return new Gr(t.seconds,t.nanos)}(r))}function Dd(r,e){return(t=r,new Tr(["projects",t.projectId,"databases",t.database])).child("documents").child(e).canonicalString();var t}function Tl(r){const e=Tr.fromString(r);return dn(Wc(e)),e}function ju(r,e){return Dd(r.databaseId,e.path)}function Ra(r,e){const t=Tl(e);if(t.get(1)!==r.databaseId.projectId)throw new Tt(vt.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+r.databaseId.projectId);if(t.get(3)!==r.databaseId.database)throw new Tt(vt.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+r.databaseId.database);return new Zt(h(t))}function Al(r,e){return Dd(r.databaseId,e)}function Uh(r){const e=Tl(r);return 4===e.length?Tr.emptyPath():h(e)}function _(r){return new Tr(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function h(r){return dn(r.length>4&&"documents"===r.get(4)),r.popFirst(5)}function g(r,e,t){return{name:ju(r,e),fields:t.value.mapValue.fields}}function D(r,e,t){const s=Ra(r,e.name),u=Gi(e.updateTime),d=e.createTime?Gi(e.createTime):ln.min(),m=new vs({mapValue:{fields:e.fields}}),C=yi.newFoundDocument(s,u,d,m);return t&&C.setHasCommittedMutations(),t?C.setHasCommittedMutations():C}function Ye(r,e){let t;if(e instanceof pc)t={update:g(r,e.key,e.value)};else if(e instanceof Fu)t={delete:ju(r,e.key)};else if(e instanceof ii)t={update:g(r,e.key,e.data),updateMask:Cp(e.fieldMask)};else{if(!(e instanceof Lu))return tn();t={verify:ju(r,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(s=>function(u,d){const m=d.transform;if(m instanceof Nu)return{fieldPath:d.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(m instanceof fu)return{fieldPath:d.field.canonicalString(),appendMissingElements:{values:m.elements}};if(m instanceof dc)return{fieldPath:d.field.canonicalString(),removeAllFromArray:{values:m.elements}};if(m instanceof Bc)return{fieldPath:d.field.canonicalString(),increment:m.gt};throw tn()}(0,s))),e.precondition.isNone||(t.currentDocument=void 0!==(u=e.precondition).updateTime?{updateTime:$h(r,u.updateTime)}:void 0!==u.exists?{exists:u.exists}:tn()),t;var u}function It(r,e){const t=e.currentDocument?void 0!==(u=e.currentDocument).updateTime?Oi.updateTime(Gi(u.updateTime)):void 0!==u.exists?Oi.exists(u.exists):Oi.none():Oi.none(),s=e.updateTransforms?e.updateTransforms.map(u=>function(d,m){let C=null;"setToServerValue"in m?(dn("REQUEST_TIME"===m.setToServerValue),C=new Nu):"appendMissingElements"in m?C=new fu(m.appendMissingElements.values||[]):"removeAllFromArray"in m?C=new dc(m.removeAllFromArray.values||[]):"increment"in m?C=new Bc(d,m.increment):tn();const L=qr.fromServerFormat(m.fieldPath);return new $c(L,C)}(r,u)):[];var u;if(e.update){const u=Ra(r,e.update.name),d=new vs({mapValue:{fields:e.update.fields}});if(e.updateMask){const m=new No((e.updateMask.fieldPaths||[]).map(G=>qr.fromServerFormat(G)));return new ii(u,d,m,t,s)}return new pc(u,d,t,s)}if(e.delete){const u=Ra(r,e.delete);return new Fu(u,t)}if(e.verify){const u=Ra(r,e.verify);return new Lu(u,t)}return tn()}function un(r,e){return{documents:[Al(r,e.path)]}}function Fn(r,e){const t={structuredQuery:{}},s=e.path;null!==e.collectionGroup?(t.parent=Al(r,s),t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(t.parent=Al(r,s.popLast()),t.structuredQuery.from=[{collectionId:s.lastSegment()}]);const u=function(L){if(0!==L.length)return Sd(wr.create(L,"and"))}(e.filters);u&&(t.structuredQuery.where=u);const d=function(L){if(0!==L.length)return L.map(G=>{return{field:Hu((oe=G).field),direction:zc(oe.dir)};var oe})}(e.orderBy);d&&(t.structuredQuery.orderBy=d);const m=(G=e.limit,r.wt||xa(G)?G:{value:G});var G,C,L;return null!==m&&(t.structuredQuery.limit=m),e.startAt&&(t.structuredQuery.startAt={before:(C=e.startAt).inclusive,values:C.position}),e.endAt&&(t.structuredQuery.endAt={before:!(L=e.endAt).inclusive,values:L.position}),t}function Rn(r){let e=Uh(r.parent);const t=r.structuredQuery,s=t.from?t.from.length:0;let u=null;if(s>0){dn(1===s);const oe=t.from[0];oe.allDescendants?u=oe.collectionId:e=e.child(oe.collectionId)}let d=[];t.where&&(d=function(oe){const xe=Fo(oe);return xe instanceof wr&&Oc(xe)?xe.getFilters():[xe]}(t.where));let m=[];t.orderBy&&(m=t.orderBy.map(oe=>{return new uc(za((xe=oe).field),function(at){switch(at){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(xe.direction));var xe}));let C=null;t.limit&&(C=function(oe){let xe;return xe="object"==typeof oe?oe.value:oe,xa(xe)?null:xe}(t.limit));let L=null;var oe;t.startAt&&(L=new yr((oe=t.startAt).values||[],!!oe.before));let G=null;return t.endAt&&(G=function(oe){return new yr(oe.values||[],!oe.before)}(t.endAt)),md(e,u,m,d,C,"F",L,G)}function Fo(r){return void 0!==r.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":const t=za(e.unaryFilter.field);return Pn.create(t,"==",{doubleValue:NaN});case"IS_NULL":const s=za(e.unaryFilter.field);return Pn.create(s,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const u=za(e.unaryFilter.field);return Pn.create(u,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const d=za(e.unaryFilter.field);return Pn.create(d,"!=",{nullValue:"NULL_VALUE"});default:return tn()}}(r):void 0!==r.fieldFilter?Pn.create(za((e=r).fieldFilter.field),function(t){switch(t){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return tn()}}(e.fieldFilter.op),e.fieldFilter.value):void 0!==r.compositeFilter?function(e){return wr.create(e.compositeFilter.filters.map(t=>Fo(t)),function(t){switch(t){case"AND":return"and";case"OR":return"or";default:return tn()}}(e.compositeFilter.op))}(r):tn();var e}function zc(r){return ao[r]}function xl(r){return Gc[r]}function Cd(r){return wd[r]}function Hu(r){return{fieldPath:r.canonicalString()}}function za(r){return qr.fromServerFormat(r.fieldPath)}function Sd(r){return r instanceof Pn?function(e){if("=="===e.op){if(qe(e.value))return{unaryFilter:{field:Hu(e.field),op:"IS_NAN"}};if(Ae(e.value))return{unaryFilter:{field:Hu(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(qe(e.value))return{unaryFilter:{field:Hu(e.field),op:"IS_NOT_NAN"}};if(Ae(e.value))return{unaryFilter:{field:Hu(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Hu(e.field),op:xl(e.op),value:e.value}}}(r):r instanceof wr?function(e){const t=e.getFilters().map(s=>Sd(s));return 1===t.length?t[0]:{compositeFilter:{op:Cd(e.op),filters:t}}}(r):tn()}function Cp(r){const e=[];return r.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function Wc(r){return r.length>=4&&"projects"===r.get(0)&&"databases"===r.get(2)}function Qs(r){let e="";for(let t=0;t<r.length;t++)e.length>0&&(e=Tp(e)),e=Sp(r.get(t),e);return Tp(e)}function Sp(r,e){let t=e;const s=r.length;for(let u=0;u<s;u++){const d=r.charAt(u);switch(d){case"\0":t+="\x01\x10";break;case"\x01":t+="\x01\x11";break;default:t+=d}}return t}function Tp(r){return r+"\x01\x01"}function ha(r){const e=r.length;if(dn(e>=2),2===e)return dn("\x01"===r.charAt(0)&&"\x01"===r.charAt(1)),Tr.emptyPath();const t=e-2,s=[];let u="";for(let d=0;d<e;){const m=r.indexOf("\x01",d);switch((m<0||m>t)&&tn(),r.charAt(m+1)){case"\x01":const C=r.substring(d,m);let L;0===u.length?L=C:(u+=C,L=u,u=""),s.push(L);break;case"\x10":u+=r.substring(d,m),u+="\0";break;case"\x11":u+=r.substring(d,m+1);break;default:tn()}d=m+2}return new Tr(s)}const Ap=["userId","batchId"];function jh(r,e){return[r,Qs(e)]}function xp(r,e,t){return[r,Qs(e),t]}const Mp={},jm=["prefixPath","collectionGroup","readTime","documentId"],Hm=["prefixPath","collectionGroup","documentId"],Gm=["collectionGroup","readTime","prefixPath","documentId"],Rp=["canonicalId","targetId"],P_=["targetId","path"],Op=["path","targetId"],Td=["collectionId","parent"],N_=["indexId","uid"],F_=["uid","sequenceNumber"],L_=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],zm=["indexId","uid","orderedDocumentKey"],V_=["userId","collectionPath","documentId"],B_=["userId","collectionPath","largestBatchId"],$_=["userId","collectionGroup","largestBatchId"],Wm=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],kp=[...Wm,"documentOverlays"],qm=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],Ym=qm,U_=[...Ym,"indexConfiguration","indexState","indexEntries"];class Hh extends fl{constructor(e,t){super(),this.se=e,this.currentSequenceNumber=t}}function Js(r,e){const t=Yt(r);return js.M(t.se,e)}class Pp{constructor(e,t,s,u){this.batchId=e,this.localWriteTime=t,this.baseMutations=s,this.mutations=u}applyToRemoteDocument(e,t){const s=t.mutationResults;for(let u=0;u<this.mutations.length;u++){const d=this.mutations[u];d.key.isEqual(e.key)&&Nh(d,e,s[u])}}applyToLocalView(e,t){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(t=ca(s,e,t,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(t=ca(s,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const s=Ed();return this.mutations.forEach(u=>{const d=e.get(u.key),m=d.overlayedDocument;let C=this.applyToLocalView(m,d.mutatedFields);C=t.has(u.key)?null:C;const L=Ph(m,C);null!==L&&s.set(u.key,L),m.isValidDocument()||m.convertToNoDocument(ln.min())}),s}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),hr())}isEqual(e){return this.batchId===e.batchId&&Ms(this.mutations,e.mutations,(t,s)=>Dl(t,s))&&Ms(this.baseMutations,e.baseMutations,(t,s)=>Dl(t,s))}}class co{constructor(e,t,s,u){this.batch=e,this.commitVersion=t,this.mutationResults=s,this.docVersions=u}static from(e,t,s){dn(e.mutations.length===s.length);let u=$u;const d=e.mutations;for(let m=0;m<d.length;m++)u=u.insert(d[m].key,s[m].version);return new co(e,t,s,u)}}class Ad{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class Gu{constructor(e,t,s,u,d=ln.min(),m=ln.min(),C=Vr.EMPTY_BYTE_STRING){this.target=e,this.targetId=t,this.purpose=s,this.sequenceNumber=u,this.snapshotVersion=d,this.lastLimboFreeSnapshotVersion=m,this.resumeToken=C}withSequenceNumber(e){return new Gu(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}withResumeToken(e,t){return new Gu(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e)}withLastLimboFreeSnapshotVersion(e){return new Gu(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken)}}class Gh{constructor(e){this.ie=e}}function Ml(r,e){const t=e.key,s={prefixPath:t.getCollectionPath().popLast().toArray(),collectionGroup:t.collectionGroup,documentId:t.path.lastSegment(),readTime:xd(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())s.document={name:ju(u=r.ie,(d=e).key),fields:d.data.value.mapValue.fields,updateTime:uo(u,d.version.toTimestamp()),createTime:uo(u,d.createTime.toTimestamp())};else if(e.isNoDocument())s.noDocument={path:t.path.toArray(),readTime:qc(e.version)};else{if(!e.isUnknownDocument())return tn();s.unknownDocument={path:t.path.toArray(),version:qc(e.version)}}var u,d;return s}function xd(r){const e=r.toTimestamp();return[e.seconds,e.nanoseconds]}function qc(r){const e=r.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function Yc(r){const e=new Gr(r.seconds,r.nanoseconds);return ln.fromTimestamp(e)}function vc(r,e){const t=(e.baseMutations||[]).map(d=>It(r.ie,d));for(let d=0;d<e.mutations.length-1;++d){const m=e.mutations[d];d+1<e.mutations.length&&void 0!==e.mutations[d+1].transform&&(m.updateTransforms=e.mutations[d+1].transform.fieldTransforms,e.mutations.splice(d+1,1),++d)}const s=e.mutations.map(d=>It(r.ie,d)),u=Gr.fromMillis(e.localWriteTimeMs);return new Pp(e.batchId,u,t,s)}function Md(r){const e=Yc(r.readTime),t=void 0!==r.lastLimboFreeSnapshotVersion?Yc(r.lastLimboFreeSnapshotVersion):ln.min();let s;var u;return void 0!==r.query.documents?(dn(1===(u=r.query).documents.length),s=oo(cu(Uh(u.documents[0])))):s=oo(Rn(r.query)),new Gu(s,r.targetId,0,r.lastListenSequenceNumber,e,t,Vr.fromBase64String(r.resumeToken))}function Np(r,e){const t=qc(e.snapshotVersion),s=qc(e.lastLimboFreeSnapshotVersion);let u;u=ml(e.target)?un(r.ie,e.target):Fn(r.ie,e.target);const d=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:Wo(e.target),readTime:t,resumeToken:d,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:s,query:u}}function Fp(r){const e=Rn({parent:r.parent,structuredQuery:r.structuredQuery});return"LAST"===r.limitType?du(e,e.limit,"L"):e}function zh(r,e){return new Ad(e.largestBatchId,It(r.ie,e.overlayMutation))}function Km(r,e){const t=e.path.lastSegment();return[r,Qs(e.path.popLast()),t]}function Zm(r,e,t,s){return{indexId:r,uid:e.uid||"",sequenceNumber:t,readTime:qc(s.readTime),documentKey:Qs(s.documentKey.path),largestBatchId:s.largestBatchId}}class j_{getBundleMetadata(e,t){return Xm(e).get(t).next(s=>{if(s)return{id:(u=s).bundleId,createTime:Yc(u.createTime),version:u.version};var u})}saveBundleMetadata(e,t){return Xm(e).put({bundleId:(s=t).id,createTime:qc(Gi(s.createTime)),version:s.version});var s}getNamedQuery(e,t){return Qm(e).get(t).next(s=>{if(s)return{name:(u=s).name,query:Fp(u.bundledQuery),readTime:Yc(u.readTime)};var u})}saveNamedQuery(e,t){return Qm(e).put({name:(s=t).name,readTime:qc(Gi(s.readTime)),bundledQuery:s.bundledQuery});var s}}function Xm(r){return Js(r,"bundles")}function Qm(r){return Js(r,"namedQueries")}class zu{constructor(e,t){this.yt=e,this.userId=t}static re(e,t){return new zu(e,t.uid||"")}getOverlay(e,t){return fa(e).get(Km(this.userId,t)).next(s=>s?zh(this.yt,s):null)}getOverlays(e,t){const s=Yo();return gt.forEach(t,u=>this.getOverlay(e,u).next(d=>{null!==d&&s.set(u,d)})).next(()=>s)}saveOverlays(e,t,s){const u=[];return s.forEach((d,m)=>{const C=new Ad(t,m);u.push(this.oe(e,C))}),gt.waitFor(u)}removeOverlaysForBatchId(e,t,s){const u=new Set;t.forEach(m=>u.add(Qs(m.getCollectionPath())));const d=[];return u.forEach(m=>{const C=IDBKeyRange.bound([this.userId,m,s],[this.userId,m,s+1],!1,!0);d.push(fa(e).Y("collectionPathOverlayIndex",C))}),gt.waitFor(d)}getOverlaysForCollection(e,t,s){const u=Yo(),d=Qs(t),m=IDBKeyRange.bound([this.userId,d,s],[this.userId,d,Number.POSITIVE_INFINITY],!0);return fa(e).W("collectionPathOverlayIndex",m).next(C=>{for(const L of C){const G=zh(this.yt,L);u.set(G.getKey(),G)}return u})}getOverlaysForCollectionGroup(e,t,s,u){const d=Yo();let m;const C=IDBKeyRange.bound([this.userId,t,s],[this.userId,t,Number.POSITIVE_INFINITY],!0);return fa(e).Z({index:"collectionGroupOverlayIndex",range:C},(L,G,oe)=>{const xe=zh(this.yt,G);d.size()<u||xe.largestBatchId===m?(d.set(xe.getKey(),xe),m=xe.largestBatchId):oe.done()}).next(()=>d)}oe(e,t){return fa(e).put(function(s,u,d){const[m,C,L]=Km(u,d.mutation.key);return{userId:u,collectionPath:C,documentId:L,collectionGroup:d.mutation.key.getCollectionGroup(),largestBatchId:d.largestBatchId,overlayMutation:Ye(s.ie,d.mutation)}}(this.yt,this.userId,t))}}function fa(r){return Js(r,"documentOverlays")}class Kc{constructor(){}ue(e,t){this.ce(e,t),t.ae()}ce(e,t){if("nullValue"in e)this.he(t,5);else if("booleanValue"in e)this.he(t,10),t.le(e.booleanValue?1:0);else if("integerValue"in e)this.he(t,15),t.le(Xr(e.integerValue));else if("doubleValue"in e){const s=Xr(e.doubleValue);isNaN(s)?this.he(t,13):(this.he(t,15),oa(s)?t.le(0):t.le(s))}else if("timestampValue"in e){const s=e.timestampValue;this.he(t,20),"string"==typeof s?t.fe(s):(t.fe(`${s.seconds||""}`),t.le(s.nanos||0))}else if("stringValue"in e)this.de(e.stringValue,t),this._e(t);else if("bytesValue"in e)this.he(t,30),t.we(so(e.bytesValue)),this._e(t);else if("referenceValue"in e)this.me(e.referenceValue,t);else if("geoPointValue"in e){const s=e.geoPointValue;this.he(t,45),t.le(s.latitude||0),t.le(s.longitude||0)}else"mapValue"in e?Vt(e)?this.he(t,Number.MAX_SAFE_INTEGER):(this.ge(e.mapValue,t),this._e(t)):"arrayValue"in e?(this.ye(e.arrayValue,t),this._e(t)):tn()}de(e,t){this.he(t,25),this.pe(e,t)}pe(e,t){t.fe(e)}ge(e,t){const s=e.fields||{};this.he(t,55);for(const u of Object.keys(s))this.de(u,t),this.ce(s[u],t)}ye(e,t){const s=e.values||[];this.he(t,50);for(const u of s)this.ce(u,t)}me(e,t){this.he(t,37),Zt.fromName(e).path.forEach(s=>{this.he(t,60),this.pe(s,t)})}he(e,t){e.le(t)}_e(e){e.le(2)}}function H_(r){if(0===r)return 8;let e=0;return r>>4==0&&(e+=4,r<<=4),r>>6==0&&(e+=2,r<<=2),r>>7==0&&(e+=1),e}function G_(r){const e=64-function(t){let s=0;for(let u=0;u<8;++u){const d=H_(255&t[u]);if(s+=d,8!==d)break}return s}(r);return Math.ceil(e/8)}Kc.Ie=new Kc;class aE{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Te(e){const t=e[Symbol.iterator]();let s=t.next();for(;!s.done;)this.Ee(s.value),s=t.next();this.Ae()}Re(e){const t=e[Symbol.iterator]();let s=t.next();for(;!s.done;)this.be(s.value),s=t.next();this.Pe()}ve(e){for(const t of e){const s=t.charCodeAt(0);if(s<128)this.Ee(s);else if(s<2048)this.Ee(960|s>>>6),this.Ee(128|63&s);else if(t<"\ud800"||"\udbff"<t)this.Ee(480|s>>>12),this.Ee(128|63&s>>>6),this.Ee(128|63&s);else{const u=t.codePointAt(0);this.Ee(240|u>>>18),this.Ee(128|63&u>>>12),this.Ee(128|63&u>>>6),this.Ee(128|63&u)}}this.Ae()}Ve(e){for(const t of e){const s=t.charCodeAt(0);if(s<128)this.be(s);else if(s<2048)this.be(960|s>>>6),this.be(128|63&s);else if(t<"\ud800"||"\udbff"<t)this.be(480|s>>>12),this.be(128|63&s>>>6),this.be(128|63&s);else{const u=t.codePointAt(0);this.be(240|u>>>18),this.be(128|63&u>>>12),this.be(128|63&u>>>6),this.be(128|63&u)}}this.Pe()}Se(e){const t=this.De(e),s=G_(t);this.Ce(1+s),this.buffer[this.position++]=255&s;for(let u=t.length-s;u<t.length;++u)this.buffer[this.position++]=255&t[u]}xe(e){const t=this.De(e),s=G_(t);this.Ce(1+s),this.buffer[this.position++]=~(255&s);for(let u=t.length-s;u<t.length;++u)this.buffer[this.position++]=~(255&t[u])}Ne(){this.ke(255),this.ke(255)}Oe(){this.Me(255),this.Me(255)}reset(){this.position=0}seed(e){this.Ce(e.length),this.buffer.set(e,this.position),this.position+=e.length}Fe(){return this.buffer.slice(0,this.position)}De(e){const t=function(u){const d=new DataView(new ArrayBuffer(8));return d.setFloat64(0,u,!1),new Uint8Array(d.buffer)}(e),s=0!=(128&t[0]);t[0]^=s?255:128;for(let u=1;u<t.length;++u)t[u]^=s?255:0;return t}Ee(e){const t=255&e;0===t?(this.ke(0),this.ke(255)):255===t?(this.ke(255),this.ke(0)):this.ke(t)}be(e){const t=255&e;0===t?(this.Me(0),this.Me(255)):255===t?(this.Me(255),this.Me(0)):this.Me(e)}Ae(){this.ke(0),this.ke(1)}Pe(){this.Me(0),this.Me(1)}ke(e){this.Ce(1),this.buffer[this.position++]=e}Me(e){this.Ce(1),this.buffer[this.position++]=~e}Ce(e){const t=e+this.position;if(t<=this.buffer.length)return;let s=2*this.buffer.length;s<t&&(s=t);const u=new Uint8Array(s);u.set(this.buffer),this.buffer=u}}class Jm{constructor(e){this.$e=e}we(e){this.$e.Te(e)}fe(e){this.$e.ve(e)}le(e){this.$e.Se(e)}ae(){this.$e.Ne()}}class uE{constructor(e){this.$e=e}we(e){this.$e.Re(e)}fe(e){this.$e.Ve(e)}le(e){this.$e.xe(e)}ae(){this.$e.Oe()}}class Zo{constructor(){this.$e=new aE,this.Be=new Jm(this.$e),this.Le=new uE(this.$e)}seed(e){this.$e.seed(e)}qe(e){return 0===e?this.Be:this.Le}Fe(){return this.$e.Fe()}reset(){this.$e.reset()}}class Wu{constructor(e,t,s,u){this.indexId=e,this.documentKey=t,this.arrayValue=s,this.directionalValue=u}Ue(){const e=this.directionalValue.length,t=0===e||255===this.directionalValue[e-1]?e+1:e,s=new Uint8Array(t);return s.set(this.directionalValue,0),t!==e?s.set([0],this.directionalValue.length):++s[s.length-1],new Wu(this.indexId,this.documentKey,this.arrayValue,s)}}function pu(r,e){let t=r.indexId-e.indexId;return 0!==t?t:(t=ey(r.arrayValue,e.arrayValue),0!==t?t:(t=ey(r.directionalValue,e.directionalValue),0!==t?t:Zt.comparator(r.documentKey,e.documentKey)))}function ey(r,e){for(let t=0;t<r.length&&t<e.length;++t){const s=r[t]-e[t];if(0!==s)return s}return r.length-e.length}class ty{constructor(e){this.collectionId=null!=e.collectionGroup?e.collectionGroup:e.path.lastSegment(),this.Ke=e.orderBy,this.Ge=[];for(const t of e.filters){const s=t;s.isInequality()?this.Qe=s:this.Ge.push(s)}}je(e){dn(e.collectionGroup===this.collectionId);const t=ra(e);if(void 0!==t&&!this.We(t))return!1;const s=$s(e);let u=0,d=0;for(;u<s.length&&this.We(s[u]);++u);if(u===s.length)return!0;if(void 0!==this.Qe){const m=s[u];if(!this.ze(this.Qe,m)||!this.He(this.Ke[d++],m))return!1;++u}for(;u<s.length;++u){const m=s[u];if(d>=this.Ke.length||!this.He(this.Ke[d++],m))return!1}return!0}We(e){for(const t of this.Ge)if(this.ze(t,e))return!0;return!1}ze(e,t){return!(void 0===e||!e.field.isEqual(t.fieldPath))&&2===t.kind==("array-contains"===e.op||"array-contains-any"===e.op)}He(e,t){return!!e.field.isEqual(t.fieldPath)&&(0===t.kind&&"asc"===e.dir||1===t.kind&&"desc"===e.dir)}}function ny(r){var e,t;if(dn(r instanceof Pn||r instanceof wr),r instanceof Pn){if(r instanceof Th){const u=(null===(t=null===(e=r.value.arrayValue)||void 0===e?void 0:e.values)||void 0===t?void 0:t.map(d=>Pn.create(r.field,"==",d)))||[];return wr.create(u,"or")}return r}const s=r.filters.map(u=>ny(u));return wr.create(s,r.op)}function Rd(r){if(0===r.getFilters().length)return[];const e=Od(ny(r));return dn(Wh(e)),Lp(e)||Vp(e)?[e]:e.getFilters()}function Lp(r){return r instanceof Pn}function Vp(r){return r instanceof wr&&Oc(r)}function Wh(r){return Lp(r)||Vp(r)||function(e){if(e instanceof wr&&pl(e)){for(const t of e.getFilters())if(!Lp(t)&&!Vp(t))return!1;return!0}return!1}(r)}function Od(r){if(dn(r instanceof Pn||r instanceof wr),r instanceof Pn)return r;if(1===r.filters.length)return Od(r.filters[0]);const e=r.filters.map(s=>Od(s));let t=wr.create(e,r.op);return t=qu(t),Wh(t)?t:(dn(t instanceof wr),dn(Do(t)),dn(t.filters.length>1),t.filters.reduce((s,u)=>qh(s,u)))}function qh(r,e){let t;return dn(r instanceof Pn||r instanceof wr),dn(e instanceof Pn||e instanceof wr),t=r instanceof Pn?e instanceof Pn?wr.create([r,e],"and"):z_(r,e):e instanceof Pn?z_(e,r):function(s,u){if(dn(s.filters.length>0&&u.filters.length>0),Do(s)&&Do(u))return Ch(s,u.getFilters());const d=pl(s)?s:u,m=pl(s)?u:s,C=d.filters.map(L=>qh(L,m));return wr.create(C,"or")}(r,e),qu(t)}function z_(r,e){if(Do(e))return Ch(e,r.getFilters());{const t=e.filters.map(s=>qh(r,s));return wr.create(t,"or")}}function qu(r){if(dn(r instanceof Pn||r instanceof wr),r instanceof Pn)return r;const e=r.getFilters();if(1===e.length)return qu(e[0]);if(oc(r))return r;const t=e.map(u=>qu(u)),s=[];return t.forEach(u=>{u instanceof Pn?s.push(u):u instanceof wr&&(u.op===r.op?s.push(...u.filters):s.push(u))}),1===s.length?s[0]:wr.create(s,r.op)}class Bp{constructor(){this.Je=new Yh}addToCollectionParentIndex(e,t){return this.Je.add(t),gt.resolve()}getCollectionParents(e,t){return gt.resolve(this.Je.getEntries(t))}addFieldIndex(e,t){return gt.resolve()}deleteFieldIndex(e,t){return gt.resolve()}getDocumentsMatchingTarget(e,t){return gt.resolve(null)}getIndexType(e,t){return gt.resolve(0)}getFieldIndexes(e,t){return gt.resolve([])}getNextCollectionGroupToUpdate(e){return gt.resolve(null)}getMinOffset(e,t){return gt.resolve(Us.min())}getMinOffsetFromCollectionGroup(e,t){return gt.resolve(Us.min())}updateCollectionGroup(e,t,s){return gt.resolve()}updateIndexEntries(e,t){return gt.resolve()}}class Yh{constructor(){this.index={}}add(e){const t=e.lastSegment(),s=e.popLast(),u=this.index[t]||new ri(Tr.comparator),d=!u.has(s);return this.index[t]=u.add(s),d}has(e){const t=e.lastSegment(),s=e.popLast(),u=this.index[t];return u&&u.has(s)}getEntries(e){return(this.index[e]||new ri(Tr.comparator)).toArray()}}const Kh=new Uint8Array(0);class $p{constructor(e,t){this.user=e,this.databaseId=t,this.Ye=new Yh,this.Xe=new Vu(s=>Wo(s),(s,u)=>Nc(s,u)),this.uid=e.uid||""}addToCollectionParentIndex(e,t){if(!this.Ye.has(t)){const s=t.lastSegment(),u=t.popLast();e.addOnCommittedListener(()=>{this.Ye.add(t)});const d={collectionId:s,parent:Qs(u)};return ry(e).put(d)}return gt.resolve()}getCollectionParents(e,t){const s=[],u=IDBKeyRange.bound([t,""],[Tu(t),""],!1,!0);return ry(e).W(u).next(d=>{for(const m of d){if(m.collectionId!==t)break;s.push(ha(m.parent))}return s})}addFieldIndex(e,t){const s=Zh(e),u={indexId:(m=t).indexId,collectionGroup:m.collectionGroup,fields:m.fields.map(C=>[C.fieldPath.canonicalString(),C.kind])};var m;delete u.indexId;const d=s.add(u);if(t.indexState){const m=Pd(e);return d.next(C=>{m.put(Zm(C,this.user,t.indexState.sequenceNumber,t.indexState.offset))})}return d.next()}deleteFieldIndex(e,t){const s=Zh(e),u=Pd(e),d=kd(e);return s.delete(t.indexId).next(()=>u.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))).next(()=>d.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0)))}getDocumentsMatchingTarget(e,t){const s=kd(e);let u=!0;const d=new Map;return gt.forEach(this.Ze(t),m=>this.tn(e,m).next(C=>{u&&(u=!!C),d.set(m,C)})).next(()=>{if(u){let m=hr();const C=[];return gt.forEach(d,(L,G)=>{var oe;Nt("IndexedDbIndexManager",`Using index ${oe=L,`id=${oe.indexId}|cg=${oe.collectionGroup}|f=${oe.fields.map(Mr=>`${Mr.fieldPath}:${Mr.kind}`).join(",")}`} to execute ${Wo(t)}`);const xe=function(Mr,vr){const Qn=ra(vr);if(void 0===Qn)return null;for(const Ar of gd(Mr,Qn.fieldPath))switch(Ar.op){case"array-contains-any":return Ar.value.arrayValue.values||[];case"array-contains":return[Ar.value]}return null}(G,L),at=function(Mr,vr){const Qn=new Map;for(const Ar of $s(vr))for(const Es of gd(Mr,Ar.fieldPath))switch(Es.op){case"==":case"in":Qn.set(Ar.fieldPath.canonicalString(),Es.value);break;case"not-in":case"!=":return Qn.set(Ar.fieldPath.canonicalString(),Es.value),Array.from(Qn.values())}return null}(G,L),Dt=function(Mr,vr){const Qn=[];let Ar=!0;for(const Es of $s(vr)){const Ih=0===Es.kind?ku(Mr,Es.fieldPath,Mr.startAt):yl(Mr,Es.fieldPath,Mr.startAt);Qn.push(Ih.value),Ar&&(Ar=Ih.inclusive)}return new yr(Qn,Ar)}(G,L),Ot=function(Mr,vr){const Qn=[];let Ar=!0;for(const Es of $s(vr)){const Ih=0===Es.kind?yl(Mr,Es.fieldPath,Mr.endAt):ku(Mr,Es.fieldPath,Mr.endAt);Qn.push(Ih.value),Ar&&(Ar=Ih.inclusive)}return new yr(Qn,Ar)}(G,L),Jt=this.en(L,G,Dt),_n=this.en(L,G,Ot),Qr=this.nn(L,G,at),Di=this.sn(L.indexId,xe,Jt,Dt.inclusive,_n,Ot.inclusive,Qr);return gt.forEach(Di,Mr=>s.J(Mr,t.limit).next(vr=>{vr.forEach(Qn=>{const Ar=Zt.fromSegments(Qn.documentKey);m.has(Ar)||(m=m.add(Ar),C.push(Ar))})}))}).next(()=>C)}return gt.resolve(null)})}Ze(e){let t=this.Xe.get(e);return t||(t=0===e.filters.length?[e]:Rd(wr.create(e.filters,"and")).map(s=>cc(e.path,e.collectionGroup,e.orderBy,s.getFilters(),e.limit,e.startAt,e.endAt)),this.Xe.set(e,t),t)}sn(e,t,s,u,d,m,C){const L=(null!=t?t.length:1)*Math.max(s.length,d.length),G=L/(null!=t?t.length:1),oe=[];for(let xe=0;xe<L;++xe){const at=t?this.rn(t[xe/G]):Kh,Dt=this.on(e,at,s[xe%G],u),Ot=this.un(e,at,d[xe%G],m),Jt=C.map(_n=>this.on(e,at,_n,!0));oe.push(...this.createRange(Dt,Ot,Jt))}return oe}on(e,t,s,u){const d=new Wu(e,Zt.empty(),t,s);return u?d:d.Ue()}un(e,t,s,u){const d=new Wu(e,Zt.empty(),t,s);return u?d.Ue():d}tn(e,t){const s=new ty(t),u=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment();return this.getFieldIndexes(e,u).next(d=>{let m=null;for(const C of d)s.je(C)&&(!m||C.fields.length>m.fields.length)&&(m=C);return m})}getIndexType(e,t){let s=2;const u=this.Ze(t);return gt.forEach(u,d=>this.tn(e,d).next(m=>{m?0!==s&&m.fields.length<function(C){let L=new ri(qr.comparator),G=!1;for(const oe of C.filters)for(const xe of oe.getFlattenedFilters())xe.field.isKeyField()||("array-contains"===xe.op||"array-contains-any"===xe.op?G=!0:L=L.add(xe.field));for(const oe of C.orderBy)oe.field.isKeyField()||(L=L.add(oe.field));return L.size+(G?1:0)}(d)&&(s=1):s=0})).next(()=>null!==t.limit&&u.length>1&&2===s?1:s)}cn(e,t){const s=new Zo;for(const u of $s(e)){const d=t.data.field(u.fieldPath);if(null==d)return null;const m=s.qe(u.kind);Kc.Ie.ue(d,m)}return s.Fe()}rn(e){const t=new Zo;return Kc.Ie.ue(e,t.qe(0)),t.Fe()}an(e,t){const s=new Zo;return Kc.Ie.ue(A(this.databaseId,t),s.qe(function(u){const d=$s(u);return 0===d.length?0:d[d.length-1].kind}(e))),s.Fe()}nn(e,t,s){if(null===s)return[];let u=[];u.push(new Zo);let d=0;for(const m of $s(e)){const C=s[d++];for(const L of u)if(this.hn(t,m.fieldPath)&&fe(C))u=this.ln(u,m,C);else{const G=L.qe(m.kind);Kc.Ie.ue(C,G)}}return this.fn(u)}en(e,t,s){return this.nn(e,t,s.position)}fn(e){const t=[];for(let s=0;s<e.length;++s)t[s]=e[s].Fe();return t}ln(e,t,s){const u=[...e],d=[];for(const m of s.arrayValue.values||[])for(const C of u){const L=new Zo;L.seed(C.Fe()),Kc.Ie.ue(m,L.qe(t.kind)),d.push(L)}return d}hn(e,t){return!!e.filters.find(s=>s instanceof Pn&&s.field.isEqual(t)&&("in"===s.op||"not-in"===s.op))}getFieldIndexes(e,t){const s=Zh(e),u=Pd(e);return(t?s.W("collectionGroupIndex",IDBKeyRange.bound(t,t)):s.W()).next(d=>{const m=[];return gt.forEach(d,C=>u.get([C.indexId,this.uid]).next(L=>{m.push(function(G,oe){const xe=oe?new Go(oe.sequenceNumber,new Us(Yc(oe.readTime),new Zt(ha(oe.documentKey)),oe.largestBatchId)):Go.empty(),at=G.fields.map(([Dt,Ot])=>new Pr(qr.fromServerFormat(Dt),Ot));return new Po(G.indexId,G.collectionGroup,at,xe)}(C,L))})).next(()=>m)})}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next(t=>0===t.length?null:(t.sort((s,u)=>{const d=s.indexState.sequenceNumber-u.indexState.sequenceNumber;return 0!==d?d:kn(s.collectionGroup,u.collectionGroup)}),t[0].collectionGroup))}updateCollectionGroup(e,t,s){const u=Zh(e),d=Pd(e);return this.dn(e).next(m=>u.W("collectionGroupIndex",IDBKeyRange.bound(t,t)).next(C=>gt.forEach(C,L=>d.put(Zm(L.indexId,this.user,m,s)))))}updateIndexEntries(e,t){const s=new Map;return gt.forEach(t,(u,d)=>{const m=s.get(u.collectionGroup);return(m?gt.resolve(m):this.getFieldIndexes(e,u.collectionGroup)).next(C=>(s.set(u.collectionGroup,C),gt.forEach(C,L=>this._n(e,u,L).next(G=>{const oe=this.wn(d,L);return G.isEqual(oe)?gt.resolve():this.mn(e,d,L,G,oe)}))))})}gn(e,t,s,u){return kd(e).put({indexId:u.indexId,uid:this.uid,arrayValue:u.arrayValue,directionalValue:u.directionalValue,orderedDocumentKey:this.an(s,t.key),documentKey:t.key.path.toArray()})}yn(e,t,s,u){return kd(e).delete([u.indexId,this.uid,u.arrayValue,u.directionalValue,this.an(s,t.key),t.key.path.toArray()])}_n(e,t,s){const u=kd(e);let d=new ri(pu);return u.Z({index:"documentKeyIndex",range:IDBKeyRange.only([s.indexId,this.uid,this.an(s,t)])},(m,C)=>{d=d.add(new Wu(s.indexId,t,C.arrayValue,C.directionalValue))}).next(()=>d)}wn(e,t){let s=new ri(pu);const u=this.cn(t,e);if(null==u)return s;const d=ra(t);if(null!=d){const m=e.data.field(d.fieldPath);if(fe(m))for(const C of m.arrayValue.values||[])s=s.add(new Wu(t.indexId,e.key,this.rn(C),u))}else s=s.add(new Wu(t.indexId,e.key,Kh,u));return s}mn(e,t,s,u,d){Nt("IndexedDbIndexManager","Updating index entries for document '%s'",t.key);const m=[];return function(C,L,G,oe,xe){const at=C.getIterator(),Dt=L.getIterator();let Ot=ja(at),Jt=ja(Dt);for(;Ot||Jt;){let _n=!1,Qr=!1;if(Ot&&Jt){const Di=G(Ot,Jt);Di<0?Qr=!0:Di>0&&(_n=!0)}else null!=Ot?Qr=!0:_n=!0;_n?(oe(Jt),Jt=ja(Dt)):Qr?(xe(Ot),Ot=ja(at)):(Ot=ja(at),Jt=ja(Dt))}}(u,d,pu,C=>{m.push(this.gn(e,t,s,C))},C=>{m.push(this.yn(e,t,s,C))}),gt.waitFor(m)}dn(e){let t=1;return Pd(e).Z({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(s,u,d)=>{d.done(),t=u.sequenceNumber+1}).next(()=>t)}createRange(e,t,s){s=s.sort((m,C)=>pu(m,C)).filter((m,C,L)=>!C||0!==pu(m,L[C-1]));const u=[];u.push(e);for(const m of s){const C=pu(m,e),L=pu(m,t);if(0===C)u[0]=e.Ue();else if(C>0&&L<0)u.push(m),u.push(m.Ue());else if(L>0)break}u.push(t);const d=[];for(let m=0;m<u.length;m+=2){if(this.pn(u[m],u[m+1]))return[];d.push(IDBKeyRange.bound([u[m].indexId,this.uid,u[m].arrayValue,u[m].directionalValue,Kh,[]],[u[m+1].indexId,this.uid,u[m+1].arrayValue,u[m+1].directionalValue,Kh,[]]))}return d}pn(e,t){return pu(e,t)>0}getMinOffsetFromCollectionGroup(e,t){return this.getFieldIndexes(e,t).next(iy)}getMinOffset(e,t){return gt.mapArray(this.Ze(t),s=>this.tn(e,s).next(u=>u||tn())).next(iy)}}function ry(r){return Js(r,"collectionParents")}function kd(r){return Js(r,"indexEntries")}function Zh(r){return Js(r,"indexConfiguration")}function Pd(r){return Js(r,"indexState")}function iy(r){dn(0!==r.length);let e=r[0].indexState.offset,t=e.largestBatchId;for(let s=1;s<r.length;s++){const u=r[s].indexState.offset;Ur(u,e)<0&&(e=u),t<u.largestBatchId&&(t=u.largestBatchId)}return new Us(e.readTime,e.documentKey,t)}const sy={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class Lo{constructor(e,t,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=s}static withCacheSize(e){return new Lo(e,Lo.DEFAULT_COLLECTION_PERCENTILE,Lo.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function Xh(r,e,t){const s=r.store("mutations"),u=r.store("documentMutations"),d=[],m=IDBKeyRange.only(t.batchId);let C=0;const L=s.Z({range:m},(oe,xe,at)=>(C++,at.delete()));d.push(L.next(()=>{dn(1===C)}));const G=[];for(const oe of t.mutations){const xe=xp(e,oe.key.path,t.batchId);d.push(u.delete(xe)),G.push(oe.key)}return gt.waitFor(d).next(()=>G)}function Nd(r){if(!r)return 0;let e;if(r.document)e=r.document;else if(r.unknownDocument)e=r.unknownDocument;else{if(!r.noDocument)throw tn();e=r.noDocument}return JSON.stringify(e).length}Lo.DEFAULT_COLLECTION_PERCENTILE=10,Lo.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Lo.DEFAULT=new Lo(41943040,Lo.DEFAULT_COLLECTION_PERCENTILE,Lo.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Lo.DISABLED=new Lo(-1,0,0);class Rl{constructor(e,t,s,u){this.userId=e,this.yt=t,this.indexManager=s,this.referenceDelegate=u,this.In={}}static re(e,t,s,u){dn(""!==e.uid);const d=e.isAuthenticated()?e.uid:"";return new Rl(d,t,s,u)}checkEmpty(e){let t=!0;const s=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return _c(e).Z({index:"userMutationsIndex",range:s},(u,d,m)=>{t=!1,m.done()}).next(()=>t)}addMutationBatch(e,t,s,u){const d=Zc(e),m=_c(e);return m.add({}).next(C=>{dn("number"==typeof C);const L=new Pp(C,t,s,u),G=function(at,Dt,Ot){const Jt=Ot.baseMutations.map(Qr=>Ye(at.ie,Qr)),_n=Ot.mutations.map(Qr=>Ye(at.ie,Qr));return{userId:Dt,batchId:Ot.batchId,localWriteTimeMs:Ot.localWriteTime.toMillis(),baseMutations:Jt,mutations:_n}}(this.yt,this.userId,L),oe=[];let xe=new ri((at,Dt)=>kn(at.canonicalString(),Dt.canonicalString()));for(const at of u){const Dt=xp(this.userId,at.key.path,C);xe=xe.add(at.key.path.popLast()),oe.push(m.put(G)),oe.push(d.put(Dt,Mp))}return xe.forEach(at=>{oe.push(this.indexManager.addToCollectionParentIndex(e,at))}),e.addOnCommittedListener(()=>{this.In[C]=L.keys()}),gt.waitFor(oe).next(()=>L)})}lookupMutationBatch(e,t){return _c(e).get(t).next(s=>s?(dn(s.userId===this.userId),vc(this.yt,s)):null)}Tn(e,t){return this.In[t]?gt.resolve(this.In[t]):this.lookupMutationBatch(e,t).next(s=>{if(s){const u=s.keys();return this.In[t]=u,u}return null})}getNextMutationBatchAfterBatchId(e,t){const s=t+1,u=IDBKeyRange.lowerBound([this.userId,s]);let d=null;return _c(e).Z({index:"userMutationsIndex",range:u},(m,C,L)=>{C.userId===this.userId&&(dn(C.batchId>=s),d=vc(this.yt,C)),L.done()}).next(()=>d)}getHighestUnacknowledgedBatchId(e){const t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let s=-1;return _c(e).Z({index:"userMutationsIndex",range:t,reverse:!0},(u,d,m)=>{s=d.batchId,m.done()}).next(()=>s)}getAllMutationBatches(e){const t=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return _c(e).W("userMutationsIndex",t).next(s=>s.map(u=>vc(this.yt,u)))}getAllMutationBatchesAffectingDocumentKey(e,t){const s=jh(this.userId,t.path),u=IDBKeyRange.lowerBound(s),d=[];return Zc(e).Z({range:u},(m,C,L)=>{const[G,oe,xe]=m,at=ha(oe);if(G===this.userId&&t.path.isEqual(at))return _c(e).get(xe).next(Dt=>{if(!Dt)throw tn();dn(Dt.userId===this.userId),d.push(vc(this.yt,Dt))});L.done()}).next(()=>d)}getAllMutationBatchesAffectingDocumentKeys(e,t){let s=new ri(kn);const u=[];return t.forEach(d=>{const m=jh(this.userId,d.path),C=IDBKeyRange.lowerBound(m),L=Zc(e).Z({range:C},(G,oe,xe)=>{const[at,Dt,Ot]=G,Jt=ha(Dt);at===this.userId&&d.path.isEqual(Jt)?s=s.add(Ot):xe.done()});u.push(L)}),gt.waitFor(u).next(()=>this.En(e,s))}getAllMutationBatchesAffectingQuery(e,t){const s=t.path,u=s.length+1,d=jh(this.userId,s),m=IDBKeyRange.lowerBound(d);let C=new ri(kn);return Zc(e).Z({range:m},(L,G,oe)=>{const[xe,at,Dt]=L,Ot=ha(at);xe===this.userId&&s.isPrefixOf(Ot)?Ot.length===u&&(C=C.add(Dt)):oe.done()}).next(()=>this.En(e,C))}En(e,t){const s=[],u=[];return t.forEach(d=>{u.push(_c(e).get(d).next(m=>{if(null===m)throw tn();dn(m.userId===this.userId),s.push(vc(this.yt,m))}))}),gt.waitFor(u).next(()=>s)}removeMutationBatch(e,t){return Xh(e.se,this.userId,t).next(s=>(e.addOnCommittedListener(()=>{this.An(t.batchId)}),gt.forEach(s,u=>this.referenceDelegate.markPotentiallyOrphaned(e,u))))}An(e){delete this.In[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(t=>{if(!t)return gt.resolve();const s=IDBKeyRange.lowerBound([this.userId]),u=[];return Zc(e).Z({range:s},(d,m,C)=>{if(d[0]===this.userId){const L=ha(d[1]);u.push(L)}else C.done()}).next(()=>{dn(0===u.length)})})}containsKey(e,t){return oy(e,this.userId,t)}Rn(e){return Up(e).get(this.userId).next(t=>t||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}}function oy(r,e,t){const s=jh(e,t.path),u=s[1],d=IDBKeyRange.lowerBound(s);let m=!1;return Zc(r).Z({range:d,X:!0},(C,L,G)=>{const[oe,xe,at]=C;oe===e&&xe===u&&(m=!0),G.done()}).next(()=>m)}function _c(r){return Js(r,"mutations")}function Zc(r){return Js(r,"documentMutations")}function Up(r){return Js(r,"mutationQueues")}class pa{constructor(e){this.bn=e}next(){return this.bn+=2,this.bn}static Pn(){return new pa(0)}static vn(){return new pa(-1)}}class ay{constructor(e,t){this.referenceDelegate=e,this.yt=t}allocateTargetId(e){return this.Vn(e).next(t=>{const s=new pa(t.highestTargetId);return t.highestTargetId=s.next(),this.Sn(e,t).next(()=>t.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.Vn(e).next(t=>ln.fromTimestamp(new Gr(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.Vn(e).next(t=>t.highestListenSequenceNumber)}setTargetsMetadata(e,t,s){return this.Vn(e).next(u=>(u.highestListenSequenceNumber=t,s&&(u.lastRemoteSnapshotVersion=s.toTimestamp()),t>u.highestListenSequenceNumber&&(u.highestListenSequenceNumber=t),this.Sn(e,u)))}addTargetData(e,t){return this.Dn(e,t).next(()=>this.Vn(e).next(s=>(s.targetCount+=1,this.Cn(t,s),this.Sn(e,s))))}updateTargetData(e,t){return this.Dn(e,t)}removeTargetData(e,t){return this.removeMatchingKeysForTargetId(e,t.targetId).next(()=>Xc(e).delete(t.targetId)).next(()=>this.Vn(e)).next(s=>(dn(s.targetCount>0),s.targetCount-=1,this.Sn(e,s)))}removeTargets(e,t,s){let u=0;const d=[];return Xc(e).Z((m,C)=>{const L=Md(C);L.sequenceNumber<=t&&null===s.get(L.targetId)&&(u++,d.push(this.removeTargetData(e,L)))}).next(()=>gt.waitFor(d)).next(()=>u)}forEachTarget(e,t){return Xc(e).Z((s,u)=>{const d=Md(u);t(d)})}Vn(e){return uy(e).get("targetGlobalKey").next(t=>(dn(null!==t),t))}Sn(e,t){return uy(e).put("targetGlobalKey",t)}Dn(e,t){return Xc(e).put(Np(this.yt,t))}Cn(e,t){let s=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,s=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,s=!0),s}getTargetCount(e){return this.Vn(e).next(t=>t.targetCount)}getTargetData(e,t){const s=Wo(t),u=IDBKeyRange.bound([s,Number.NEGATIVE_INFINITY],[s,Number.POSITIVE_INFINITY]);let d=null;return Xc(e).Z({range:u,index:"queryTargetsIndex"},(m,C,L)=>{const G=Md(C);Nc(t,G.target)&&(d=G,L.done())}).next(()=>d)}addMatchingKeys(e,t,s){const u=[],d=Qc(e);return t.forEach(m=>{const C=Qs(m.path);u.push(d.put({targetId:s,path:C})),u.push(this.referenceDelegate.addReference(e,s,m))}),gt.waitFor(u)}removeMatchingKeys(e,t,s){const u=Qc(e);return gt.forEach(t,d=>{const m=Qs(d.path);return gt.waitFor([u.delete([s,m]),this.referenceDelegate.removeReference(e,s,d)])})}removeMatchingKeysForTargetId(e,t){const s=Qc(e),u=IDBKeyRange.bound([t],[t+1],!1,!0);return s.delete(u)}getMatchingKeysForTargetId(e,t){const s=IDBKeyRange.bound([t],[t+1],!1,!0),u=Qc(e);let d=hr();return u.Z({range:s,X:!0},(m,C,L)=>{const G=ha(m[1]),oe=new Zt(G);d=d.add(oe)}).next(()=>d)}containsKey(e,t){const s=Qs(t.path),u=IDBKeyRange.bound([s],[Tu(s)],!1,!0);let d=0;return Qc(e).Z({index:"documentTargetsIndex",X:!0,range:u},([m,C],L,G)=>{0!==m&&(d++,G.done())}).next(()=>d>0)}ne(e,t){return Xc(e).get(t).next(s=>s?Md(s):null)}}function Xc(r){return Js(r,"targets")}function uy(r){return Js(r,"targetGlobal")}function Qc(r){return Js(r,"targetDocuments")}function Fd([r,e],[t,s]){const u=kn(r,t);return 0===u?kn(e,s):u}class W_{constructor(e){this.xn=e,this.buffer=new ri(Fd),this.Nn=0}kn(){return++this.Nn}On(e){const t=[e,this.kn()];if(this.buffer.size<this.xn)this.buffer=this.buffer.add(t);else{const s=this.buffer.last();Fd(t,s)<0&&(this.buffer=this.buffer.delete(s).add(t))}}get maxValue(){return this.buffer.last()[0]}}class cy{constructor(e,t,s){this.garbageCollector=e,this.asyncQueue=t,this.localStore=s,this.Mn=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.Fn(6e4)}stop(){this.Mn&&(this.Mn.cancel(),this.Mn=null)}get started(){return null!==this.Mn}Fn(e){var t=this;Nt("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.Mn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(0,ee.Z)(function*(){t.Mn=null;try{yield t.localStore.collectGarbage(t.garbageCollector)}catch(s){gs(s)?Nt("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",s):yield Va(s)}yield t.Fn(3e5)}))}}class ly{constructor(e,t){this.$n=e,this.params=t}calculateTargetCount(e,t){return this.$n.Bn(e).next(s=>Math.floor(t/100*s))}nthSequenceNumber(e,t){if(0===t)return gt.resolve(Ii.at);const s=new W_(t);return this.$n.forEachTarget(e,u=>s.On(u.sequenceNumber)).next(()=>this.$n.Ln(e,u=>s.On(u))).next(()=>s.maxValue)}removeTargets(e,t,s){return this.$n.removeTargets(e,t,s)}removeOrphanedDocuments(e,t){return this.$n.removeOrphanedDocuments(e,t)}collect(e,t){return-1===this.params.cacheSizeCollectionThreshold?(Nt("LruGarbageCollector","Garbage collection skipped; disabled"),gt.resolve(sy)):this.getCacheSize(e).next(s=>s<this.params.cacheSizeCollectionThreshold?(Nt("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),sy):this.qn(e,t))}getCacheSize(e){return this.$n.getCacheSize(e)}qn(e,t){let s,u,d,m,C,L,G;const oe=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(xe=>(xe>this.params.maximumSequenceNumbersToCollect?(Nt("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${xe}`),u=this.params.maximumSequenceNumbersToCollect):u=xe,m=Date.now(),this.nthSequenceNumber(e,u))).next(xe=>(s=xe,C=Date.now(),this.removeTargets(e,s,t))).next(xe=>(d=xe,L=Date.now(),this.removeOrphanedDocuments(e,s))).next(xe=>(G=Date.now(),no()<=ct.in.DEBUG&&Nt("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${m-oe}ms\n\tDetermined least recently used ${u} in `+(C-m)+`ms\n\tRemoved ${d} targets in `+(L-C)+`ms\n\tRemoved ${xe} documents in `+(G-L)+`ms\nTotal Duration: ${G-oe}ms`),gt.resolve({didRun:!0,sequenceNumbersCollected:u,targetsRemoved:d,documentsRemoved:xe})))}}class dy{constructor(e,t){this.db=e,this.garbageCollector=new ly(this,t)}Bn(e){const t=this.Un(e);return this.db.getTargetCache().getTargetCount(e).next(s=>t.next(u=>s+u))}Un(e){let t=0;return this.Ln(e,s=>{t++}).next(()=>t)}forEachTarget(e,t){return this.db.getTargetCache().forEachTarget(e,t)}Ln(e,t){return this.Kn(e,(s,u)=>t(u))}addReference(e,t,s){return Ol(e,s)}removeReference(e,t,s){return Ol(e,s)}removeTargets(e,t,s){return this.db.getTargetCache().removeTargets(e,t,s)}markPotentiallyOrphaned(e,t){return Ol(e,t)}Gn(e,t){return function(s,u){let d=!1;return Up(s).tt(m=>oy(s,m,u).next(C=>(C&&(d=!0),gt.resolve(!C)))).next(()=>d)}(e,t)}removeOrphanedDocuments(e,t){const s=this.db.getRemoteDocumentCache().newChangeBuffer(),u=[];let d=0;return this.Kn(e,(m,C)=>{if(C<=t){const L=this.Gn(e,m).next(G=>{if(!G)return d++,s.getEntry(e,m).next(()=>(s.removeEntry(m,ln.min()),Qc(e).delete([0,Qs(m.path)])))});u.push(L)}}).next(()=>gt.waitFor(u)).next(()=>s.apply(e)).next(()=>d)}removeTarget(e,t){const s=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,s)}updateLimboDocument(e,t){return Ol(e,t)}Kn(e,t){const s=Qc(e);let u,d=Ii.at;return s.Z({index:"documentTargetsIndex"},([m,C],{path:L,sequenceNumber:G})=>{0===m?(d!==Ii.at&&t(new Zt(ha(u)),d),d=G,u=L):d=Ii.at}).next(()=>{d!==Ii.at&&t(new Zt(ha(u)),d)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function Ol(r,e){return Qc(r).put((s=r.currentSequenceNumber,{targetId:0,path:Qs(e.path),sequenceNumber:s}));var s}class jp{constructor(){this.changes=new Vu(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,yi.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const s=this.changes.get(t);return void 0!==s?gt.resolve(s):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class Qh{constructor(e){this.yt=e}setIndexManager(e){this.indexManager=e}addEntry(e,t,s){return bc(e).put(s)}removeEntry(e,t,s){return bc(e).delete(function(u,d){const m=u.path.toArray();return[m.slice(0,m.length-2),m[m.length-2],xd(d),m[m.length-1]]}(t,s))}updateMetadata(e,t){return this.getMetadata(e).next(s=>(s.byteSize+=t,this.Qn(e,s)))}getEntry(e,t){let s=yi.newInvalidDocument(t);return bc(e).Z({index:"documentKeyIndex",range:IDBKeyRange.only(Jc(t))},(u,d)=>{s=this.jn(t,d)}).next(()=>s)}Wn(e,t){let s={size:0,document:yi.newInvalidDocument(t)};return bc(e).Z({index:"documentKeyIndex",range:IDBKeyRange.only(Jc(t))},(u,d)=>{s={document:this.jn(t,d),size:Nd(d)}}).next(()=>s)}getEntries(e,t){let s=Os();return this.zn(e,t,(u,d)=>{const m=this.jn(u,d);s=s.insert(u,m)}).next(()=>s)}Hn(e,t){let s=Os(),u=new wi(Zt.comparator);return this.zn(e,t,(d,m)=>{const C=this.jn(d,m);s=s.insert(d,C),u=u.insert(d,Nd(m))}).next(()=>({documents:s,Jn:u}))}zn(e,t,s){if(t.isEmpty())return gt.resolve();let u=new ri(fy);t.forEach(L=>u=u.add(L));const d=IDBKeyRange.bound(Jc(u.first()),Jc(u.last())),m=u.getIterator();let C=m.getNext();return bc(e).Z({index:"documentKeyIndex",range:d},(L,G,oe)=>{const xe=Zt.fromSegments([...G.prefixPath,G.collectionGroup,G.documentId]);for(;C&&fy(C,xe)<0;)s(C,null),C=m.getNext();C&&C.isEqual(xe)&&(s(C,G),C=m.hasNext()?m.getNext():null),C?oe.j(Jc(C)):oe.done()}).next(()=>{for(;C;)s(C,null),C=m.hasNext()?m.getNext():null})}getDocumentsMatchingQuery(e,t,s,u){const d=t.path,m=[d.popLast().toArray(),d.lastSegment(),xd(s.readTime),s.documentKey.path.isEmpty()?"":s.documentKey.path.lastSegment()],C=[d.popLast().toArray(),d.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return bc(e).W(IDBKeyRange.bound(m,C,!0)).next(L=>{let G=Os();for(const oe of L){const xe=this.jn(Zt.fromSegments(oe.prefixPath.concat(oe.collectionGroup,oe.documentId)),oe);xe.isFoundDocument()&&(bl(t,xe)||u.has(xe.key))&&(G=G.insert(xe.key,xe))}return G})}getAllFromCollectionGroup(e,t,s,u){let d=Os();const m=kl(t,s),C=kl(t,Us.max());return bc(e).Z({index:"collectionGroupIndex",range:IDBKeyRange.bound(m,C,!0)},(L,G,oe)=>{const xe=this.jn(Zt.fromSegments(G.prefixPath.concat(G.collectionGroup,G.documentId)),G);d=d.insert(xe.key,xe),d.size===u&&oe.done()}).next(()=>d)}newChangeBuffer(e){return new hy(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(t=>t.byteSize)}getMetadata(e){return Jh(e).get("remoteDocumentGlobalKey").next(t=>(dn(!!t),t))}Qn(e,t){return Jh(e).put("remoteDocumentGlobalKey",t)}jn(e,t){if(t){const s=function Co(r,e){let t;if(e.document)t=D(r.ie,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const s=Zt.fromSegments(e.noDocument.path),u=Yc(e.noDocument.readTime);t=yi.newNoDocument(s,u),e.hasCommittedMutations&&t.setHasCommittedMutations()}else{if(!e.unknownDocument)return tn();{const s=Zt.fromSegments(e.unknownDocument.path),u=Yc(e.unknownDocument.version);t=yi.newUnknownDocument(s,u)}}return e.readTime&&t.setReadTime(function(s){const u=new Gr(s[0],s[1]);return ln.fromTimestamp(u)}(e.readTime)),t}(this.yt,t);if(!s.isNoDocument()||!s.version.isEqual(ln.min()))return s}return yi.newInvalidDocument(e)}}function Ld(r){return new Qh(r)}class hy extends jp{constructor(e,t){super(),this.Yn=e,this.trackRemovals=t,this.Xn=new Vu(s=>s.toString(),(s,u)=>s.isEqual(u))}applyChanges(e){const t=[];let s=0,u=new ri((d,m)=>kn(d.canonicalString(),m.canonicalString()));return this.changes.forEach((d,m)=>{const C=this.Xn.get(d);if(t.push(this.Yn.removeEntry(e,d,C.readTime)),m.isValidDocument()){const L=Ml(this.Yn.yt,m);u=u.add(d.path.popLast()),s+=Nd(L)-C.size,t.push(this.Yn.addEntry(e,d,L))}else if(s-=C.size,this.trackRemovals){const L=Ml(this.Yn.yt,m.convertToNoDocument(ln.min()));t.push(this.Yn.addEntry(e,d,L))}}),u.forEach(d=>{t.push(this.Yn.indexManager.addToCollectionParentIndex(e,d))}),t.push(this.Yn.updateMetadata(e,s)),gt.waitFor(t)}getFromCache(e,t){return this.Yn.Wn(e,t).next(s=>(this.Xn.set(t,{size:s.size,readTime:s.document.readTime}),s.document))}getAllFromCache(e,t){return this.Yn.Hn(e,t).next(({documents:s,Jn:u})=>(u.forEach((d,m)=>{this.Xn.set(d,{size:m,readTime:s.get(d).readTime})}),s))}}function Jh(r){return Js(r,"remoteDocumentGlobal")}function bc(r){return Js(r,"remoteDocumentsV14")}function Jc(r){const e=r.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function kl(r,e){const t=e.documentKey.path.toArray();return[r,xd(e.readTime),t.slice(0,t.length-2),t.length>0?t[t.length-1]:""]}function fy(r,e){const t=r.path.toArray(),s=e.path.toArray();let u=0;for(let d=0;d<t.length-2&&d<s.length-2;++d)if(u=kn(t[d],s[d]),u)return u;return u=kn(t.length,s.length),u||(u=kn(t[t.length-2],s[s.length-2]),u||kn(t[t.length-1],s[s.length-1]))}class py{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class gy{constructor(e,t,s,u){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=s,this.indexManager=u}getDocument(e,t){let s=null;return this.documentOverlayCache.getOverlay(e,t).next(u=>(s=u,this.remoteDocumentCache.getEntry(e,t))).next(u=>(null!==s&&ca(s.mutation,u,No.empty(),Gr.now()),u))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(s=>this.getLocalViewOfDocuments(e,s,hr()).next(()=>s))}getLocalViewOfDocuments(e,t,s=hr()){const u=Yo();return this.populateOverlays(e,u,t).next(()=>this.computeViews(e,t,u,s).next(d=>{let m=Bu();return d.forEach((C,L)=>{m=m.insert(C,L.overlayedDocument)}),m}))}getOverlayedDocuments(e,t){const s=Yo();return this.populateOverlays(e,s,t).next(()=>this.computeViews(e,t,s,hr()))}populateOverlays(e,t,s){const u=[];return s.forEach(d=>{t.has(d)||u.push(d)}),this.documentOverlayCache.getOverlays(e,u).next(d=>{d.forEach((m,C)=>{t.set(m,C)})})}computeViews(e,t,s,u){let d=Os();const m=ks(),C=ks();return t.forEach((L,G)=>{const oe=s.get(G.key);u.has(G.key)&&(void 0===oe||oe.mutation instanceof ii)?d=d.insert(G.key,G):void 0!==oe?(m.set(G.key,oe.mutation.getFieldMask()),ca(oe.mutation,G,oe.mutation.getFieldMask(),Gr.now())):m.set(G.key,No.empty())}),this.recalculateAndSaveOverlays(e,d).next(L=>(L.forEach((G,oe)=>m.set(G,oe)),t.forEach((G,oe)=>{var xe;return C.set(G,new py(oe,null!==(xe=m.get(G))&&void 0!==xe?xe:null))}),C))}recalculateAndSaveOverlays(e,t){const s=ks();let u=new wi((m,C)=>m-C),d=hr();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(m=>{for(const C of m)C.keys().forEach(L=>{const G=t.get(L);if(null===G)return;let oe=s.get(L)||No.empty();oe=C.applyToLocalView(G,oe),s.set(L,oe);const xe=(u.get(C.batchId)||hr()).add(L);u=u.insert(C.batchId,xe)})}).next(()=>{const m=[],C=u.getReverseIterator();for(;C.hasNext();){const L=C.getNext(),G=L.key,oe=L.value,xe=Ed();oe.forEach(at=>{if(!d.has(at)){const Dt=Ph(t.get(at),s.get(at));null!==Dt&&xe.set(at,Dt),d=d.add(at)}}),m.push(this.documentOverlayCache.saveOverlays(e,G,xe))}return gt.waitFor(m)}).next(()=>s)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(s=>this.recalculateAndSaveOverlays(e,s))}getDocumentsMatchingQuery(e,t,s){return Zt.isDocumentKey((u=t).path)&&null===u.collectionGroup&&0===u.filters.length?this.getDocumentsMatchingDocumentQuery(e,t.path):_l(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,s):this.getDocumentsMatchingCollectionQuery(e,t,s);var u}getNextDocuments(e,t,s,u){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,s,u).next(d=>{const m=u-d.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,s.largestBatchId,u-d.size):gt.resolve(Yo());let C=-1,L=d;return m.next(G=>gt.forEach(G,(oe,xe)=>(C<xe.largestBatchId&&(C=xe.largestBatchId),d.get(oe)?gt.resolve():this.remoteDocumentCache.getEntry(e,oe).next(at=>{L=L.insert(oe,at)}))).next(()=>this.populateOverlays(e,G,d)).next(()=>this.computeViews(e,L,G,hr())).next(oe=>({batchId:C,changes:bd(oe)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new Zt(t)).next(s=>{let u=Bu();return s.isFoundDocument()&&(u=u.insert(s.key,s)),u})}getDocumentsMatchingCollectionGroupQuery(e,t,s){const u=t.collectionGroup;let d=Bu();return this.indexManager.getCollectionParents(e,u).next(m=>gt.forEach(m,C=>{const L=(G=t,oe=C.child(u),new qo(oe,null,G.explicitOrderBy.slice(),G.filters.slice(),G.limit,G.limitType,G.startAt,G.endAt));var G,oe;return this.getDocumentsMatchingCollectionQuery(e,L,s).next(G=>{G.forEach((oe,xe)=>{d=d.insert(oe,xe)})})}).next(()=>d))}getDocumentsMatchingCollectionQuery(e,t,s){let u;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,s.largestBatchId).next(d=>(u=d,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,s,u))).next(d=>{u.forEach((C,L)=>{const G=L.getKey();null===d.get(G)&&(d=d.insert(G,yi.newInvalidDocument(G)))});let m=Bu();return d.forEach((C,L)=>{const G=u.get(C);void 0!==G&&ca(G.mutation,L,No.empty(),Gr.now()),bl(t,L)&&(m=m.insert(C,L))}),m})}}class q_{constructor(e){this.yt=e,this.Zn=new Map,this.ts=new Map}getBundleMetadata(e,t){return gt.resolve(this.Zn.get(t))}saveBundleMetadata(e,t){var s;return this.Zn.set(t.id,{id:(s=t).id,version:s.version,createTime:Gi(s.createTime)}),gt.resolve()}getNamedQuery(e,t){return gt.resolve(this.ts.get(t))}saveNamedQuery(e,t){return this.ts.set(t.name,{name:(s=t).name,query:Fp(s.bundledQuery),readTime:Gi(s.readTime)}),gt.resolve();var s}}class my{constructor(){this.overlays=new wi(Zt.comparator),this.es=new Map}getOverlay(e,t){return gt.resolve(this.overlays.get(t))}getOverlays(e,t){const s=Yo();return gt.forEach(t,u=>this.getOverlay(e,u).next(d=>{null!==d&&s.set(u,d)})).next(()=>s)}saveOverlays(e,t,s){return s.forEach((u,d)=>{this.oe(e,t,d)}),gt.resolve()}removeOverlaysForBatchId(e,t,s){const u=this.es.get(s);return void 0!==u&&(u.forEach(d=>this.overlays=this.overlays.remove(d)),this.es.delete(s)),gt.resolve()}getOverlaysForCollection(e,t,s){const u=Yo(),d=t.length+1,m=new Zt(t.child("")),C=this.overlays.getIteratorFrom(m);for(;C.hasNext();){const L=C.getNext().value,G=L.getKey();if(!t.isPrefixOf(G.path))break;G.path.length===d&&L.largestBatchId>s&&u.set(L.getKey(),L)}return gt.resolve(u)}getOverlaysForCollectionGroup(e,t,s,u){let d=new wi((G,oe)=>G-oe);const m=this.overlays.getIterator();for(;m.hasNext();){const G=m.getNext().value;if(G.getKey().getCollectionGroup()===t&&G.largestBatchId>s){let oe=d.get(G.largestBatchId);null===oe&&(oe=Yo(),d=d.insert(G.largestBatchId,oe)),oe.set(G.getKey(),G)}}const C=Yo(),L=d.getIterator();for(;L.hasNext()&&(L.getNext().value.forEach((G,oe)=>C.set(G,oe)),!(C.size()>=u)););return gt.resolve(C)}oe(e,t,s){const u=this.overlays.get(s.key);if(null!==u){const m=this.es.get(u.largestBatchId).delete(s.key);this.es.set(u.largestBatchId,m)}this.overlays=this.overlays.insert(s.key,new Ad(t,s));let d=this.es.get(t);void 0===d&&(d=hr(),this.es.set(t,d)),this.es.set(t,d.add(s.key))}}class Vd{constructor(){this.ns=new ri(zs.ss),this.rs=new ri(zs.os)}isEmpty(){return this.ns.isEmpty()}addReference(e,t){const s=new zs(e,t);this.ns=this.ns.add(s),this.rs=this.rs.add(s)}us(e,t){e.forEach(s=>this.addReference(s,t))}removeReference(e,t){this.cs(new zs(e,t))}hs(e,t){e.forEach(s=>this.removeReference(s,t))}ls(e){const t=new Zt(new Tr([])),s=new zs(t,e),u=new zs(t,e+1),d=[];return this.rs.forEachInRange([s,u],m=>{this.cs(m),d.push(m.key)}),d}fs(){this.ns.forEach(e=>this.cs(e))}cs(e){this.ns=this.ns.delete(e),this.rs=this.rs.delete(e)}ds(e){const t=new Zt(new Tr([])),s=new zs(t,e),u=new zs(t,e+1);let d=hr();return this.rs.forEachInRange([s,u],m=>{d=d.add(m.key)}),d}containsKey(e){const t=new zs(e,0),s=this.ns.firstAfterOrEqual(t);return null!==s&&e.isEqual(s.key)}}class zs{constructor(e,t){this.key=e,this._s=t}static ss(e,t){return Zt.comparator(e.key,t.key)||kn(e._s,t._s)}static os(e,t){return kn(e._s,t._s)||Zt.comparator(e.key,t.key)}}class cE{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.ws=1,this.gs=new ri(zs.ss)}checkEmpty(e){return gt.resolve(0===this.mutationQueue.length)}addMutationBatch(e,t,s,u){const d=this.ws;this.ws++;const m=new Pp(d,t,s,u);this.mutationQueue.push(m);for(const C of u)this.gs=this.gs.add(new zs(C.key,d)),this.indexManager.addToCollectionParentIndex(e,C.key.path.popLast());return gt.resolve(m)}lookupMutationBatch(e,t){return gt.resolve(this.ys(t))}getNextMutationBatchAfterBatchId(e,t){const u=this.ps(t+1),d=u<0?0:u;return gt.resolve(this.mutationQueue.length>d?this.mutationQueue[d]:null)}getHighestUnacknowledgedBatchId(){return gt.resolve(0===this.mutationQueue.length?-1:this.ws-1)}getAllMutationBatches(e){return gt.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const s=new zs(t,0),u=new zs(t,Number.POSITIVE_INFINITY),d=[];return this.gs.forEachInRange([s,u],m=>{const C=this.ys(m._s);d.push(C)}),gt.resolve(d)}getAllMutationBatchesAffectingDocumentKeys(e,t){let s=new ri(kn);return t.forEach(u=>{const d=new zs(u,0),m=new zs(u,Number.POSITIVE_INFINITY);this.gs.forEachInRange([d,m],C=>{s=s.add(C._s)})}),gt.resolve(this.Is(s))}getAllMutationBatchesAffectingQuery(e,t){const s=t.path,u=s.length+1;let d=s;Zt.isDocumentKey(d)||(d=d.child(""));const m=new zs(new Zt(d),0);let C=new ri(kn);return this.gs.forEachWhile(L=>{const G=L.key.path;return!!s.isPrefixOf(G)&&(G.length===u&&(C=C.add(L._s)),!0)},m),gt.resolve(this.Is(C))}Is(e){const t=[];return e.forEach(s=>{const u=this.ys(s);null!==u&&t.push(u)}),t}removeMutationBatch(e,t){dn(0===this.Ts(t.batchId,"removed")),this.mutationQueue.shift();let s=this.gs;return gt.forEach(t.mutations,u=>{const d=new zs(u.key,t.batchId);return s=s.delete(d),this.referenceDelegate.markPotentiallyOrphaned(e,u.key)}).next(()=>{this.gs=s})}An(e){}containsKey(e,t){const s=new zs(t,0),u=this.gs.firstAfterOrEqual(s);return gt.resolve(t.isEqual(u&&u.key))}performConsistencyCheck(e){return gt.resolve()}Ts(e,t){return this.ps(e)}ps(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}ys(e){const t=this.ps(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class yy{constructor(e){this.Es=e,this.docs=new wi(Zt.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const s=t.key,u=this.docs.get(s),d=u?u.size:0,m=this.Es(t);return this.docs=this.docs.insert(s,{document:t.mutableCopy(),size:m}),this.size+=m-d,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const s=this.docs.get(t);return gt.resolve(s?s.document.mutableCopy():yi.newInvalidDocument(t))}getEntries(e,t){let s=Os();return t.forEach(u=>{const d=this.docs.get(u);s=s.insert(u,d?d.document.mutableCopy():yi.newInvalidDocument(u))}),gt.resolve(s)}getDocumentsMatchingQuery(e,t,s,u){let d=Os();const m=t.path,C=new Zt(m.child("")),L=this.docs.getIteratorFrom(C);for(;L.hasNext();){const{key:G,value:{document:oe}}=L.getNext();if(!m.isPrefixOf(G.path))break;G.path.length>m.length+1||Ur(ou(oe),s)<=0||(u.has(oe.key)||bl(t,oe))&&(d=d.insert(oe.key,oe.mutableCopy()))}return gt.resolve(d)}getAllFromCollectionGroup(e,t,s,u){tn()}As(e,t){return gt.forEach(this.docs,s=>t(s))}newChangeBuffer(e){return new Y_(this)}getSize(e){return gt.resolve(this.size)}}class Y_ extends jp{constructor(e){super(),this.Yn=e}applyChanges(e){const t=[];return this.changes.forEach((s,u)=>{u.isValidDocument()?t.push(this.Yn.addEntry(e,u)):this.Yn.removeEntry(s)}),gt.waitFor(t)}getFromCache(e,t){return this.Yn.getEntry(e,t)}getAllFromCache(e,t){return this.Yn.getEntries(e,t)}}class vy{constructor(e){this.persistence=e,this.Rs=new Vu(t=>Wo(t),Nc),this.lastRemoteSnapshotVersion=ln.min(),this.highestTargetId=0,this.bs=0,this.Ps=new Vd,this.targetCount=0,this.vs=pa.Pn()}forEachTarget(e,t){return this.Rs.forEach((s,u)=>t(u)),gt.resolve()}getLastRemoteSnapshotVersion(e){return gt.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return gt.resolve(this.bs)}allocateTargetId(e){return this.highestTargetId=this.vs.next(),gt.resolve(this.highestTargetId)}setTargetsMetadata(e,t,s){return s&&(this.lastRemoteSnapshotVersion=s),t>this.bs&&(this.bs=t),gt.resolve()}Dn(e){this.Rs.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.vs=new pa(t),this.highestTargetId=t),e.sequenceNumber>this.bs&&(this.bs=e.sequenceNumber)}addTargetData(e,t){return this.Dn(t),this.targetCount+=1,gt.resolve()}updateTargetData(e,t){return this.Dn(t),gt.resolve()}removeTargetData(e,t){return this.Rs.delete(t.target),this.Ps.ls(t.targetId),this.targetCount-=1,gt.resolve()}removeTargets(e,t,s){let u=0;const d=[];return this.Rs.forEach((m,C)=>{C.sequenceNumber<=t&&null===s.get(C.targetId)&&(this.Rs.delete(m),d.push(this.removeMatchingKeysForTargetId(e,C.targetId)),u++)}),gt.waitFor(d).next(()=>u)}getTargetCount(e){return gt.resolve(this.targetCount)}getTargetData(e,t){const s=this.Rs.get(t)||null;return gt.resolve(s)}addMatchingKeys(e,t,s){return this.Ps.us(t,s),gt.resolve()}removeMatchingKeys(e,t,s){this.Ps.hs(t,s);const u=this.persistence.referenceDelegate,d=[];return u&&t.forEach(m=>{d.push(u.markPotentiallyOrphaned(e,m))}),gt.waitFor(d)}removeMatchingKeysForTargetId(e,t){return this.Ps.ls(t),gt.resolve()}getMatchingKeysForTargetId(e,t){const s=this.Ps.ds(t);return gt.resolve(s)}containsKey(e,t){return gt.resolve(this.Ps.containsKey(t))}}class _y{constructor(e,t){this.Vs={},this.overlays={},this.Ss=new Ii(0),this.Ds=!1,this.Ds=!0,this.referenceDelegate=e(this),this.Cs=new vy(this),this.indexManager=new Bp,this.remoteDocumentCache=new yy(s=>this.referenceDelegate.xs(s)),this.yt=new Gh(t),this.Ns=new q_(this.yt)}start(){return Promise.resolve()}shutdown(){return this.Ds=!1,Promise.resolve()}get started(){return this.Ds}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new my,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let s=this.Vs[e.toKey()];return s||(s=new cE(t,this.referenceDelegate),this.Vs[e.toKey()]=s),s}getTargetCache(){return this.Cs}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ns}runTransaction(e,t,s){Nt("MemoryPersistence","Starting transaction:",e);const u=new K_(this.Ss.next());return this.referenceDelegate.ks(),s(u).next(d=>this.referenceDelegate.Os(u).next(()=>d)).toPromise().then(d=>(u.raiseOnCommittedEvent(),d))}Ms(e,t){return gt.or(Object.values(this.Vs).map(s=>()=>s.containsKey(e,t)))}}class K_ extends fl{constructor(e){super(),this.currentSequenceNumber=e}}class Xo{constructor(e){this.persistence=e,this.Fs=new Vd,this.$s=null}static Bs(e){return new Xo(e)}get Ls(){if(this.$s)return this.$s;throw tn()}addReference(e,t,s){return this.Fs.addReference(s,t),this.Ls.delete(s.toString()),gt.resolve()}removeReference(e,t,s){return this.Fs.removeReference(s,t),this.Ls.add(s.toString()),gt.resolve()}markPotentiallyOrphaned(e,t){return this.Ls.add(t.toString()),gt.resolve()}removeTarget(e,t){this.Fs.ls(t.targetId).forEach(u=>this.Ls.add(u.toString()));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,t.targetId).next(u=>{u.forEach(d=>this.Ls.add(d.toString()))}).next(()=>s.removeTargetData(e,t))}ks(){this.$s=new Set}Os(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return gt.forEach(this.Ls,s=>{const u=Zt.fromPath(s);return this.qs(e,u).next(d=>{d||t.removeEntry(u,ln.min())})}).next(()=>(this.$s=null,t.apply(e)))}updateLimboDocument(e,t){return this.qs(e,t).next(s=>{s?this.Ls.delete(t.toString()):this.Ls.add(t.toString())})}xs(e){return 0}qs(e,t){return gt.or([()=>gt.resolve(this.Fs.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ms(e,t)])}}class Z_{constructor(e){this.yt=e}$(e,t,s,u){const d=new Au("createOrUpgrade",t);var C;s<1&&u>=1&&(e.createObjectStore("owner"),(C=e).createObjectStore("mutationQueues",{keyPath:"userId"}),C.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",Ap,{unique:!0}),C.createObjectStore("documentMutations"),Hp(e),function(C){C.createObjectStore("remoteDocuments")}(e));let m=gt.resolve();return s<3&&u>=3&&(0!==s&&(function(C){C.deleteObjectStore("targetDocuments"),C.deleteObjectStore("targets"),C.deleteObjectStore("targetGlobal")}(e),Hp(e)),m=m.next(()=>function(C){const L=C.store("targetGlobal"),G={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:ln.min().toTimestamp(),targetCount:0};return L.put("targetGlobalKey",G)}(d))),s<4&&u>=4&&(0!==s&&(m=m.next(()=>function(C,L){return L.store("mutations").W().next(G=>{C.deleteObjectStore("mutations"),C.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",Ap,{unique:!0});const oe=L.store("mutations"),xe=G.map(at=>oe.put(at));return gt.waitFor(xe)})}(e,d))),m=m.next(()=>{!function(C){C.createObjectStore("clientMetadata",{keyPath:"clientId"})}(e)})),s<5&&u>=5&&(m=m.next(()=>this.Us(d))),s<6&&u>=6&&(m=m.next(()=>(function(C){C.createObjectStore("remoteDocumentGlobal")}(e),this.Ks(d)))),s<7&&u>=7&&(m=m.next(()=>this.Gs(d))),s<8&&u>=8&&(m=m.next(()=>this.Qs(e,d))),s<9&&u>=9&&(m=m.next(()=>{!function(C){C.objectStoreNames.contains("remoteDocumentChanges")&&C.deleteObjectStore("remoteDocumentChanges")}(e)})),s<10&&u>=10&&(m=m.next(()=>this.js(d))),s<11&&u>=11&&(m=m.next(()=>{(function(C){C.createObjectStore("bundles",{keyPath:"bundleId"})})(e),function(C){C.createObjectStore("namedQueries",{keyPath:"name"})}(e)})),s<12&&u>=12&&(m=m.next(()=>{!function(C){const L=C.createObjectStore("documentOverlays",{keyPath:V_});L.createIndex("collectionPathOverlayIndex",B_,{unique:!1}),L.createIndex("collectionGroupOverlayIndex",$_,{unique:!1})}(e)})),s<13&&u>=13&&(m=m.next(()=>function(C){const L=C.createObjectStore("remoteDocumentsV14",{keyPath:jm});L.createIndex("documentKeyIndex",Hm),L.createIndex("collectionGroupIndex",Gm)}(e)).next(()=>this.Ws(e,d)).next(()=>e.deleteObjectStore("remoteDocuments"))),s<14&&u>=14&&(m=m.next(()=>this.zs(e,d))),s<15&&u>=15&&(m=m.next(()=>function(C){C.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),C.createObjectStore("indexState",{keyPath:N_}).createIndex("sequenceNumberIndex",F_,{unique:!1}),C.createObjectStore("indexEntries",{keyPath:L_}).createIndex("documentKeyIndex",zm,{unique:!1})}(e))),m}Ks(e){let t=0;return e.store("remoteDocuments").Z((s,u)=>{t+=Nd(u)}).next(()=>{const s={byteSize:t};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",s)})}Us(e){const t=e.store("mutationQueues"),s=e.store("mutations");return t.W().next(u=>gt.forEach(u,d=>{const m=IDBKeyRange.bound([d.userId,-1],[d.userId,d.lastAcknowledgedBatchId]);return s.W("userMutationsIndex",m).next(C=>gt.forEach(C,L=>{dn(L.userId===d.userId);const G=vc(this.yt,L);return Xh(e,d.userId,G).next(()=>{})}))}))}Gs(e){const t=e.store("targetDocuments"),s=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next(u=>{const d=[];return s.Z((m,C)=>{const L=new Tr(m),G=[0,Qs(L)];d.push(t.get(G).next(oe=>oe?gt.resolve():t.put({targetId:0,path:Qs(L),sequenceNumber:u.highestListenSequenceNumber})))}).next(()=>gt.waitFor(d))})}Qs(e,t){e.createObjectStore("collectionParents",{keyPath:Td});const s=t.store("collectionParents"),u=new Yh,d=m=>{if(u.add(m)){const C=m.lastSegment(),L=m.popLast();return s.put({collectionId:C,parent:Qs(L)})}};return t.store("remoteDocuments").Z({X:!0},(m,C)=>{const L=new Tr(m);return d(L.popLast())}).next(()=>t.store("documentMutations").Z({X:!0},([m,C,L],G)=>{const oe=ha(C);return d(oe.popLast())}))}js(e){const t=e.store("targets");return t.Z((s,u)=>{const d=Md(u),m=Np(this.yt,d);return t.put(m)})}Ws(e,t){const s=t.store("remoteDocuments"),u=[];return s.Z((d,m)=>{const C=t.store("remoteDocumentsV14"),L=(G=m,G.document?new Zt(Tr.fromString(G.document.name).popFirst(5)):G.noDocument?Zt.fromSegments(G.noDocument.path):G.unknownDocument?Zt.fromSegments(G.unknownDocument.path):tn()).path.toArray();var G;const oe={prefixPath:L.slice(0,L.length-2),collectionGroup:L[L.length-2],documentId:L[L.length-1],readTime:m.readTime||[0,0],unknownDocument:m.unknownDocument,noDocument:m.noDocument,document:m.document,hasCommittedMutations:!!m.hasCommittedMutations};u.push(C.put(oe))}).next(()=>gt.waitFor(u))}zs(e,t){const s=t.store("mutations"),u=Ld(this.yt),d=new _y(Xo.Bs,this.yt.ie);return s.W().next(m=>{const C=new Map;return m.forEach(L=>{var G;let oe=null!==(G=C.get(L.userId))&&void 0!==G?G:hr();vc(this.yt,L).keys().forEach(xe=>oe=oe.add(xe)),C.set(L.userId,oe)}),gt.forEach(C,(L,G)=>{const oe=new Lr(G),xe=zu.re(this.yt,oe),at=d.getIndexManager(oe),Dt=Rl.re(oe,this.yt,at,d.referenceDelegate);return new gy(u,Dt,xe,at).recalculateAndSaveOverlaysForDocumentKeys(new Hh(t,Ii.at),L).next()})})}}function Hp(r){r.createObjectStore("targetDocuments",{keyPath:P_}).createIndex("documentTargetsIndex",Op,{unique:!0}),r.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",Rp,{unique:!0}),r.createObjectStore("targetGlobal")}const Gp="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class zp{constructor(e,t,s,u,d,m,C,L,G,oe,xe=15){if(this.allowTabSynchronization=e,this.persistenceKey=t,this.clientId=s,this.Hs=d,this.window=m,this.document=C,this.Js=G,this.Ys=oe,this.Xs=xe,this.Ss=null,this.Ds=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Zs=null,this.inForeground=!1,this.ti=null,this.ei=null,this.ni=Number.NEGATIVE_INFINITY,this.si=at=>Promise.resolve(),!zp.C())throw new Tt(vt.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new dy(this,u),this.ii=t+"main",this.yt=new Gh(L),this.ri=new js(this.ii,this.Xs,new Z_(this.yt)),this.Cs=new ay(this.referenceDelegate,this.yt),this.remoteDocumentCache=Ld(this.yt),this.Ns=new j_,this.window&&this.window.localStorage?this.oi=this.window.localStorage:(this.oi=null,!1===oe&&Zr("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.ui().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new Tt(vt.FAILED_PRECONDITION,Gp);return this.ci(),this.ai(),this.hi(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.Cs.getHighestSequenceNumber(e))}).then(e=>{this.Ss=new Ii(e,this.Js)}).then(()=>{this.Ds=!0}).catch(e=>(this.ri&&this.ri.close(),Promise.reject(e)))}li(e){var t=this;return this.si=function(){var s=(0,ee.Z)(function*(u){if(t.started)return e(u)});return function(u){return s.apply(this,arguments)}}(),e(this.isPrimary)}setDatabaseDeletedListener(e){this.ri.L(function(){var t=(0,ee.Z)(function*(s){null===s.newVersion&&(yield e())});return function(s){return t.apply(this,arguments)}}())}setNetworkEnabled(e){var t=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.Hs.enqueueAndForget((0,ee.Z)(function*(){t.started&&(yield t.ui())})))}ui(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>ef(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.fi(e).next(t=>{t||(this.isPrimary=!1,this.Hs.enqueueRetryable(()=>this.si(!1)))})}).next(()=>this.di(e)).next(t=>this.isPrimary&&!t?this._i(e).next(()=>!1):!!t&&this.wi(e).next(()=>!0))).catch(e=>{if(gs(e))return Nt("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return Nt("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.Hs.enqueueRetryable(()=>this.si(e)),this.isPrimary=e})}fi(e){return Bd(e).get("owner").next(t=>gt.resolve(this.mi(t)))}gi(e){return ef(e).delete(this.clientId)}yi(){var e=this;return(0,ee.Z)(function*(){if(e.isPrimary&&!e.pi(e.ni,18e5)){e.ni=Date.now();const t=yield e.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",s=>{const u=Js(s,"clientMetadata");return u.W().next(d=>{const m=e.Ii(d,18e5),C=d.filter(L=>-1===m.indexOf(L));return gt.forEach(C,L=>u.delete(L.clientId)).next(()=>C)})}).catch(()=>[]);if(e.oi)for(const s of t)e.oi.removeItem(e.Ti(s.clientId))}})()}hi(){this.ei=this.Hs.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.ui().then(()=>this.yi()).then(()=>this.hi()))}mi(e){return!!e&&e.ownerId===this.clientId}di(e){return this.Ys?gt.resolve(!0):Bd(e).get("owner").next(t=>{if(null!==t&&this.pi(t.leaseTimestampMs,5e3)&&!this.Ei(t.ownerId)){if(this.mi(t)&&this.networkEnabled)return!0;if(!this.mi(t)){if(!t.allowTabSynchronization)throw new Tt(vt.FAILED_PRECONDITION,Gp);return!1}}return!(!this.networkEnabled||!this.inForeground)||ef(e).W().next(s=>void 0===this.Ii(s,5e3).find(u=>{if(this.clientId!==u.clientId){const m=!this.inForeground&&u.inForeground,C=this.networkEnabled===u.networkEnabled;if(!this.networkEnabled&&u.networkEnabled||m&&C)return!0}return!1}))}).next(t=>(this.isPrimary!==t&&Nt("IndexedDbPersistence",`Client ${t?"is":"is not"} eligible for a primary lease.`),t))}shutdown(){var e=this;return(0,ee.Z)(function*(){e.Ds=!1,e.Ai(),e.ei&&(e.ei.cancel(),e.ei=null),e.Ri(),e.bi(),yield e.ri.runTransaction("shutdown","readwrite",["owner","clientMetadata"],t=>{const s=new Hh(t,Ii.at);return e._i(s).next(()=>e.gi(s))}),e.ri.close(),e.Pi()})()}Ii(e,t){return e.filter(s=>this.pi(s.updateTimeMs,t)&&!this.Ei(s.clientId))}vi(){return this.runTransaction("getActiveClients","readonly",e=>ef(e).W().next(t=>this.Ii(t,18e5).map(s=>s.clientId)))}get started(){return this.Ds}getMutationQueue(e,t){return Rl.re(e,this.yt,t,this.referenceDelegate)}getTargetCache(){return this.Cs}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new $p(e,this.yt.ie.databaseId)}getDocumentOverlayCache(e){return zu.re(this.yt,e)}getBundleCache(){return this.Ns}runTransaction(e,t,s){Nt("IndexedDbPersistence","Starting transaction:",e);const u="readonly"===t?"readonly":"readwrite",d=15===(m=this.Xs)?U_:14===m?Ym:13===m?qm:12===m?kp:11===m?Wm:void tn();var m;let C;return this.ri.runTransaction(e,u,d,L=>(C=new Hh(L,this.Ss?this.Ss.next():Ii.at),"readwrite-primary"===t?this.fi(C).next(G=>!!G||this.di(C)).next(G=>{if(!G)throw Zr(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.Hs.enqueueRetryable(()=>this.si(!1)),new Tt(vt.FAILED_PRECONDITION,au);return s(C)}).next(G=>this.wi(C).next(()=>G)):this.Vi(C).next(()=>s(C)))).then(L=>(C.raiseOnCommittedEvent(),L))}Vi(e){return Bd(e).get("owner").next(t=>{if(null!==t&&this.pi(t.leaseTimestampMs,5e3)&&!this.Ei(t.ownerId)&&!this.mi(t)&&!(this.Ys||this.allowTabSynchronization&&t.allowTabSynchronization))throw new Tt(vt.FAILED_PRECONDITION,Gp)})}wi(e){const t={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return Bd(e).put("owner",t)}static C(){return js.C()}_i(e){const t=Bd(e);return t.get("owner").next(s=>this.mi(s)?(Nt("IndexedDbPersistence","Releasing primary lease."),t.delete("owner")):gt.resolve())}pi(e,t){const s=Date.now();return!(e<s-t||e>s&&(Zr(`Detected an update time that is in the future: ${e} > ${s}`),1))}ci(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.ti=()=>{this.Hs.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.ui()))},this.document.addEventListener("visibilitychange",this.ti),this.inForeground="visible"===this.document.visibilityState)}Ri(){this.ti&&(this.document.removeEventListener("visibilitychange",this.ti),this.ti=null)}ai(){var e;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.Zs=()=>{this.Ai(),(0,Pe.G6)()&&navigator.appVersion.match(/Version\/1[45]/)&&this.Hs.enterRestrictedMode(!0),this.Hs.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.Zs))}bi(){this.Zs&&(this.window.removeEventListener("pagehide",this.Zs),this.Zs=null)}Ei(e){var t;try{const s=null!==(null===(t=this.oi)||void 0===t?void 0:t.getItem(this.Ti(e)));return Nt("IndexedDbPersistence",`Client '${e}' ${s?"is":"is not"} zombied in LocalStorage`),s}catch(s){return Zr("IndexedDbPersistence","Failed to get zombied client id.",s),!1}}Ai(){if(this.oi)try{this.oi.setItem(this.Ti(this.clientId),String(Date.now()))}catch(e){Zr("Failed to set zombie client id.",e)}}Pi(){if(this.oi)try{this.oi.removeItem(this.Ti(this.clientId))}catch(e){}}Ti(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function Bd(r){return Js(r,"owner")}function ef(r){return Js(r,"clientMetadata")}function tf(r,e){let t=r.projectId;return r.isDefaultDatabase||(t+="."+r.database),"firestore/"+e+"/"+t+"/"}class Wp{constructor(e,t,s,u){this.targetId=e,this.fromCache=t,this.Si=s,this.Di=u}static Ci(e,t){let s=hr(),u=hr();for(const d of t.docChanges)switch(d.type){case 0:s=s.add(d.doc.key);break;case 1:u=u.add(d.doc.key)}return new Wp(e,t.fromCache,s,u)}}class by{constructor(){this.xi=!1}initialize(e,t){this.Ni=e,this.indexManager=t,this.xi=!0}getDocumentsMatchingQuery(e,t,s,u){return this.ki(e,t).next(d=>d||this.Oi(e,t,u,s)).next(d=>d||this.Mi(e,t))}ki(e,t){if(yd(t))return gt.resolve(null);let s=oo(t);return this.indexManager.getIndexType(e,s).next(u=>0===u?null:(null!==t.limit&&1===u&&(t=du(t,null,"F"),s=oo(t)),this.indexManager.getDocumentsMatchingTarget(e,s).next(d=>{const m=hr(...d);return this.Ni.getDocuments(e,m).next(C=>this.indexManager.getMinOffset(e,s).next(L=>{const G=this.Fi(t,C);return this.$i(t,G,m,L.readTime)?this.ki(e,du(t,null,"F")):this.Bi(e,G,t,L)}))})))}Oi(e,t,s,u){return yd(t)||u.isEqual(ln.min())?this.Mi(e,t):this.Ni.getDocuments(e,s).next(d=>{const m=this.Fi(t,d);return this.$i(t,m,s,u)?this.Mi(e,t):(no()<=ct.in.DEBUG&&Nt("QueryEngine","Re-using previous result from %s to execute query: %s",u.toString(),vd(t)),this.Bi(e,m,t,Io(u,-1)))})}Fi(e,t){let s=new ri(Pu(e));return t.forEach((u,d)=>{bl(e,d)&&(s=s.add(d))}),s}$i(e,t,s,u){if(null===e.limit)return!1;if(s.size!==t.size)return!0;const d="F"===e.limitType?t.last():t.first();return!!d&&(d.hasPendingWrites||d.version.compareTo(u)>0)}Mi(e,t){return no()<=ct.in.DEBUG&&Nt("QueryEngine","Using full collection scan to execute query:",vd(t)),this.Ni.getDocumentsMatchingQuery(e,t,Us.min())}Bi(e,t,s,u){return this.Ni.getDocumentsMatchingQuery(e,s,u).next(d=>(t.forEach(m=>{d=d.insert(m.key,m)}),d))}}class X_{constructor(e,t,s,u){this.persistence=e,this.Li=t,this.yt=u,this.qi=new wi(kn),this.Ui=new Vu(d=>Wo(d),Nc),this.Ki=new Map,this.Gi=e.getRemoteDocumentCache(),this.Cs=e.getTargetCache(),this.Ns=e.getBundleCache(),this.Qi(s)}Qi(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new gy(this.Gi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Gi.setIndexManager(this.indexManager),this.Li.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.qi))}}function ur(r,e,t,s){return new X_(r,e,t,s)}function qp(r,e){return nf.apply(this,arguments)}function nf(){return nf=(0,ee.Z)(function*(r,e){const t=Yt(r);return yield t.persistence.runTransaction("Handle user change","readonly",s=>{let u;return t.mutationQueue.getAllMutationBatches(s).next(d=>(u=d,t.Qi(e),t.mutationQueue.getAllMutationBatches(s))).next(d=>{const m=[],C=[];let L=hr();for(const G of u){m.push(G.batchId);for(const oe of G.mutations)L=L.add(oe.key)}for(const G of d){C.push(G.batchId);for(const oe of G.mutations)L=L.add(oe.key)}return t.localDocuments.getDocuments(s,L).next(G=>({ji:G,removedBatchIds:m,addedBatchIds:C}))})})}),nf.apply(this,arguments)}function Ey(r,e){const t=Yt(r);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",s=>{const u=e.batch.keys(),d=t.Gi.newChangeBuffer({trackRemovals:!0});return function(m,C,L,G){const oe=L.batch,xe=oe.keys();let at=gt.resolve();return xe.forEach(Dt=>{at=at.next(()=>G.getEntry(C,Dt)).next(Ot=>{const Jt=L.docVersions.get(Dt);dn(null!==Jt),Ot.version.compareTo(Jt)<0&&(oe.applyToRemoteDocument(Ot,L),Ot.isValidDocument()&&(Ot.setReadTime(L.commitVersion),G.addEntry(Ot)))})}),at.next(()=>m.mutationQueue.removeMutationBatch(C,oe))}(t,s,e,d).next(()=>d.apply(s)).next(()=>t.mutationQueue.performConsistencyCheck(s)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(s,u,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,function(m){let C=hr();for(let L=0;L<m.mutationResults.length;++L)m.mutationResults[L].transformResults.length>0&&(C=C.add(m.batch.mutations[L].key));return C}(e))).next(()=>t.localDocuments.getDocuments(s,u))})}function Iy(r){const e=Yt(r);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Cs.getLastRemoteSnapshotVersion(t))}function Q_(r,e){const t=Yt(r),s=e.snapshotVersion;let u=t.qi;return t.persistence.runTransaction("Apply remote event","readwrite-primary",d=>{const m=t.Gi.newChangeBuffer({trackRemovals:!0});u=t.qi;const C=[];e.targetChanges.forEach((oe,xe)=>{const at=u.get(xe);if(!at)return;C.push(t.Cs.removeMatchingKeys(d,oe.removedDocuments,xe).next(()=>t.Cs.addMatchingKeys(d,oe.addedDocuments,xe)));let Dt=at.withSequenceNumber(d.currentSequenceNumber);var Ot,Jt,_n;e.targetMismatches.has(xe)?Dt=Dt.withResumeToken(Vr.EMPTY_BYTE_STRING,ln.min()).withLastLimboFreeSnapshotVersion(ln.min()):oe.resumeToken.approximateByteSize()>0&&(Dt=Dt.withResumeToken(oe.resumeToken,s)),u=u.insert(xe,Dt),Jt=Dt,_n=oe,(0===(Ot=at).resumeToken.approximateByteSize()||Jt.snapshotVersion.toMicroseconds()-Ot.snapshotVersion.toMicroseconds()>=3e8||_n.addedDocuments.size+_n.modifiedDocuments.size+_n.removedDocuments.size>0)&&C.push(t.Cs.updateTargetData(d,Dt))});let L=Os(),G=hr();if(e.documentUpdates.forEach(oe=>{e.resolvedLimboDocuments.has(oe)&&C.push(t.persistence.referenceDelegate.updateLimboDocument(d,oe))}),C.push(Yp(d,m,e.documentUpdates).next(oe=>{L=oe.Wi,G=oe.zi})),!s.isEqual(ln.min())){const oe=t.Cs.getLastRemoteSnapshotVersion(d).next(xe=>t.Cs.setTargetsMetadata(d,d.currentSequenceNumber,s));C.push(oe)}return gt.waitFor(C).next(()=>m.apply(d)).next(()=>t.localDocuments.getLocalViewOfDocuments(d,L,G)).next(()=>L)}).then(d=>(t.qi=u,d))}function Yp(r,e,t){let s=hr(),u=hr();return t.forEach(d=>s=s.add(d)),e.getEntries(r,s).next(d=>{let m=Os();return t.forEach((C,L)=>{const G=d.get(C);L.isFoundDocument()!==G.isFoundDocument()&&(u=u.add(C)),L.isNoDocument()&&L.version.isEqual(ln.min())?(e.removeEntry(C,L.readTime),m=m.insert(C,L)):!G.isValidDocument()||L.version.compareTo(G.version)>0||0===L.version.compareTo(G.version)&&G.hasPendingWrites?(e.addEntry(L),m=m.insert(C,L)):Nt("LocalStore","Ignoring outdated watch update for ",C,". Current version:",G.version," Watch version:",L.version)}),{Wi:m,zi:u}})}function J_(r,e){const t=Yt(r);return t.persistence.runTransaction("Get next mutation batch","readonly",s=>(void 0===e&&(e=-1),t.mutationQueue.getNextMutationBatchAfterBatchId(s,e)))}function el(r,e){const t=Yt(r);return t.persistence.runTransaction("Allocate target","readwrite",s=>{let u;return t.Cs.getTargetData(s,e).next(d=>d?(u=d,gt.resolve(u)):t.Cs.allocateTargetId(s).next(m=>(u=new Gu(e,m,0,s.currentSequenceNumber),t.Cs.addTargetData(s,u).next(()=>u))))}).then(s=>{const u=t.qi.get(s.targetId);return(null===u||s.snapshotVersion.compareTo(u.snapshotVersion)>0)&&(t.qi=t.qi.insert(s.targetId,s),t.Ui.set(e,s.targetId)),s})}function Pl(r,e,t){return Kp.apply(this,arguments)}function Kp(){return Kp=(0,ee.Z)(function*(r,e,t){const s=Yt(r),u=s.qi.get(e),d=t?"readwrite":"readwrite-primary";try{t||(yield s.persistence.runTransaction("Release target",d,m=>s.persistence.referenceDelegate.removeTarget(m,u)))}catch(m){if(!gs(m))throw m;Nt("LocalStore",`Failed to update sequence numbers for target ${e}: ${m}`)}s.qi=s.qi.remove(e),s.Ui.delete(u.target)}),Kp.apply(this,arguments)}function Zp(r,e,t){const s=Yt(r);let u=ln.min(),d=hr();return s.persistence.runTransaction("Execute query","readonly",m=>function(C,L,G){const oe=Yt(C),xe=oe.Ui.get(G);return void 0!==xe?gt.resolve(oe.qi.get(xe)):oe.Cs.getTargetData(L,G)}(s,m,oo(e)).next(C=>{if(C)return u=C.lastLimboFreeSnapshotVersion,s.Cs.getMatchingKeysForTargetId(m,C.targetId).next(L=>{d=L})}).next(()=>s.Li.getDocumentsMatchingQuery(m,e,t?u:ln.min(),t?d:hr())).next(C=>(Ec(s,Um(e),C),{documents:C,Hi:d})))}function Xp(r,e){const t=Yt(r),s=Yt(t.Cs),u=t.qi.get(e);return u?Promise.resolve(u.target):t.persistence.runTransaction("Get target data","readonly",d=>s.ne(d,e).next(m=>m?m.target:null))}function Qp(r,e){const t=Yt(r),s=t.Ki.get(e)||ln.min();return t.persistence.runTransaction("Get new document changes","readonly",u=>t.Gi.getAllFromCollectionGroup(u,e,Io(s,-1),Number.MAX_SAFE_INTEGER)).then(u=>(Ec(t,e,u),u))}function Ec(r,e,t){let s=r.Ki.get(e)||ln.min();t.forEach((u,d)=>{d.readTime.compareTo(s)>0&&(s=d.readTime)}),r.Ki.set(e,s)}function $d(){return $d=(0,ee.Z)(function*(r,e,t,s){const u=Yt(r);let d=hr(),m=Os();for(const G of t){const oe=e.Ji(G.metadata.name);G.document&&(d=d.add(oe));const xe=e.Yi(G);xe.setReadTime(e.Xi(G.metadata.readTime)),m=m.insert(oe,xe)}const C=u.Gi.newChangeBuffer({trackRemovals:!0}),L=yield el(u,(G=s,oo(cu(Tr.fromString(`__bundle__/docs/${G}`)))));var G;return u.persistence.runTransaction("Apply bundle documents","readwrite",G=>Yp(G,C,m).next(oe=>(C.apply(G),oe)).next(oe=>u.Cs.removeMatchingKeysForTargetId(G,L.targetId).next(()=>u.Cs.addMatchingKeys(G,d,L.targetId)).next(()=>u.localDocuments.getLocalViewOfDocuments(G,oe.Wi,oe.zi)).next(()=>oe.Wi)))}),$d.apply(this,arguments)}function Jp(r,e){return eg.apply(this,arguments)}function eg(){return eg=(0,ee.Z)(function*(r,e,t=hr()){const s=yield el(r,oo(Fp(e.bundledQuery))),u=Yt(r);return u.persistence.runTransaction("Save named query","readwrite",d=>{const m=Gi(e.readTime);if(s.snapshotVersion.compareTo(m)>=0)return u.Ns.saveNamedQuery(d,e);const C=s.withResumeToken(Vr.EMPTY_BYTE_STRING,m);return u.qi=u.qi.insert(C.targetId,C),u.Cs.updateTargetData(d,C).next(()=>u.Cs.removeMatchingKeysForTargetId(d,s.targetId)).next(()=>u.Cs.addMatchingKeys(d,t,s.targetId)).next(()=>u.Ns.saveNamedQuery(d,e))})}),eg.apply(this,arguments)}function t0(r,e){return`firestore_clients_${r}_${e}`}function n0(r,e,t){let s=`firestore_mutations_${r}_${t}`;return e.isAuthenticated()&&(s+=`_${e.uid}`),s}function wy(r,e){return`firestore_targets_${r}_${e}`}class rf{constructor(e,t,s,u){this.user=e,this.batchId=t,this.state=s,this.error=u}static Zi(e,t,s){const u=JSON.parse(s);let d,m="object"==typeof u&&-1!==["pending","acknowledged","rejected"].indexOf(u.state)&&(void 0===u.error||"object"==typeof u.error);return m&&u.error&&(m="string"==typeof u.error.message&&"string"==typeof u.error.code,m&&(d=new Tt(u.error.code,u.error.message))),m?new rf(e,t,u.state,d):(Zr("SharedClientState",`Failed to parse mutation state for ID '${t}': ${s}`),null)}tr(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class Nl{constructor(e,t,s){this.targetId=e,this.state=t,this.error=s}static Zi(e,t){const s=JSON.parse(t);let u,d="object"==typeof s&&-1!==["not-current","current","rejected"].indexOf(s.state)&&(void 0===s.error||"object"==typeof s.error);return d&&s.error&&(d="string"==typeof s.error.message&&"string"==typeof s.error.code,d&&(u=new Tt(s.error.code,s.error.message))),d?new Nl(e,s.state,u):(Zr("SharedClientState",`Failed to parse target state for ID '${e}': ${t}`),null)}tr(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class tg{constructor(e,t){this.clientId=e,this.activeTargetIds=t}static Zi(e,t){const s=JSON.parse(t);let u="object"==typeof s&&s.activeTargetIds instanceof Array,d=Uu();for(let m=0;u&&m<s.activeTargetIds.length;++m)u=ic(s.activeTargetIds[m]),d=d.add(s.activeTargetIds[m]);return u?new tg(e,d):(Zr("SharedClientState",`Failed to parse client data for instance '${e}': ${t}`),null)}}class ng{constructor(e,t){this.clientId=e,this.onlineState=t}static Zi(e){const t=JSON.parse(e);return"object"==typeof t&&-1!==["Unknown","Online","Offline"].indexOf(t.onlineState)&&"string"==typeof t.clientId?new ng(t.clientId,t.onlineState):(Zr("SharedClientState",`Failed to parse online state: ${e}`),null)}}class Ic{constructor(){this.activeTargetIds=Uu()}er(e){this.activeTargetIds=this.activeTargetIds.add(e)}nr(e){this.activeTargetIds=this.activeTargetIds.delete(e)}tr(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class rg{constructor(e,t,s,u,d){this.window=e,this.Hs=t,this.persistenceKey=s,this.sr=u,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.ir=this.rr.bind(this),this.ur=new wi(kn),this.started=!1,this.cr=[];const m=s.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=d,this.ar=t0(this.persistenceKey,this.sr),this.hr=`firestore_sequence_number_${this.persistenceKey}`,this.ur=this.ur.insert(this.sr,new Ic),this.lr=new RegExp(`^firestore_clients_${m}_([^_]*)$`),this.dr=new RegExp(`^firestore_mutations_${m}_(\\d+)(?:_(.*))?$`),this._r=new RegExp(`^firestore_targets_${m}_(\\d+)$`),this.wr=`firestore_online_state_${this.persistenceKey}`,this.mr=function(C){return`firestore_bundle_loaded_v2_${C}`}(this.persistenceKey),this.window.addEventListener("storage",this.ir)}static C(e){return!(!e||!e.localStorage)}start(){var e=this;return(0,ee.Z)(function*(){const t=yield e.syncEngine.vi();for(const u of t){if(u===e.sr)continue;const d=e.getItem(t0(e.persistenceKey,u));if(d){const m=tg.Zi(u,d);m&&(e.ur=e.ur.insert(m.clientId,m))}}e.gr();const s=e.storage.getItem(e.wr);if(s){const u=e.yr(s);u&&e.pr(u)}for(const u of e.cr)e.rr(u);e.cr=[],e.window.addEventListener("pagehide",()=>e.shutdown()),e.started=!0})()}writeSequenceNumber(e){this.setItem(this.hr,JSON.stringify(e))}getAllActiveQueryTargets(){return this.Ir(this.ur)}isActiveQueryTarget(e){let t=!1;return this.ur.forEach((s,u)=>{u.activeTargetIds.has(e)&&(t=!0)}),t}addPendingMutation(e){this.Tr(e,"pending")}updateMutationState(e,t,s){this.Tr(e,t,s),this.Er(e)}addLocalQueryTarget(e){let t="not-current";if(this.isActiveQueryTarget(e)){const s=this.storage.getItem(wy(this.persistenceKey,e));if(s){const u=Nl.Zi(e,s);u&&(t=u.state)}}return this.Ar.er(e),this.gr(),t}removeLocalQueryTarget(e){this.Ar.nr(e),this.gr()}isLocalQueryTarget(e){return this.Ar.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(wy(this.persistenceKey,e))}updateQueryState(e,t,s){this.Rr(e,t,s)}handleUserChange(e,t,s){t.forEach(u=>{this.Er(u)}),this.currentUser=e,s.forEach(u=>{this.addPendingMutation(u)})}setOnlineState(e){this.br(e)}notifyBundleLoaded(e){this.Pr(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this.ir),this.removeItem(this.ar),this.started=!1)}getItem(e){const t=this.storage.getItem(e);return Nt("SharedClientState","READ",e,t),t}setItem(e,t){Nt("SharedClientState","SET",e,t),this.storage.setItem(e,t)}removeItem(e){Nt("SharedClientState","REMOVE",e),this.storage.removeItem(e)}rr(e){var t=this;const s=e;if(s.storageArea===this.storage){if(Nt("SharedClientState","EVENT",s.key,s.newValue),s.key===this.ar)return void Zr("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Hs.enqueueRetryable((0,ee.Z)(function*(){if(t.started){if(null!==s.key)if(t.lr.test(s.key)){if(null==s.newValue){const u=t.vr(s.key);return t.Vr(u,null)}{const u=t.Sr(s.key,s.newValue);if(u)return t.Vr(u.clientId,u)}}else if(t.dr.test(s.key)){if(null!==s.newValue){const u=t.Dr(s.key,s.newValue);if(u)return t.Cr(u)}}else if(t._r.test(s.key)){if(null!==s.newValue){const u=t.Nr(s.key,s.newValue);if(u)return t.kr(u)}}else if(s.key===t.wr){if(null!==s.newValue){const u=t.yr(s.newValue);if(u)return t.pr(u)}}else if(s.key===t.hr){const u=function(d){let m=Ii.at;if(null!=d)try{const C=JSON.parse(d);dn("number"==typeof C),m=C}catch(C){Zr("SharedClientState","Failed to read sequence number from WebStorage",C)}return m}(s.newValue);u!==Ii.at&&t.sequenceNumberHandler(u)}else if(s.key===t.mr){const u=t.Or(s.newValue);yield Promise.all(u.map(d=>t.syncEngine.Mr(d)))}}else t.cr.push(s)}))}}get Ar(){return this.ur.get(this.sr)}gr(){this.setItem(this.ar,this.Ar.tr())}Tr(e,t,s){const u=new rf(this.currentUser,e,t,s),d=n0(this.persistenceKey,this.currentUser,e);this.setItem(d,u.tr())}Er(e){const t=n0(this.persistenceKey,this.currentUser,e);this.removeItem(t)}br(e){this.storage.setItem(this.wr,JSON.stringify({clientId:this.sr,onlineState:e}))}Rr(e,t,s){const u=wy(this.persistenceKey,e),d=new Nl(e,t,s);this.setItem(u,d.tr())}Pr(e){const t=JSON.stringify(Array.from(e));this.setItem(this.mr,t)}vr(e){const t=this.lr.exec(e);return t?t[1]:null}Sr(e,t){const s=this.vr(e);return tg.Zi(s,t)}Dr(e,t){const s=this.dr.exec(e),u=Number(s[1]);return rf.Zi(new Lr(void 0!==s[2]?s[2]:null),u,t)}Nr(e,t){const s=this._r.exec(e),u=Number(s[1]);return Nl.Zi(u,t)}yr(e){return ng.Zi(e)}Or(e){return JSON.parse(e)}Cr(e){var t=this;return(0,ee.Z)(function*(){if(e.user.uid===t.currentUser.uid)return t.syncEngine.Fr(e.batchId,e.state,e.error);Nt("SharedClientState",`Ignoring mutation for non-active user ${e.user.uid}`)})()}kr(e){return this.syncEngine.$r(e.targetId,e.state,e.error)}Vr(e,t){const s=t?this.ur.insert(e,t):this.ur.remove(e),u=this.Ir(this.ur),d=this.Ir(s),m=[],C=[];return d.forEach(L=>{u.has(L)||m.push(L)}),u.forEach(L=>{d.has(L)||C.push(L)}),this.syncEngine.Br(m,C).then(()=>{this.ur=s})}pr(e){this.ur.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}Ir(e){let t=Uu();return e.forEach((s,u)=>{t=t.unionWith(u.activeTargetIds)}),t}}class ig{constructor(){this.Lr=new Ic,this.qr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,s){}addLocalQueryTarget(e){return this.Lr.er(e),this.qr[e]||"not-current"}updateQueryState(e,t,s){this.qr[e]=t}removeLocalQueryTarget(e){this.Lr.nr(e)}isLocalQueryTarget(e){return this.Lr.activeTargetIds.has(e)}clearQueryState(e){delete this.qr[e]}getAllActiveQueryTargets(){return this.Lr.activeTargetIds}isActiveQueryTarget(e){return this.Lr.activeTargetIds.has(e)}start(){return this.Lr=new Ic,Promise.resolve()}handleUserChange(e,t,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class sf{Ur(e){}shutdown(){}}class Dy{constructor(){this.Kr=()=>this.Gr(),this.Qr=()=>this.jr(),this.Wr=[],this.zr()}Ur(e){this.Wr.push(e)}shutdown(){window.removeEventListener("online",this.Kr),window.removeEventListener("offline",this.Qr)}zr(){window.addEventListener("online",this.Kr),window.addEventListener("offline",this.Qr)}Gr(){Nt("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.Wr)e(0)}jr(){Nt("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.Wr)e(1)}static C(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}const Cy={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class r0{constructor(e){this.Hr=e.Hr,this.Jr=e.Jr}Yr(e){this.Xr=e}Zr(e){this.eo=e}onMessage(e){this.no=e}close(){this.Jr()}send(e){this.Hr(e)}so(){this.Xr()}io(e){this.eo(e)}ro(e){this.no(e)}}class s0 extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId,this.oo=(e.ssl?"https":"http")+"://"+e.host,this.uo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}get co(){return!1}ao(e,t,s,u,d){const m=this.ho(e,t);Nt("RestConnection","Sending: ",m,s);const C={};return this.lo(C,u,d),this.fo(e,m,C,s).then(L=>(Nt("RestConnection","Received: ",L),L),L=>{throw xs("RestConnection",`${e} failed with error: `,L,"url: ",m,"request:",s),L})}_o(e,t,s,u,d,m){return this.ao(e,t,s,u,d)}lo(e,t,s){e["X-Goog-Api-Client"]="gl-js/ fire/"+bo,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((u,d)=>e[d]=u),s&&s.headers.forEach((u,d)=>e[d]=u)}ho(e,t){return`${this.oo}/v1/${t}:${Cy[e]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams}fo(e,t,s,u){return new Promise((d,m)=>{const C=new Cu;C.setWithCredentials(!0),C.listenOnce(Oo.COMPLETE,()=>{try{switch(C.getLastErrorCode()){case Ia.NO_ERROR:const G=C.getResponseJson();Nt("Connection","XHR received:",JSON.stringify(G)),d(G);break;case Ia.TIMEOUT:Nt("Connection",'RPC "'+e+'" timed out'),m(new Tt(vt.DEADLINE_EXCEEDED,"Request time out"));break;case Ia.HTTP_ERROR:const oe=C.getStatus();if(Nt("Connection",'RPC "'+e+'" failed with status:',oe,"response text:",C.getResponseText()),oe>0){let xe=C.getResponseJson();Array.isArray(xe)&&(xe=xe[0]);const at=null==xe?void 0:xe.error;if(at&&at.status&&at.message){const Dt=function(Ot){const Jt=Ot.toLowerCase().replace(/_/g,"-");return Object.values(vt).indexOf(Jt)>=0?Jt:vt.UNKNOWN}(at.status);m(new Tt(Dt,at.message))}else m(new Tt(vt.UNKNOWN,"Server responded with status "+C.getStatus()))}else m(new Tt(vt.UNAVAILABLE,"Connection failed."));break;default:tn()}}finally{Nt("Connection",'RPC "'+e+'" completed.')}});const L=JSON.stringify(u);C.send(t,"POST",L,s,15)})}wo(e,t,s){const u=[this.oo,"/","google.firestore.v1.Firestore","/",e,"/channel"],d=Ea(),m=Na(),C={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(C.xmlHttpFactory=new nc({})),this.lo(C.initMessageHeaders,t,s),C.encodeInitMessageHeaders=!0;const L=u.join("");Nt("Connection","Creating WebChannel: "+L,C);const G=d.createWebChannel(L,C);let oe=!1,xe=!1;const at=new r0({Hr:Ot=>{xe?Nt("Connection","Not sending because WebChannel is closed:",Ot):(oe||(Nt("Connection","Opening WebChannel transport."),G.open(),oe=!0),Nt("Connection","WebChannel sending:",Ot),G.send(Ot))},Jr:()=>G.close()}),Dt=(Ot,Jt,_n)=>{Ot.listen(Jt,Qr=>{try{_n(Qr)}catch(Di){setTimeout(()=>{throw Di},0)}})};return Dt(G,Du.EventType.OPEN,()=>{xe||Nt("Connection","WebChannel transport opened.")}),Dt(G,Du.EventType.CLOSE,()=>{xe||(xe=!0,Nt("Connection","WebChannel transport closed"),at.io())}),Dt(G,Du.EventType.ERROR,Ot=>{xe||(xe=!0,xs("Connection","WebChannel transport errored:",Ot),at.io(new Tt(vt.UNAVAILABLE,"The operation could not be completed")))}),Dt(G,Du.EventType.MESSAGE,Ot=>{var Jt;if(!xe){const _n=Ot.data[0];dn(!!_n);const Qr=_n,Di=Qr.error||(null===(Jt=Qr[0])||void 0===Jt?void 0:Jt.error);if(Di){Nt("Connection","WebChannel received error:",Di);const Mr=Di.status;let vr=function(Ar){const Es=Qi[Ar];if(void 0!==Es)return Ip(Es)}(Mr),Qn=Di.message;void 0===vr&&(vr=vt.INTERNAL,Qn="Unknown error status: "+Mr+" with message "+Di.message),xe=!0,at.io(new Tt(vr,Qn)),G.close()}else Nt("Connection","WebChannel received:",_n),at.ro(_n)}}),Dt(m,wu.STAT_EVENT,Ot=>{Ot.stat===na.PROXY?Nt("Connection","Detected buffering proxy"):Ot.stat===na.NOPROXY&&Nt("Connection","Detected no buffering proxy")}),setTimeout(()=>{at.so()},0),at}}function Sy(){return"undefined"!=typeof window?window:null}function af(){return"undefined"!=typeof document?document:null}function Ud(r){return new Dp(r,!0)}class uf{constructor(e,t,s=1e3,u=1.5,d=6e4){this.Hs=e,this.timerId=t,this.mo=s,this.yo=u,this.po=d,this.Io=0,this.To=null,this.Eo=Date.now(),this.reset()}reset(){this.Io=0}Ao(){this.Io=this.po}Ro(e){this.cancel();const t=Math.floor(this.Io+this.bo()),s=Math.max(0,Date.now()-this.Eo),u=Math.max(0,t-s);u>0&&Nt("ExponentialBackoff",`Backing off for ${u} ms (base delay: ${this.Io} ms, delay with jitter: ${t} ms, last attempt: ${s} ms ago)`),this.To=this.Hs.enqueueAfterDelay(this.timerId,u,()=>(this.Eo=Date.now(),e())),this.Io*=this.yo,this.Io<this.mo&&(this.Io=this.mo),this.Io>this.po&&(this.Io=this.po)}Po(){null!==this.To&&(this.To.skipDelay(),this.To=null)}cancel(){null!==this.To&&(this.To.cancel(),this.To=null)}bo(){return(Math.random()-.5)*this.Io}}class Ty{constructor(e,t,s,u,d,m,C,L){this.Hs=e,this.vo=s,this.Vo=u,this.connection=d,this.authCredentialsProvider=m,this.appCheckCredentialsProvider=C,this.listener=L,this.state=0,this.So=0,this.Do=null,this.Co=null,this.stream=null,this.xo=new uf(e,t)}No(){return 1===this.state||5===this.state||this.ko()}ko(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Oo()}stop(){var e=this;return(0,ee.Z)(function*(){e.No()&&(yield e.close(0))})()}Mo(){this.state=0,this.xo.reset()}Fo(){this.ko()&&null===this.Do&&(this.Do=this.Hs.enqueueAfterDelay(this.vo,6e4,()=>this.$o()))}Bo(e){this.Lo(),this.stream.send(e)}$o(){var e=this;return(0,ee.Z)(function*(){if(e.ko())return e.close(0)})()}Lo(){this.Do&&(this.Do.cancel(),this.Do=null)}qo(){this.Co&&(this.Co.cancel(),this.Co=null)}close(e,t){var s=this;return(0,ee.Z)(function*(){s.Lo(),s.qo(),s.xo.cancel(),s.So++,4!==e?s.xo.reset():t&&t.code===vt.RESOURCE_EXHAUSTED?(Zr(t.toString()),Zr("Using maximum backoff delay to prevent overloading the backend."),s.xo.Ao()):t&&t.code===vt.UNAUTHENTICATED&&3!==s.state&&(s.authCredentialsProvider.invalidateToken(),s.appCheckCredentialsProvider.invalidateToken()),null!==s.stream&&(s.Uo(),s.stream.close(),s.stream=null),s.state=e,yield s.listener.Zr(t)})()}Uo(){}auth(){this.state=1;const e=this.Ko(this.So),t=this.So;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([s,u])=>{this.So===t&&this.Go(s,u)},s=>{e(()=>{const u=new Tt(vt.UNKNOWN,"Fetching auth token failed: "+s.message);return this.Qo(u)})})}Go(e,t){const s=this.Ko(this.So);this.stream=this.jo(e,t),this.stream.Yr(()=>{s(()=>(this.state=2,this.Co=this.Hs.enqueueAfterDelay(this.Vo,1e4,()=>(this.ko()&&(this.state=3),Promise.resolve())),this.listener.Yr()))}),this.stream.Zr(u=>{s(()=>this.Qo(u))}),this.stream.onMessage(u=>{s(()=>this.onMessage(u))})}Oo(){var e=this;this.state=5,this.xo.Ro((0,ee.Z)(function*(){e.state=0,e.start()}))}Qo(e){return Nt("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Ko(e){return t=>{this.Hs.enqueueAndForget(()=>this.So===e?t():(Nt("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class Ay extends Ty{constructor(e,t,s,u,d,m){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,s,u,m),this.yt=d}jo(e,t){return this.connection.wo("Listen",e,t)}onMessage(e){this.xo.reset();const t=function ne(r,e){let t;if("targetChange"in e){const s="NO_CHANGE"===(L=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===L?1:"REMOVE"===L?2:"CURRENT"===L?3:"RESET"===L?4:tn(),u=e.targetChange.targetIds||[],d=function(L,G){return L.wt?(dn(void 0===G||"string"==typeof G),Vr.fromBase64String(G||"")):(dn(void 0===G||G instanceof Uint8Array),Vr.fromUint8Array(G||new Uint8Array))}(r,e.targetChange.resumeToken),m=e.targetChange.cause,C=m&&function(L){const G=void 0===L.code?vt.UNKNOWN:Ip(L.code);return new Tt(G,L.message||"")}(m);t=new yc(s,u,d,C||null)}else if("documentChange"in e){const s=e.documentChange,u=Ra(r,s.document.name),d=Gi(s.document.updateTime),m=s.document.createTime?Gi(s.document.createTime):ln.min(),C=new vs({mapValue:{fields:s.document.fields}}),L=yi.newFoundDocument(u,d,m,C);t=new Sl(s.targetIds||[],s.removedTargetIds||[],L.key,L)}else if("documentDelete"in e){const s=e.documentDelete,u=Ra(r,s.document),d=s.readTime?Gi(s.readTime):ln.min(),m=yi.newNoDocument(u,d);t=new Sl([],s.removedTargetIds||[],m.key,m)}else if("documentRemove"in e){const s=e.documentRemove,u=Ra(r,s.document);t=new Sl([],s.removedTargetIds||[],u,null)}else{if(!("filter"in e))return tn();{const s=e.filter,d=new Ep(s.count||0);t=new la(s.targetId,d)}}var L;return t}(this.yt,e),s=function(u){if(!("targetChange"in u))return ln.min();const d=u.targetChange;return d.targetIds&&d.targetIds.length?ln.min():d.readTime?Gi(d.readTime):ln.min()}(e);return this.listener.Wo(t,s)}zo(e){const t={};t.database=_(this.yt),t.addTarget=function(u,d){let m;const C=d.target;return m=ml(C)?{documents:un(u,C)}:{query:Fn(u,C)},m.targetId=d.targetId,d.resumeToken.approximateByteSize()>0?m.resumeToken=da(u,d.resumeToken):d.snapshotVersion.compareTo(ln.min())>0&&(m.readTime=uo(u,d.snapshotVersion.toTimestamp())),m}(this.yt,e);const s=function _s(r,e){const t=function(s,u){switch(u){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return tn()}}(0,e.purpose);return null==t?null:{"goog-listen-tags":t}}(0,e);s&&(t.labels=s),this.Bo(t)}Ho(e){const t={};t.database=_(this.yt),t.removeTarget=e,this.Bo(t)}}class xy extends Ty{constructor(e,t,s,u,d,m){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,s,u,m),this.yt=d,this.Jo=!1}get Yo(){return this.Jo}start(){this.Jo=!1,this.lastStreamToken=void 0,super.start()}Uo(){this.Jo&&this.Xo([])}jo(e,t){return this.connection.wo("Write",e,t)}onMessage(e){if(dn(!!e.streamToken),this.lastStreamToken=e.streamToken,this.Jo){this.xo.reset();const t=function Kt(r,e){return r&&r.length>0?(dn(void 0!==e),r.map(t=>function(s,u){let d=Gi(s.updateTime?s.updateTime:u);return d.isEqual(ln.min())&&(d=Gi(u)),new kh(d,s.transformResults||[])}(t,e))):[]}(e.writeResults,e.commitTime),s=Gi(e.commitTime);return this.listener.Zo(s,t)}return dn(!e.writeResults||0===e.writeResults.length),this.Jo=!0,this.listener.tu()}eu(){const e={};e.database=_(this.yt),this.Bo(e)}Xo(e){const t={streamToken:this.lastStreamToken,writes:e.map(s=>Ye(this.yt,s))};this.Bo(t)}}class sg extends class{}{constructor(e,t,s,u){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=s,this.yt=u,this.nu=!1}su(){if(this.nu)throw new Tt(vt.FAILED_PRECONDITION,"The client has already been terminated.")}ao(e,t,s){return this.su(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([u,d])=>this.connection.ao(e,t,s,u,d)).catch(u=>{throw"FirebaseError"===u.name?(u.code===vt.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new Tt(vt.UNKNOWN,u.toString())})}_o(e,t,s,u){return this.su(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([d,m])=>this.connection._o(e,t,s,d,m,u)).catch(d=>{throw"FirebaseError"===d.name?(d.code===vt.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),d):new Tt(vt.UNKNOWN,d.toString())})}terminate(){this.nu=!0}}class o0{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.iu=0,this.ru=null,this.ou=!0}uu(){0===this.iu&&(this.cu("Unknown"),this.ru=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.ru=null,this.au("Backend didn't respond within 10 seconds."),this.cu("Offline"),Promise.resolve())))}hu(e){"Online"===this.state?this.cu("Unknown"):(this.iu++,this.iu>=1&&(this.lu(),this.au(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.cu("Offline")))}set(e){this.lu(),this.iu=0,"Online"===e&&(this.ou=!1),this.cu(e)}cu(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}au(e){const t=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.ou?(Zr(t),this.ou=!1):Nt("OnlineStateTracker",t)}lu(){null!==this.ru&&(this.ru.cancel(),this.ru=null)}}class dE{constructor(e,t,s,u,d){var m=this;this.localStore=e,this.datastore=t,this.asyncQueue=s,this.remoteSyncer={},this.fu=[],this.du=new Map,this._u=new Set,this.wu=[],this.mu=d,this.mu.Ur(C=>{s.enqueueAndForget((0,ee.Z)(function*(){var L;mu(m)&&(Nt("RemoteStore","Restarting streams for network reachability change."),yield(L=(0,ee.Z)(function*(G){const oe=Yt(G);oe._u.add(4),yield tl(oe),oe.gu.set("Unknown"),oe._u.delete(4),yield gu(oe)}),function(G){return L.apply(this,arguments)})(m))}))}),this.gu=new o0(s,u)}}function gu(r){return cf.apply(this,arguments)}function cf(){return cf=(0,ee.Z)(function*(r){if(mu(r))for(const e of r.wu)yield e(!0)}),cf.apply(this,arguments)}function tl(r){return Fl.apply(this,arguments)}function Fl(){return Fl=(0,ee.Z)(function*(r){for(const e of r.wu)yield e(!1)}),Fl.apply(this,arguments)}function Qo(r,e){const t=Yt(r);t.du.has(e.targetId)||(t.du.set(e.targetId,e),Hd(t)?Wa(t):qd(t).ko()&&og(t,e))}function Ll(r,e){const t=Yt(r),s=qd(t);t.du.delete(e),s.ko()&&lf(t,e),0===t.du.size&&(s.ko()?s.Fo():mu(t)&&t.gu.set("Unknown"))}function og(r,e){r.yu.Ot(e.targetId),qd(r).zo(e)}function lf(r,e){r.yu.Ot(e),qd(r).Ho(e)}function Wa(r){r.yu=new Id({getRemoteKeysForTarget:e=>r.remoteSyncer.getRemoteKeysForTarget(e),ne:e=>r.du.get(e)||null}),qd(r).start(),r.gu.uu()}function Hd(r){return mu(r)&&!qd(r).No()&&r.du.size>0}function mu(r){return 0===Yt(r)._u.size}function df(r){r.yu=void 0}function hE(r){return hf.apply(this,arguments)}function hf(){return hf=(0,ee.Z)(function*(r){r.du.forEach((e,t)=>{og(r,e)})}),hf.apply(this,arguments)}function fE(r,e){return Vl.apply(this,arguments)}function Vl(){return Vl=(0,ee.Z)(function*(r,e){df(r),Hd(r)?(r.gu.hu(e),Wa(r)):r.gu.set("Unknown")}),Vl.apply(this,arguments)}function ff(r,e,t){return Gd.apply(this,arguments)}function Gd(){return Gd=(0,ee.Z)(function*(r,e,t){if(r.gu.set("Online"),e instanceof yc&&2===e.state&&e.cause)try{yield(s=(0,ee.Z)(function*(u,d){const m=d.cause;for(const C of d.targetIds)u.du.has(C)&&(yield u.remoteSyncer.rejectListen(C,m),u.du.delete(C),u.yu.removeTarget(C))}),function(u,d){return s.apply(this,arguments)})(r,e)}catch(s){Nt("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),s),yield Bl(r,s)}else if(e instanceof Sl?r.yu.Kt(e):e instanceof la?r.yu.Jt(e):r.yu.jt(e),!t.isEqual(ln.min()))try{const s=yield Iy(r.localStore);t.compareTo(s)>=0&&(yield function(u,d){const m=u.yu.Zt(d);return m.targetChanges.forEach((C,L)=>{if(C.resumeToken.approximateByteSize()>0){const G=u.du.get(L);G&&u.du.set(L,G.withResumeToken(C.resumeToken,d))}}),m.targetMismatches.forEach(C=>{const L=u.du.get(C);if(!L)return;u.du.set(C,L.withResumeToken(Vr.EMPTY_BYTE_STRING,L.snapshotVersion)),lf(u,C);const G=new Gu(L.target,C,1,L.sequenceNumber);og(u,G)}),u.remoteSyncer.applyRemoteEvent(m)}(r,t))}catch(s){Nt("RemoteStore","Failed to raise snapshot:",s),yield Bl(r,s)}var s}),Gd.apply(this,arguments)}function Bl(r,e,t){return zd.apply(this,arguments)}function zd(){return zd=(0,ee.Z)(function*(r,e,t){if(!gs(e))throw e;r._u.add(1),yield tl(r),r.gu.set("Offline"),t||(t=()=>Iy(r.localStore)),r.asyncQueue.enqueueRetryable((0,ee.Z)(function*(){Nt("RemoteStore","Retrying IndexedDB access"),yield t(),r._u.delete(1),yield gu(r)}))}),zd.apply(this,arguments)}function a0(r,e){return e().catch(t=>Bl(r,t,e))}function $l(r){return ag.apply(this,arguments)}function ag(){return ag=(0,ee.Z)(function*(r){const e=Yt(r),t=nl(e);let s=e.fu.length>0?e.fu[e.fu.length-1].batchId:-1;for(;u0(e);)try{const u=yield J_(e.localStore,s);if(null===u){0===e.fu.length&&t.Fo();break}s=u.batchId,c0(e,u)}catch(u){yield Bl(e,u)}ug(e)&&l0(e)}),ag.apply(this,arguments)}function u0(r){return mu(r)&&r.fu.length<10}function c0(r,e){r.fu.push(e);const t=nl(r);t.ko()&&t.Yo&&t.Xo(e.mutations)}function ug(r){return mu(r)&&!nl(r).No()&&r.fu.length>0}function l0(r){nl(r).start()}function d0(r){return My.apply(this,arguments)}function My(){return My=(0,ee.Z)(function*(r){nl(r).eu()}),My.apply(this,arguments)}function Ry(r){return pf.apply(this,arguments)}function pf(){return pf=(0,ee.Z)(function*(r){const e=nl(r);for(const t of r.fu)e.Xo(t.mutations)}),pf.apply(this,arguments)}function h0(r,e,t){return Wd.apply(this,arguments)}function Wd(){return Wd=(0,ee.Z)(function*(r,e,t){const s=r.fu.shift(),u=co.from(s,e,t);yield a0(r,()=>r.remoteSyncer.applySuccessfulWrite(u)),yield $l(r)}),Wd.apply(this,arguments)}function pE(r,e){return Oy.apply(this,arguments)}function Oy(){return Oy=(0,ee.Z)(function*(r,e){var t;e&&nl(r).Yo&&(yield(t=(0,ee.Z)(function*(s,u){if(Vh(d=u.code)&&d!==vt.ABORTED){const m=s.fu.shift();nl(s).Mo(),yield a0(s,()=>s.remoteSyncer.rejectFailedWrite(m.batchId,u)),yield $l(s)}var d}),function(s,u){return t.apply(this,arguments)})(r,e)),ug(r)&&l0(r)}),Oy.apply(this,arguments)}function f0(r,e){return ky.apply(this,arguments)}function ky(){return ky=(0,ee.Z)(function*(r,e){const t=Yt(r);t.asyncQueue.verifyOperationInProgress(),Nt("RemoteStore","RemoteStore received new credentials");const s=mu(t);t._u.add(3),yield tl(t),s&&t.gu.set("Unknown"),yield t.remoteSyncer.handleCredentialChange(e),t._u.delete(3),yield gu(t)}),ky.apply(this,arguments)}function Py(r,e){return Ny.apply(this,arguments)}function Ny(){return Ny=(0,ee.Z)(function*(r,e){const t=Yt(r);e?(t._u.delete(2),yield gu(t)):e||(t._u.add(2),yield tl(t),t.gu.set("Unknown"))}),Ny.apply(this,arguments)}function qd(r){return r.pu||(r.pu=function(e,t,s){const u=Yt(e);return u.su(),new Ay(t,u.connection,u.authCredentials,u.appCheckCredentials,u.yt,s)}(r.datastore,r.asyncQueue,{Yr:hE.bind(null,r),Zr:fE.bind(null,r),Wo:ff.bind(null,r)}),r.wu.push(function(){var e=(0,ee.Z)(function*(t){t?(r.pu.Mo(),Hd(r)?Wa(r):r.gu.set("Unknown")):(yield r.pu.stop(),df(r))});return function(t){return e.apply(this,arguments)}}())),r.pu}function nl(r){return r.Iu||(r.Iu=function(e,t,s){const u=Yt(e);return u.su(),new xy(t,u.connection,u.authCredentials,u.appCheckCredentials,u.yt,s)}(r.datastore,r.asyncQueue,{Yr:d0.bind(null,r),Zr:pE.bind(null,r),tu:Ry.bind(null,r),Zo:h0.bind(null,r)}),r.wu.push(function(){var e=(0,ee.Z)(function*(t){t?(r.Iu.Mo(),yield $l(r)):(yield r.Iu.stop(),r.fu.length>0&&(Nt("RemoteStore",`Stopping write stream with ${r.fu.length} pending writes`),r.fu=[]))});return function(t){return e.apply(this,arguments)}}())),r.Iu}class Fy{constructor(e,t,s,u,d){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=s,this.op=u,this.removalCallback=d,this.deferred=new mi,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(m=>{})}static createAndSchedule(e,t,s,u,d){const m=Date.now()+s,C=new Fy(e,t,m,u,d);return C.start(s),C}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Tt(vt.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Yd(r,e){if(Zr("AsyncQueue",`${e}: ${r}`),gs(r))return new Tt(vt.UNAVAILABLE,`${e}: ${r}`);throw r}class ga{constructor(e){this.comparator=e?(t,s)=>e(t,s)||Zt.comparator(t.key,s.key):(t,s)=>Zt.comparator(t.key,s.key),this.keyedMap=Bu(),this.sortedSet=new wi(this.comparator)}static emptySet(e){return new ga(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,s)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof ga)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;t.hasNext();){const u=t.getNext().key,d=s.getNext().key;if(!u.isEqual(d))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const s=new ga;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=t,s}}class gf{constructor(){this.Tu=new wi(Zt.comparator)}track(e){const t=e.doc.key,s=this.Tu.get(t);s?0!==e.type&&3===s.type?this.Tu=this.Tu.insert(t,e):3===e.type&&1!==s.type?this.Tu=this.Tu.insert(t,{type:s.type,doc:e.doc}):2===e.type&&2===s.type?this.Tu=this.Tu.insert(t,{type:2,doc:e.doc}):2===e.type&&0===s.type?this.Tu=this.Tu.insert(t,{type:0,doc:e.doc}):1===e.type&&0===s.type?this.Tu=this.Tu.remove(t):1===e.type&&2===s.type?this.Tu=this.Tu.insert(t,{type:1,doc:s.doc}):0===e.type&&1===s.type?this.Tu=this.Tu.insert(t,{type:2,doc:e.doc}):tn():this.Tu=this.Tu.insert(t,e)}Eu(){const e=[];return this.Tu.inorderTraversal((t,s)=>{e.push(s)}),e}}class Ul{constructor(e,t,s,u,d,m,C,L,G){this.query=e,this.docs=t,this.oldDocs=s,this.docChanges=u,this.mutatedKeys=d,this.fromCache=m,this.syncStateChanged=C,this.excludesMetadataChanges=L,this.hasCachedResults=G}static fromInitialDocuments(e,t,s,u,d){const m=[];return t.forEach(C=>{m.push({type:0,doc:C})}),new Ul(e,t,ga.emptySet(t),m,s,u,!0,!1,d)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Lc(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,s=e.docChanges;if(t.length!==s.length)return!1;for(let u=0;u<t.length;u++)if(t[u].type!==s[u].type||!t[u].doc.isEqual(s[u].doc))return!1;return!0}}class Ly{constructor(){this.Au=void 0,this.listeners=[]}}class cg{constructor(){this.queries=new Vu(e=>vp(e),Lc),this.onlineState="Unknown",this.Ru=new Set}}function mf(r,e){return Kd.apply(this,arguments)}function Kd(){return Kd=(0,ee.Z)(function*(r,e){const t=Yt(r),s=e.query;let u=!1,d=t.queries.get(s);if(d||(u=!0,d=new Ly),u)try{d.Au=yield t.onListen(s)}catch(m){const C=Yd(m,`Initialization of query '${vd(e.query)}' failed`);return void e.onError(C)}t.queries.set(s,d),d.listeners.push(e),e.bu(t.onlineState),d.Au&&e.Pu(d.Au)&&dg(t)}),Kd.apply(this,arguments)}function lg(r,e){return yu.apply(this,arguments)}function yu(){return yu=(0,ee.Z)(function*(r,e){const t=Yt(r),s=e.query;let u=!1;const d=t.queries.get(s);if(d){const m=d.listeners.indexOf(e);m>=0&&(d.listeners.splice(m,1),u=0===d.listeners.length)}if(u)return t.queries.delete(s),t.onUnlisten(s)}),yu.apply(this,arguments)}function Vy(r,e){const t=Yt(r);let s=!1;for(const u of e){const m=t.queries.get(u.query);if(m){for(const C of m.listeners)C.Pu(u)&&(s=!0);m.Au=u}}s&&dg(t)}function p0(r,e,t){const s=Yt(r),u=s.queries.get(e);if(u)for(const d of u.listeners)d.onError(t);s.queries.delete(e)}function dg(r){r.Ru.forEach(e=>{e.next()})}class yf{constructor(e,t,s){this.query=e,this.vu=t,this.Vu=!1,this.Su=null,this.onlineState="Unknown",this.options=s||{}}Pu(e){if(!this.options.includeMetadataChanges){const s=[];for(const u of e.docChanges)3!==u.type&&s.push(u);e=new Ul(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Vu?this.Du(e)&&(this.vu.next(e),t=!0):this.Cu(e,this.onlineState)&&(this.xu(e),t=!0),this.Su=e,t}onError(e){this.vu.error(e)}bu(e){this.onlineState=e;let t=!1;return this.Su&&!this.Vu&&this.Cu(this.Su,e)&&(this.xu(this.Su),t=!0),t}Cu(e,t){return!e.fromCache||(!this.options.Nu||!("Offline"!==t))&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}Du(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.Su&&this.Su.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}xu(e){e=Ul.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Vu=!0,this.vu.next(e)}}class g0{constructor(e,t){this.ku=e,this.byteLength=t}Ou(){return"metadata"in this.ku}}class By{constructor(e){this.yt=e}Ji(e){return Ra(this.yt,e)}Yi(e){return e.metadata.exists?D(this.yt,e.document,!1):yi.newNoDocument(this.Ji(e.metadata.name),this.Xi(e.metadata.readTime))}Xi(e){return Gi(e)}}class vf{constructor(e,t,s){this.Mu=e,this.localStore=t,this.yt=s,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=rl(e)}Fu(e){this.progress.bytesLoaded+=e.byteLength;let t=this.progress.documentsLoaded;if(e.ku.namedQuery)this.queries.push(e.ku.namedQuery);else if(e.ku.documentMetadata){this.documents.push({metadata:e.ku.documentMetadata}),e.ku.documentMetadata.exists||++t;const s=Tr.fromString(e.ku.documentMetadata.name);this.collectionGroups.add(s.get(s.length-2))}else e.ku.document&&(this.documents[this.documents.length-1].document=e.ku.document,++t);return t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}$u(e){const t=new Map,s=new By(this.yt);for(const u of e)if(u.metadata.queries){const d=s.Ji(u.metadata.name);for(const m of u.metadata.queries){const C=(t.get(m)||hr()).add(d);t.set(m,C)}}return t}complete(){var e=this;return(0,ee.Z)(function*(){const t=yield function e0(r,e,t,s){return $d.apply(this,arguments)}(e.localStore,new By(e.yt),e.documents,e.Mu.id),s=e.$u(e.documents);for(const u of e.queries)yield Jp(e.localStore,u,s.get(u.name));return e.progress.taskState="Success",{progress:e.progress,Bu:e.collectionGroups,Lu:t}})()}}function rl(r){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:r.totalDocuments,totalBytes:r.totalBytes}}class _f{constructor(e){this.key=e}}class il{constructor(e){this.key=e}}class bf{constructor(e,t){this.query=e,this.qu=t,this.Uu=null,this.hasCachedResults=!1,this.current=!1,this.Ku=hr(),this.mutatedKeys=hr(),this.Gu=Pu(e),this.Qu=new ga(this.Gu)}get ju(){return this.qu}Wu(e,t){const s=t?t.zu:new gf,u=t?t.Qu:this.Qu;let d=t?t.mutatedKeys:this.mutatedKeys,m=u,C=!1;const L="F"===this.query.limitType&&u.size===this.query.limit?u.last():null,G="L"===this.query.limitType&&u.size===this.query.limit?u.first():null;if(e.inorderTraversal((oe,xe)=>{const at=u.get(oe),Dt=bl(this.query,xe)?xe:null,Ot=!!at&&this.mutatedKeys.has(at.key),Jt=!!Dt&&(Dt.hasLocalMutations||this.mutatedKeys.has(Dt.key)&&Dt.hasCommittedMutations);let _n=!1;at&&Dt?at.data.isEqual(Dt.data)?Ot!==Jt&&(s.track({type:3,doc:Dt}),_n=!0):this.Hu(at,Dt)||(s.track({type:2,doc:Dt}),_n=!0,(L&&this.Gu(Dt,L)>0||G&&this.Gu(Dt,G)<0)&&(C=!0)):!at&&Dt?(s.track({type:0,doc:Dt}),_n=!0):at&&!Dt&&(s.track({type:1,doc:at}),_n=!0,(L||G)&&(C=!0)),_n&&(Dt?(m=m.add(Dt),d=Jt?d.add(oe):d.delete(oe)):(m=m.delete(oe),d=d.delete(oe)))}),null!==this.query.limit)for(;m.size>this.query.limit;){const oe="F"===this.query.limitType?m.last():m.first();m=m.delete(oe.key),d=d.delete(oe.key),s.track({type:1,doc:oe})}return{Qu:m,zu:s,$i:C,mutatedKeys:d}}Hu(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,s){const u=this.Qu;this.Qu=e.Qu,this.mutatedKeys=e.mutatedKeys;const d=e.zu.Eu();d.sort((G,oe)=>function(xe,at){const Dt=Ot=>{switch(Ot){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return tn()}};return Dt(xe)-Dt(at)}(G.type,oe.type)||this.Gu(G.doc,oe.doc)),this.Ju(s);const m=t?this.Yu():[],C=0===this.Ku.size&&this.current?1:0,L=C!==this.Uu;return this.Uu=C,0!==d.length||L?{snapshot:new Ul(this.query,e.Qu,u,d,e.mutatedKeys,0===C,L,!1,!!s&&s.resumeToken.approximateByteSize()>0),Xu:m}:{Xu:m}}bu(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({Qu:this.Qu,zu:new gf,mutatedKeys:this.mutatedKeys,$i:!1},!1)):{Xu:[]}}Zu(e){return!this.qu.has(e)&&!!this.Qu.has(e)&&!this.Qu.get(e).hasLocalMutations}Ju(e){e&&(e.addedDocuments.forEach(t=>this.qu=this.qu.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.qu=this.qu.delete(t)),this.current=e.current)}Yu(){if(!this.current)return[];const e=this.Ku;this.Ku=hr(),this.Qu.forEach(s=>{this.Zu(s.key)&&(this.Ku=this.Ku.add(s.key))});const t=[];return e.forEach(s=>{this.Ku.has(s)||t.push(new il(s))}),this.Ku.forEach(s=>{e.has(s)||t.push(new _f(s))}),t}tc(e){this.qu=e.Hi,this.Ku=hr();const t=this.Wu(e.documents);return this.applyChanges(t,!0)}ec(){return Ul.fromInitialDocuments(this.query,this.Qu,this.mutatedKeys,0===this.Uu,this.hasCachedResults)}}class Ef{constructor(e,t,s){this.query=e,this.targetId=t,this.view=s}}class $y{constructor(e){this.key=e,this.nc=!1}}class Uy{constructor(e,t,s,u,d,m){this.localStore=e,this.remoteStore=t,this.eventManager=s,this.sharedClientState=u,this.currentUser=d,this.maxConcurrentLimboResolutions=m,this.sc={},this.ic=new Vu(C=>vp(C),Lc),this.rc=new Map,this.oc=new Set,this.uc=new wi(Zt.comparator),this.cc=new Map,this.ac=new Vd,this.hc={},this.lc=new Map,this.fc=pa.vn(),this.onlineState="Unknown",this.dc=void 0}get isPrimaryClient(){return!0===this.dc}}function hg(r,e){return Zd.apply(this,arguments)}function Zd(){return Zd=(0,ee.Z)(function*(r,e){const t=Zy(r);let s,u;const d=t.ic.get(e);if(d)s=d.targetId,t.sharedClientState.addLocalQueryTarget(s),u=d.view.ec();else{const m=yield el(t.localStore,oo(e));t.isPrimaryClient&&Qo(t.remoteStore,m);const C=t.sharedClientState.addLocalQueryTarget(m.targetId);s=m.targetId,u=yield If(t,e,s,"current"===C,m.resumeToken)}return u}),Zd.apply(this,arguments)}function If(r,e,t,s,u){return Xd.apply(this,arguments)}function Xd(){return Xd=(0,ee.Z)(function*(r,e,t,s,u){r._c=(xe,at,Dt)=>{return(Ot=(0,ee.Z)(function*(Jt,_n,Qr,Di){let Mr=_n.view.Wu(Qr);Mr.$i&&(Mr=yield Zp(Jt.localStore,_n.query,!1).then(({documents:Ar})=>_n.view.Wu(Ar,Mr)));const vr=Di&&Di.targetChanges.get(_n.targetId),Qn=_n.view.applyChanges(Mr,Jt.isPrimaryClient,vr);return bg(Jt,_n.targetId,Qn.Xu),Qn.snapshot}),function(Jt,_n,Qr,Di){return Ot.apply(this,arguments)})(r,xe,at,Dt);var Ot};const d=yield Zp(r.localStore,e,!0),m=new bf(e,d.Hi),C=m.Wu(d.documents),L=Ko.createSynthesizedTargetChangeForCurrentChange(t,s&&"Offline"!==r.onlineState,u),G=m.applyChanges(C,r.isPrimaryClient,L);bg(r,t,G.Xu);const oe=new Ef(e,t,m);return r.ic.set(e,oe),r.rc.has(t)?r.rc.get(t).push(e):r.rc.set(t,[e]),G.snapshot}),Xd.apply(this,arguments)}function m0(r,e){return jy.apply(this,arguments)}function jy(){return jy=(0,ee.Z)(function*(r,e){const t=Yt(r),s=t.ic.get(e),u=t.rc.get(s.targetId);if(u.length>1)return t.rc.set(s.targetId,u.filter(d=>!Lc(d,e))),void t.ic.delete(e);t.isPrimaryClient?(t.sharedClientState.removeLocalQueryTarget(s.targetId),t.sharedClientState.isActiveQueryTarget(s.targetId)||(yield Pl(t.localStore,s.targetId,!1).then(()=>{t.sharedClientState.clearQueryState(s.targetId),Ll(t.remoteStore,s.targetId),jl(t,s.targetId)}).catch(Va))):(jl(t,s.targetId),yield Pl(t.localStore,s.targetId,!0))}),jy.apply(this,arguments)}function wf(){return wf=(0,ee.Z)(function*(r,e,t){const s=xf(r);try{const u=yield function(d,m){const C=Yt(d),L=Gr.now(),G=m.reduce((at,Dt)=>at.add(Dt.key),hr());let oe,xe;return C.persistence.runTransaction("Locally write mutations","readwrite",at=>{let Dt=Os(),Ot=hr();return C.Gi.getEntries(at,G).next(Jt=>{Dt=Jt,Dt.forEach((_n,Qr)=>{Qr.isValidDocument()||(Ot=Ot.add(_n))})}).next(()=>C.localDocuments.getOverlayedDocuments(at,Dt)).next(Jt=>{oe=Jt;const _n=[];for(const Qr of m){const Di=bp(Qr,oe.get(Qr.key).overlayedDocument);null!=Di&&_n.push(new ii(Qr.key,Di,Ah(Di.value.mapValue),Oi.exists(!0)))}return C.mutationQueue.addMutationBatch(at,L,_n,m)}).next(Jt=>{xe=Jt;const _n=Jt.applyToLocalDocumentSet(oe,Ot);return C.documentOverlayCache.saveOverlays(at,Jt.batchId,_n)})}).then(()=>({batchId:xe.batchId,changes:bd(oe)}))}(s.localStore,e);s.sharedClientState.addPendingMutation(u.batchId),function(d,m,C){let L=d.hc[d.currentUser.toKey()];L||(L=new wi(kn)),L=L.insert(m,C),d.hc[d.currentUser.toKey()]=L}(s,u.batchId,t),yield Yu(s,u.changes),yield $l(s.remoteStore)}catch(u){const d=Yd(u,"Failed to persist write");t.reject(d)}}),wf.apply(this,arguments)}function Hy(r,e){return Df.apply(this,arguments)}function Df(){return Df=(0,ee.Z)(function*(r,e){const t=Yt(r);try{const s=yield Q_(t.localStore,e);e.targetChanges.forEach((u,d)=>{const m=t.cc.get(d);m&&(dn(u.addedDocuments.size+u.modifiedDocuments.size+u.removedDocuments.size<=1),u.addedDocuments.size>0?m.nc=!0:u.modifiedDocuments.size>0?dn(m.nc):u.removedDocuments.size>0&&(dn(m.nc),m.nc=!1))}),yield Yu(t,s,e)}catch(s){yield Va(s)}}),Df.apply(this,arguments)}function fg(r,e,t){const s=Yt(r);if(s.isPrimaryClient&&0===t||!s.isPrimaryClient&&1===t){const u=[];s.ic.forEach((d,m)=>{const C=m.view.bu(e);C.snapshot&&u.push(C.snapshot)}),function(d,m){const C=Yt(d);C.onlineState=m;let L=!1;C.queries.forEach((G,oe)=>{for(const xe of oe.listeners)xe.bu(m)&&(L=!0)}),L&&dg(C)}(s.eventManager,e),u.length&&s.sc.Wo(u),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}function v0(r,e,t){return Vo.apply(this,arguments)}function Vo(){return Vo=(0,ee.Z)(function*(r,e,t){const s=Yt(r);s.sharedClientState.updateQueryState(e,"rejected",t);const u=s.cc.get(e),d=u&&u.key;if(d){let m=new wi(Zt.comparator);m=m.insert(d,yi.newNoDocument(d,ln.min()));const C=hr().add(d),L=new mc(ln.min(),new Map,new ri(kn),m,C);yield Hy(s,L),s.uc=s.uc.remove(d),s.cc.delete(e),Eg(s)}else yield Pl(s.localStore,e,!1).then(()=>jl(s,e,t)).catch(Va)}),Vo.apply(this,arguments)}function Gy(r,e){return pg.apply(this,arguments)}function pg(){return pg=(0,ee.Z)(function*(r,e){const t=Yt(r),s=e.batch.batchId;try{const u=yield Ey(t.localStore,e);vg(t,s,null),yg(t,s),t.sharedClientState.updateMutationState(s,"acknowledged"),yield Yu(t,u)}catch(u){yield Va(u)}}),pg.apply(this,arguments)}function gE(r,e,t){return gg.apply(this,arguments)}function gg(){return gg=(0,ee.Z)(function*(r,e,t){const s=Yt(r);try{const u=yield function(d,m){const C=Yt(d);return C.persistence.runTransaction("Reject batch","readwrite-primary",L=>{let G;return C.mutationQueue.lookupMutationBatch(L,m).next(oe=>(dn(null!==oe),G=oe.keys(),C.mutationQueue.removeMutationBatch(L,oe))).next(()=>C.mutationQueue.performConsistencyCheck(L)).next(()=>C.documentOverlayCache.removeOverlaysForBatchId(L,G,m)).next(()=>C.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(L,G)).next(()=>C.localDocuments.getDocuments(L,G))})}(s.localStore,e);vg(s,e,t),yg(s,e),s.sharedClientState.updateMutationState(e,"rejected",t),yield Yu(s,u)}catch(u){yield Va(u)}}),gg.apply(this,arguments)}function Cf(){return Cf=(0,ee.Z)(function*(r,e){const t=Yt(r);mu(t.remoteStore)||Nt("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const s=yield function(d){const m=Yt(d);return m.persistence.runTransaction("Get highest unacknowledged batch id","readonly",C=>m.mutationQueue.getHighestUnacknowledgedBatchId(C))}(t.localStore);if(-1===s)return void e.resolve();const u=t.lc.get(s)||[];u.push(e),t.lc.set(s,u)}catch(s){const u=Yd(s,"Initialization of waitForPendingWrites() operation failed");e.reject(u)}}),Cf.apply(this,arguments)}function yg(r,e){(r.lc.get(e)||[]).forEach(t=>{t.resolve()}),r.lc.delete(e)}function vg(r,e,t){const s=Yt(r);let u=s.hc[s.currentUser.toKey()];if(u){const d=u.get(e);d&&(t?d.reject(t):d.resolve(),u=u.remove(e)),s.hc[s.currentUser.toKey()]=u}}function jl(r,e,t=null){r.sharedClientState.removeLocalQueryTarget(e);for(const s of r.rc.get(e))r.ic.delete(s),t&&r.sc.wc(s,t);r.rc.delete(e),r.isPrimaryClient&&r.ac.ls(e).forEach(s=>{r.ac.containsKey(s)||_g(r,s)})}function _g(r,e){r.oc.delete(e.path.canonicalString());const t=r.uc.get(e);null!==t&&(Ll(r.remoteStore,t),r.uc=r.uc.remove(e),r.cc.delete(t),Eg(r))}function bg(r,e,t){for(const s of t)s instanceof _f?(r.ac.addReference(s.key,e),zy(r,s)):s instanceof il?(Nt("SyncEngine","Document no longer in limbo: "+s.key),r.ac.removeReference(s.key,e),r.ac.containsKey(s.key)||_g(r,s.key)):tn()}function zy(r,e){const t=e.key,s=t.path.canonicalString();r.uc.get(t)||r.oc.has(s)||(Nt("SyncEngine","New document in limbo: "+t),r.oc.add(s),Eg(r))}function Eg(r){for(;r.oc.size>0&&r.uc.size<r.maxConcurrentLimboResolutions;){const e=r.oc.values().next().value;r.oc.delete(e);const t=new Zt(Tr.fromString(e)),s=r.fc.next();r.cc.set(s,new $y(t)),r.uc=r.uc.insert(t,s),Qo(r.remoteStore,new Gu(oo(cu(t.path)),s,2,Ii.at))}}function Yu(r,e,t){return Sf.apply(this,arguments)}function Sf(){return Sf=(0,ee.Z)(function*(r,e,t){const s=Yt(r),u=[],d=[],m=[];var C;s.ic.isEmpty()||(s.ic.forEach((C,L)=>{m.push(s._c(L,e,t).then(G=>{if((G||t)&&s.isPrimaryClient&&s.sharedClientState.updateQueryState(L.targetId,null!=G&&G.fromCache?"not-current":"current"),G){u.push(G);const oe=Wp.Ci(L.targetId,G);d.push(oe)}}))}),yield Promise.all(m),s.sc.Wo(u),yield(C=(0,ee.Z)(function*(L,G){const oe=Yt(L);try{yield oe.persistence.runTransaction("notifyLocalViewChanges","readwrite",xe=>gt.forEach(G,at=>gt.forEach(at.Si,Dt=>oe.persistence.referenceDelegate.addReference(xe,at.targetId,Dt)).next(()=>gt.forEach(at.Di,Dt=>oe.persistence.referenceDelegate.removeReference(xe,at.targetId,Dt)))))}catch(xe){if(!gs(xe))throw xe;Nt("LocalStore","Failed to update sequence numbers: "+xe)}for(const xe of G){const at=xe.targetId;if(!xe.fromCache){const Dt=oe.qi.get(at),Jt=Dt.withLastLimboFreeSnapshotVersion(Dt.snapshotVersion);oe.qi=oe.qi.insert(at,Jt)}}}),function(L,G){return C.apply(this,arguments)})(s.localStore,d))}),Sf.apply(this,arguments)}function Wy(r,e){return Ig.apply(this,arguments)}function Ig(){return Ig=(0,ee.Z)(function*(r,e){const t=Yt(r);if(!t.currentUser.isEqual(e)){Nt("SyncEngine","User change. New user:",e.toKey());const s=yield qp(t.localStore,e);t.currentUser=e,(u=t).lc.forEach(m=>{m.forEach(C=>{C.reject(new Tt(vt.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),u.lc.clear(),t.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),yield Yu(t,s.ji)}var u}),Ig.apply(this,arguments)}function vu(r,e){const t=Yt(r),s=t.cc.get(e);if(s&&s.nc)return hr().add(s.key);{let u=hr();const d=t.rc.get(e);if(!d)return u;for(const m of d){const C=t.ic.get(m);u=u.unionWith(C.view.ju)}return u}}function wg(r,e){return Dg.apply(this,arguments)}function Dg(){return Dg=(0,ee.Z)(function*(r,e){const t=Yt(r),s=yield Zp(t.localStore,e.query,!0),u=e.view.tc(s);return t.isPrimaryClient&&bg(t,e.targetId,u.Xu),u}),Dg.apply(this,arguments)}function _0(r,e){return qy.apply(this,arguments)}function qy(){return qy=(0,ee.Z)(function*(r,e){const t=Yt(r);return Qp(t.localStore,e).then(s=>Yu(t,s))}),qy.apply(this,arguments)}function Yy(r,e,t,s){return Cg.apply(this,arguments)}function Cg(){return Cg=(0,ee.Z)(function*(r,e,t,s){const u=Yt(r),d=yield function(m,C){const L=Yt(m),G=Yt(L.mutationQueue);return L.persistence.runTransaction("Lookup mutation documents","readonly",oe=>G.Tn(oe,C).next(xe=>xe?L.localDocuments.getDocuments(oe,xe):gt.resolve(null)))}(u.localStore,e);var C;null!==d?("pending"===t?yield $l(u.remoteStore):"acknowledged"===t||"rejected"===t?(vg(u,e,s||null),yg(u,e),C=e,Yt(Yt(u.localStore).mutationQueue).An(C)):tn(),yield Yu(u,d)):Nt("SyncEngine","Cannot apply mutation batch with id: "+e)}),Cg.apply(this,arguments)}function Sg(){return Sg=(0,ee.Z)(function*(r,e){const t=Yt(r);if(Zy(t),xf(t),!0===e&&!0!==t.dc){const s=t.sharedClientState.getAllActiveQueryTargets(),u=yield Tf(t,s.toArray());t.dc=!0,yield Py(t.remoteStore,!0);for(const d of u)Qo(t.remoteStore,d)}else if(!1===e&&!1!==t.dc){const s=[];let u=Promise.resolve();t.rc.forEach((d,m)=>{t.sharedClientState.isLocalQueryTarget(m)?s.push(m):u=u.then(()=>(jl(t,m),Pl(t.localStore,m,!0))),Ll(t.remoteStore,m)}),yield u,yield Tf(t,s),function(d){const m=Yt(d);m.cc.forEach((C,L)=>{Ll(m.remoteStore,L)}),m.ac.fs(),m.cc=new Map,m.uc=new wi(Zt.comparator)}(t),t.dc=!1,yield Py(t.remoteStore,!1)}}),Sg.apply(this,arguments)}function Tf(r,e,t){return Tg.apply(this,arguments)}function Tg(){return Tg=(0,ee.Z)(function*(r,e,t){const s=Yt(r),u=[],d=[];for(const m of e){let C;const L=s.rc.get(m);if(L&&0!==L.length){C=yield el(s.localStore,oo(L[0]));for(const G of L){const oe=s.ic.get(G),xe=yield wg(s,oe);xe.snapshot&&d.push(xe.snapshot)}}else{const G=yield Xp(s.localStore,m);C=yield el(s.localStore,G),yield If(s,Ky(G),m,!1,C.resumeToken)}u.push(C)}return s.sc.Wo(d),u}),Tg.apply(this,arguments)}function Ky(r){return md(r.path,r.collectionGroup,r.orderBy,r.filters,r.limit,"F",r.startAt,r.endAt)}function Af(r){const e=Yt(r);return Yt(Yt(e.localStore).persistence).vi()}function Ag(r,e,t,s){return Hl.apply(this,arguments)}function Hl(){return Hl=(0,ee.Z)(function*(r,e,t,s){const u=Yt(r);if(u.dc)return void Nt("SyncEngine","Ignoring unexpected query state notification.");const d=u.rc.get(e);if(d&&d.length>0)switch(t){case"current":case"not-current":{const m=yield Qp(u.localStore,Um(d[0])),C=mc.createSynthesizedRemoteEventForCurrentChange(e,"current"===t,Vr.EMPTY_BYTE_STRING);yield Yu(u,m,C);break}case"rejected":yield Pl(u.localStore,e,!0),jl(u,e,s);break;default:tn()}}),Hl.apply(this,arguments)}function mE(r,e,t){return Qd.apply(this,arguments)}function Qd(){return Qd=(0,ee.Z)(function*(r,e,t){const s=Zy(r);if(s.dc){for(const u of e){if(s.rc.has(u)){Nt("SyncEngine","Adding an already active target "+u);continue}const d=yield Xp(s.localStore,u),m=yield el(s.localStore,d);yield If(s,Ky(d),m.targetId,!1,m.resumeToken),Qo(s.remoteStore,m)}for(const u of t)s.rc.has(u)&&(yield Pl(s.localStore,u,!1).then(()=>{Ll(s.remoteStore,u),jl(s,u)}).catch(Va))}}),Qd.apply(this,arguments)}function Zy(r){const e=Yt(r);return e.remoteStore.remoteSyncer.applyRemoteEvent=Hy.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=vu.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=v0.bind(null,e),e.sc.Wo=Vy.bind(null,e.eventManager),e.sc.wc=p0.bind(null,e.eventManager),e}function xf(r){const e=Yt(r);return e.remoteStore.remoteSyncer.applySuccessfulWrite=Gy.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=gE.bind(null,e),e}class xg{constructor(){this.synchronizeTabs=!1}initialize(e){var t=this;return(0,ee.Z)(function*(){t.yt=Ud(e.databaseInfo.databaseId),t.sharedClientState=t.gc(e),t.persistence=t.yc(e),yield t.persistence.start(),t.localStore=t.Ic(e),t.gcScheduler=t.Tc(e,t.localStore),t.indexBackfillerScheduler=t.Ec(e,t.localStore)})()}Tc(e,t){return null}Ec(e,t){return null}Ic(e){return ur(this.persistence,new by,e.initialUser,this.yt)}yc(e){return new _y(Xo.Bs,this.yt)}gc(e){return new ig}terminate(){var e=this;return(0,ee.Z)(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class Mg extends xg{constructor(e,t,s){super(),this.Ac=e,this.cacheSizeBytes=t,this.forceOwnership=s,this.synchronizeTabs=!1}initialize(e){var t=()=>super.initialize,s=this;return(0,ee.Z)(function*(){yield t().call(s,e),yield s.Ac.initialize(s,e),yield xf(s.Ac.syncEngine),yield $l(s.Ac.remoteStore),yield s.persistence.li(()=>(s.gcScheduler&&!s.gcScheduler.started&&s.gcScheduler.start(),s.indexBackfillerScheduler&&!s.indexBackfillerScheduler.started&&s.indexBackfillerScheduler.start(),Promise.resolve()))})()}Ic(e){return ur(this.persistence,new by,e.initialUser,this.yt)}Tc(e,t){return new cy(this.persistence.referenceDelegate.garbageCollector,e.asyncQueue,t)}Ec(e,t){const s=new ms(t,this.persistence);return new Ta(e.asyncQueue,s)}yc(e){const t=tf(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),s=void 0!==this.cacheSizeBytes?Lo.withCacheSize(this.cacheSizeBytes):Lo.DEFAULT;return new zp(this.synchronizeTabs,t,e.clientId,s,e.asyncQueue,Sy(),af(),this.yt,this.sharedClientState,!!this.forceOwnership)}gc(e){return new ig}}class Rg extends Mg{constructor(e,t){super(e,t,!1),this.Ac=e,this.cacheSizeBytes=t,this.synchronizeTabs=!0}initialize(e){var t=()=>super.initialize,s=this;return(0,ee.Z)(function*(){yield t().call(s,e);const u=s.Ac.syncEngine;s.sharedClientState instanceof rg&&(s.sharedClientState.syncEngine={Fr:Yy.bind(null,u),$r:Ag.bind(null,u),Br:mE.bind(null,u),vi:Af.bind(null,u),Mr:_0.bind(null,u)},yield s.sharedClientState.start()),yield s.persistence.li(function(){var d=(0,ee.Z)(function*(m){yield function b0(r,e){return Sg.apply(this,arguments)}(s.Ac.syncEngine,m),s.gcScheduler&&(m&&!s.gcScheduler.started?s.gcScheduler.start():m||s.gcScheduler.stop()),s.indexBackfillerScheduler&&(m&&!s.indexBackfillerScheduler.started?s.indexBackfillerScheduler.start():m||s.indexBackfillerScheduler.stop())});return function(m){return d.apply(this,arguments)}}())})()}gc(e){const t=Sy();if(!rg.C(t))throw new Tt(vt.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const s=tf(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new rg(t,e.asyncQueue,s,e.clientId,e.initialUser)}}class qa{initialize(e,t){var s=this;return(0,ee.Z)(function*(){s.localStore||(s.localStore=e.localStore,s.sharedClientState=e.sharedClientState,s.datastore=s.createDatastore(t),s.remoteStore=s.createRemoteStore(t),s.eventManager=s.createEventManager(t),s.syncEngine=s.createSyncEngine(t,!e.synchronizeTabs),s.sharedClientState.onlineStateHandler=u=>fg(s.syncEngine,u,1),s.remoteStore.remoteSyncer.handleCredentialChange=Wy.bind(null,s.syncEngine),yield Py(s.remoteStore,s.syncEngine.isPrimaryClient))})()}createEventManager(e){return new cg}createDatastore(e){const t=Ud(e.databaseInfo.databaseId),s=new s0(e.databaseInfo);return new sg(e.authCredentials,e.appCheckCredentials,s,t)}createRemoteStore(e){return t=this.localStore,s=this.datastore,u=e.asyncQueue,d=C=>fg(this.syncEngine,C,0),m=Dy.C()?new Dy:new sf,new dE(t,s,u,d,m);var t,s,u,d,m}createSyncEngine(e,t){return function(s,u,d,m,C,L,G){const oe=new Uy(s,u,d,m,C,L);return G&&(oe.dc=!0),oe}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}terminate(){return(e=(0,ee.Z)(function*(t){const s=Yt(t);Nt("RemoteStore","RemoteStore shutting down."),s._u.add(5),yield tl(s),s.mu.shutdown(),s.gu.set("Unknown")}),function(t){return e.apply(this,arguments)})(this.remoteStore);var e}}function Gl(r,e,t){if(!t)throw new Tt(vt.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${e}.`)}function Jd(r,e,t,s){if(!0===e&&!0===s)throw new Tt(vt.INVALID_ARGUMENT,`${r} and ${t} cannot be used together.`)}function zl(r){if(!Zt.isDocumentKey(r))throw new Tt(vt.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function Qy(r){if(Zt.isDocumentKey(r))throw new Tt(vt.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${r} has ${r.length}.`)}function Wl(r){if(void 0===r)return"undefined";if(null===r)return"null";if("string"==typeof r)return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if("number"==typeof r||"boolean"==typeof r)return""+r;if("object"==typeof r){if(r instanceof Array)return"an array";{const e=(t=r).constructor?t.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var t;return"function"==typeof r?"a function":tn()}function Nr(r,e){if("_delegate"in r&&(r=r._delegate),!(r instanceof e)){if(e.name===r.constructor.name)throw new Tt(vt.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=Wl(r);throw new Tt(vt.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return r}function Jy(r,e){if(e<=0)throw new Tt(vt.INVALID_ARGUMENT,`Function ${r}() requires a positive number, but it was: ${e}.`)}const ev=new Map;class ql{constructor(e){var t;if(void 0===e.host){if(void 0!==e.ssl)throw new Tt(vt.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new Tt(vt.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.useFetchStreams=!!e.useFetchStreams,Jd("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling)}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class eh{constructor(e,t,s,u){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=s,this._app=u,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new ql({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new Tt(vt.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new Tt(vt.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new ql(e),void 0!==e.credentials&&(this._authCredentials=function(t){if(!t)return new Ho;switch(t.type){case"gapi":return new nu(t.client,t.sessionIndex||"0",t.iamToken||null,t.authTokenFactory||null);case"provider":return t.client;default:throw new Tt(vt.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=ev.get(e);t&&(Nt("ComponentProvider","Removing Datastore"),ev.delete(e),t.terminate())}(this),Promise.resolve()}}class Li{constructor(e,t,s){this.converter=t,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new _u(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Li(this.firestore,e,this._key)}}class So{constructor(e,t,s){this.converter=t,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new So(this.firestore,e,this._query)}}class _u extends So{constructor(e,t,s){super(e,t,cu(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Li(this.firestore,null,new Zt(e))}withConverter(e){return new _u(this.firestore,e,this._path)}}function tv(r,e,...t){if(r=(0,Pe.m9)(r),Gl("collection","path",e),r instanceof eh){const s=Tr.fromString(e,...t);return Qy(s),new _u(r,null,s)}{if(!(r instanceof Li||r instanceof _u))throw new Tt(vt.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(Tr.fromString(e,...t));return Qy(s),new _u(r.firestore,null,s)}}function th(r,e,...t){if(r=(0,Pe.m9)(r),1===arguments.length&&(e=Ca.R()),Gl("doc","path",e),r instanceof eh){const s=Tr.fromString(e,...t);return zl(s),new Li(r,null,new Zt(s))}{if(!(r instanceof Li||r instanceof _u))throw new Tt(vt.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(Tr.fromString(e,...t));return zl(s),new Li(r.firestore,r instanceof _u?r.converter:null,new Zt(s))}}function Mf(r,e){return r=(0,Pe.m9)(r),e=(0,Pe.m9)(e),(r instanceof Li||r instanceof _u)&&(e instanceof Li||e instanceof _u)&&r.firestore===e.firestore&&r.path===e.path&&r.converter===e.converter}function Og(r,e){return r=(0,Pe.m9)(r),e=(0,Pe.m9)(e),r instanceof So&&e instanceof So&&r.firestore===e.firestore&&Lc(r._query,e._query)&&r.converter===e.converter}function Rf(r,e=10240){let t=0;return{read:()=>(0,ee.Z)(function*(){if(t<r.byteLength){const s={value:r.slice(t,t+e),done:!1};return t+=e,s}return{done:!0}})(),cancel:()=>(0,ee.Z)(function*(){})(),releaseLock(){},closed:Promise.reject("unimplemented")}}class Of{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Rc(this.observer.next,e)}error(e){this.observer.error?this.Rc(this.observer.error,e):Zr("Uncaught Error in snapshot listener:",e.toString())}bc(){this.muted=!0}Rc(e,t){this.muted||setTimeout(()=>{this.muted||e(t)},0)}}class w0{constructor(e,t){this.Pc=e,this.yt=t,this.metadata=new mi,this.buffer=new Uint8Array,this.vc=new TextDecoder("utf-8"),this.Vc().then(s=>{s&&s.Ou()?this.metadata.resolve(s.ku.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(null==s?void 0:s.ku)}`))},s=>this.metadata.reject(s))}close(){return this.Pc.cancel()}getMetadata(){var e=this;return(0,ee.Z)(function*(){return e.metadata.promise})()}mc(){var e=this;return(0,ee.Z)(function*(){return yield e.getMetadata(),e.Vc()})()}Vc(){var e=this;return(0,ee.Z)(function*(){const t=yield e.Sc();if(null===t)return null;const s=e.vc.decode(t),u=Number(s);isNaN(u)&&e.Dc(`length string (${s}) is not valid number`);const d=yield e.Cc(u);return new g0(JSON.parse(d),t.length+u)})()}xc(){return this.buffer.findIndex(e=>e==="{".charCodeAt(0))}Sc(){var e=this;return(0,ee.Z)(function*(){for(;e.xc()<0&&!(yield e.Nc()););if(0===e.buffer.length)return null;const t=e.xc();t<0&&e.Dc("Reached the end of bundle when a length string is expected.");const s=e.buffer.slice(0,t);return e.buffer=e.buffer.slice(t),s})()}Cc(e){var t=this;return(0,ee.Z)(function*(){for(;t.buffer.length<e;)(yield t.Nc())&&t.Dc("Reached the end of bundle when more is expected.");const s=t.vc.decode(t.buffer.slice(0,e));return t.buffer=t.buffer.slice(e),s})()}Dc(e){throw this.Pc.cancel(),new Error(`Invalid bundle format: ${e}`)}Nc(){var e=this;return(0,ee.Z)(function*(){const t=yield e.Pc.read();if(!t.done){const s=new Uint8Array(e.buffer.length+t.value.length);s.set(e.buffer),s.set(t.value,e.buffer.length),e.buffer=s}return t.done})()}}class S0{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}lookup(e){var t=this;return(0,ee.Z)(function*(){if(t.ensureCommitNotCalled(),t.mutations.length>0)throw new Tt(vt.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");const s=yield(u=(0,ee.Z)(function*(d,m){const C=Yt(d),L=_(C.yt)+"/documents",G={documents:m.map(Dt=>ju(C.yt,Dt))},oe=yield C._o("BatchGetDocuments",L,G,m.length),xe=new Map;oe.forEach(Dt=>{const Ot=function j(r,e){return"found"in e?function(t,s){dn(!!s.found);const u=Ra(t,s.found.name),d=Gi(s.found.updateTime),m=s.found.createTime?Gi(s.found.createTime):ln.min(),C=new vs({mapValue:{fields:s.found.fields}});return yi.newFoundDocument(u,d,m,C)}(r,e):"missing"in e?function(t,s){dn(!!s.missing),dn(!!s.readTime);const u=Ra(t,s.missing),d=Gi(s.readTime);return yi.newNoDocument(u,d)}(r,e):tn()}(C.yt,Dt);xe.set(Ot.key.toString(),Ot)});const at=[];return m.forEach(Dt=>{const Ot=xe.get(Dt.toString());dn(!!Ot),at.push(Ot)}),at}),function(d,m){return u.apply(this,arguments)})(t.datastore,e);var u;return s.forEach(u=>t.recordVersion(u)),s})()}set(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(s){this.lastWriteError=s}this.writtenDocs.add(e.toString())}delete(e){this.write(new Fu(e,this.precondition(e))),this.writtenDocs.add(e.toString())}commit(){var e=this;return(0,ee.Z)(function*(){if(e.ensureCommitNotCalled(),e.lastWriteError)throw e.lastWriteError;const t=e.readVersions;var s;e.mutations.forEach(s=>{t.delete(s.key.toString())}),t.forEach((s,u)=>{const d=Zt.fromPath(u);e.mutations.push(new Lu(d,e.precondition(d)))}),yield(s=(0,ee.Z)(function*(u,d){const m=Yt(u),C=_(m.yt)+"/documents",L={writes:d.map(G=>Ye(m.yt,G))};yield m.ao("Commit",C,L)}),function(u,d){return s.apply(this,arguments)})(e.datastore,e.mutations),e.committed=!0})()}recordVersion(e){let t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw tn();t=ln.min()}const s=this.readVersions.get(e.key.toString());if(s){if(!t.isEqual(s))throw new Tt(vt.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}precondition(e){const t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?t.isEqual(ln.min())?Oi.exists(!1):Oi.updateTime(t):Oi.none()}preconditionForUpdate(e){const t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(ln.min()))throw new Tt(vt.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Oi.updateTime(t)}return Oi.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}class kf{constructor(e,t,s,u,d){this.asyncQueue=e,this.datastore=t,this.options=s,this.updateFunction=u,this.deferred=d,this.kc=s.maxAttempts,this.xo=new uf(this.asyncQueue,"transaction_retry")}run(){this.kc-=1,this.Oc()}Oc(){var e=this;this.xo.Ro((0,ee.Z)(function*(){const t=new S0(e.datastore),s=e.Mc(t);s&&s.then(u=>{e.asyncQueue.enqueueAndForget(()=>t.commit().then(()=>{e.deferred.resolve(u)}).catch(d=>{e.Fc(d)}))}).catch(u=>{e.Fc(u)})}))}Mc(e){try{const t=this.updateFunction(e);return!xa(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.deferred.reject(t),null}}Fc(e){this.kc>0&&this.$c(e)?(this.kc-=1,this.asyncQueue.enqueueAndForget(()=>(this.Oc(),Promise.resolve()))):this.deferred.reject(e)}$c(e){if("FirebaseError"===e.name){const t=e.code;return"aborted"===t||"failed-precondition"===t||"already-exists"===t||!Vh(t)}return!1}}class sl{constructor(e,t,s,u){var d=this;this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=s,this.databaseInfo=u,this.user=Lr.UNAUTHENTICATED,this.clientId=Ca.R(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(s,function(){var m=(0,ee.Z)(function*(C){Nt("FirestoreClient","Received user=",C.uid),yield d.authCredentialListener(C),d.user=C});return function(C){return m.apply(this,arguments)}}()),this.appCheckCredentials.start(s,m=>(Nt("FirestoreClient","Received new app check token=",m),this.appCheckCredentialListener(m,this.user)))}getConfiguration(){var e=this;return(0,ee.Z)(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new Tt(vt.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const t=new mi;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,ee.Z)(function*(){try{e.onlineComponents&&(yield e.onlineComponents.terminate()),e.offlineComponents&&(yield e.offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve()}catch(s){const u=Yd(s,"Failed to shutdown persistence");t.reject(u)}})),t.promise}}function T0(r,e){return ol.apply(this,arguments)}function ol(){return ol=(0,ee.Z)(function*(r,e){r.asyncQueue.verifyOperationInProgress(),Nt("FirestoreClient","Initializing OfflineComponentProvider");const t=yield r.getConfiguration();yield e.initialize(t);let s=t.initialUser;r.setCredentialChangeListener(function(){var u=(0,ee.Z)(function*(d){s.isEqual(d)||(yield qp(e.localStore,d),s=d)});return function(d){return u.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>r.terminate()),r.offlineComponents=e}),ol.apply(this,arguments)}function nv(r,e){return kg.apply(this,arguments)}function kg(){return kg=(0,ee.Z)(function*(r,e){r.asyncQueue.verifyOperationInProgress();const t=yield nh(r);Nt("FirestoreClient","Initializing OnlineComponentProvider");const s=yield r.getConfiguration();yield e.initialize(t,s),r.setCredentialChangeListener(u=>f0(e.remoteStore,u)),r.setAppCheckTokenChangeListener((u,d)=>f0(e.remoteStore,d)),r.onlineComponents=e}),kg.apply(this,arguments)}function nh(r){return Pg.apply(this,arguments)}function Pg(){return Pg=(0,ee.Z)(function*(r){return r.offlineComponents||(Nt("FirestoreClient","Using default OfflineComponentProvider"),yield T0(r,new xg)),r.offlineComponents}),Pg.apply(this,arguments)}function ma(r){return al.apply(this,arguments)}function al(){return al=(0,ee.Z)(function*(r){return r.onlineComponents||(Nt("FirestoreClient","Using default OnlineComponentProvider"),yield nv(r,new qa)),r.onlineComponents}),al.apply(this,arguments)}function lo(r){return nh(r).then(e=>e.persistence)}function bu(r){return nh(r).then(e=>e.localStore)}function Yl(r){return ma(r).then(e=>e.remoteStore)}function Jo(r){return ma(r).then(e=>e.syncEngine)}function Ya(r){return wc.apply(this,arguments)}function wc(){return wc=(0,ee.Z)(function*(r){const e=yield ma(r),t=e.eventManager;return t.onListen=hg.bind(null,e.syncEngine),t.onUnlisten=m0.bind(null,e.syncEngine),t}),wc.apply(this,arguments)}function ul(r,e,t={}){const s=new mi;return r.asyncQueue.enqueueAndForget((0,ee.Z)(function*(){return function(u,d,m,C,L){const G=new Of({next:xe=>{d.enqueueAndForget(()=>lg(u,oe));const at=xe.docs.has(m);!at&&xe.fromCache?L.reject(new Tt(vt.UNAVAILABLE,"Failed to get document because the client is offline.")):at&&xe.fromCache&&C&&"server"===C.source?L.reject(new Tt(vt.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):L.resolve(xe)},error:xe=>L.reject(xe)}),oe=new yf(cu(m.path),G,{includeMetadataChanges:!0,Nu:!0});return mf(u,oe)}(yield Ya(r),r.asyncQueue,e,t,s)})),s.promise}function cl(r,e,t={}){const s=new mi;return r.asyncQueue.enqueueAndForget((0,ee.Z)(function*(){return function(u,d,m,C,L){const G=new Of({next:xe=>{d.enqueueAndForget(()=>lg(u,oe)),xe.fromCache&&"server"===C.source?L.reject(new Tt(vt.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):L.resolve(xe)},error:xe=>L.reject(xe)}),oe=new yf(m,G,{includeMetadataChanges:!0,Nu:!0});return mf(u,oe)}(yield Ya(r),r.asyncQueue,e,t,s)})),s.promise}class sv{constructor(){this.Bc=Promise.resolve(),this.Lc=[],this.qc=!1,this.Uc=[],this.Kc=null,this.Gc=!1,this.Qc=!1,this.jc=[],this.xo=new uf(this,"async_queue_retry"),this.Wc=()=>{const t=af();t&&Nt("AsyncQueue","Visibility state changed to "+t.visibilityState),this.xo.Po()};const e=af();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Wc)}get isShuttingDown(){return this.qc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.zc(),this.Hc(e)}enterRestrictedMode(e){if(!this.qc){this.qc=!0,this.Qc=e||!1;const t=af();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Wc)}}enqueue(e){if(this.zc(),this.qc)return new Promise(()=>{});const t=new mi;return this.Hc(()=>this.qc&&this.Qc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Lc.push(e),this.Jc()))}Jc(){var e=this;return(0,ee.Z)(function*(){if(0!==e.Lc.length){try{yield e.Lc[0](),e.Lc.shift(),e.xo.reset()}catch(t){if(!gs(t))throw t;Nt("AsyncQueue","Operation failed with retryable error: "+t)}e.Lc.length>0&&e.xo.Ro(()=>e.Jc())}})()}Hc(e){const t=this.Bc.then(()=>(this.Gc=!0,e().catch(s=>{throw this.Kc=s,this.Gc=!1,Zr("INTERNAL UNHANDLED ERROR: ",function(d){let m=d.message||"";return d.stack&&(m=d.stack.includes(d.message)?d.stack:d.message+"\n"+d.stack),m}(s)),s}).then(s=>(this.Gc=!1,s))));return this.Bc=t,t}enqueueAfterDelay(e,t,s){this.zc(),this.jc.indexOf(e)>-1&&(t=0);const u=Fy.createAndSchedule(this,e,t,s,d=>this.Yc(d));return this.Uc.push(u),u}zc(){this.Kc&&tn()}verifyOperationInProgress(){}Xc(){var e=this;return(0,ee.Z)(function*(){let t;do{t=e.Bc,yield t}while(t!==e.Bc)})()}Zc(e){for(const t of this.Uc)if(t.timerId===e)return!0;return!1}ta(e){return this.Xc().then(()=>{this.Uc.sort((t,s)=>t.targetTimeMs-s.targetTimeMs);for(const t of this.Uc)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.Xc()})}ea(e){this.jc.push(e)}Yc(e){const t=this.Uc.indexOf(e);this.Uc.splice(t,1)}}function Nf(r){return function(e,t){if("object"!=typeof e||null===e)return!1;const s=e;for(const u of["next","error","complete"])if(u in s&&"function"==typeof s[u])return!0;return!1}(r)}class ov{constructor(){this._progressObserver={},this._taskCompletionResolver=new mi,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,t,s){this._progressObserver={next:e,error:t,complete:s}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,t){return this._taskCompletionResolver.promise.then(e,t)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}class ki extends eh{constructor(e,t,s,u){super(e,t,s,u),this.type="firestore",this._queue=new sv,this._persistenceKey=(null==u?void 0:u.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||uv(this),this._firestoreClient.terminate()}}function bs(r){return r._firestoreClient||uv(r),r._firestoreClient.verifyNotTerminated(),r._firestoreClient}function uv(r){var e;const t=r._freezeSettings(),s=(d=(null===(e=r._app)||void 0===e?void 0:e.options.appId)||"",new Aa(r._databaseId,d,r._persistenceKey,(C=t).host,C.ssl,C.experimentalForceLongPolling,C.experimentalAutoDetectLongPolling,C.useFetchStreams));var d,C;r._firestoreClient=new sl(r._authCredentials,r._appCheckCredentials,r._queue,s)}function lv(r,e,t){const s=new mi;return r.asyncQueue.enqueue((0,ee.Z)(function*(){try{yield T0(r,t),yield nv(r,e),s.resolve()}catch(u){const d=u;if(!("FirebaseError"===(m=d).name?m.code===vt.FAILED_PRECONDITION||m.code===vt.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&m instanceof DOMException)||22===m.code||20===m.code||11===m.code))throw d;xs("Error enabling offline persistence. Falling back to persistence disabled: "+d),s.reject(d)}var m})).then(()=>s.promise)}function Lf(r){if(r._initialized||r._terminated)throw new Tt(vt.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class Oa{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Oa(Vr.fromBase64String(e))}catch(t){throw new Tt(vt.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new Oa(Vr.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class Ka{constructor(...e){for(let t=0;t<e.length;++t)if(0===e[t].length)throw new Tt(vt.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new qr(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class Ku{constructor(e){this._methodName=e}}class rh{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new Tt(vt.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new Tt(vt.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return kn(this._lat,e._lat)||kn(this._long,e._long)}}const dv=/^__.*__$/;class Bg{constructor(e,t,s){this.data=e,this.fieldMask=t,this.fieldTransforms=s}toMutation(e,t){return null!==this.fieldMask?new ii(e,this.data,this.fieldMask,t,this.fieldTransforms):new pc(e,this.data,t,this.fieldTransforms)}}class $g{constructor(e,t,s){this.data=e,this.fieldMask=t,this.fieldTransforms=s}toMutation(e,t){return new ii(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function hv(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw tn()}}class ih{constructor(e,t,s,u,d,m){this.settings=e,this.databaseId=t,this.yt=s,this.ignoreUndefinedProperties=u,void 0===d&&this.na(),this.fieldTransforms=d||[],this.fieldMask=m||[]}get path(){return this.settings.path}get sa(){return this.settings.sa}ia(e){return new ih(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.yt,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}ra(e){var t;const s=null===(t=this.path)||void 0===t?void 0:t.child(e),u=this.ia({path:s,oa:!1});return u.ua(e),u}ca(e){var t;const s=null===(t=this.path)||void 0===t?void 0:t.child(e),u=this.ia({path:s,oa:!1});return u.na(),u}aa(e){return this.ia({path:void 0,oa:!0})}ha(e){return ah(e,this.settings.methodName,this.settings.la||!1,this.path,this.settings.fa)}contains(e){return void 0!==this.fieldMask.find(t=>e.isPrefixOf(t))||void 0!==this.fieldTransforms.find(t=>e.isPrefixOf(t.field))}na(){if(this.path)for(let e=0;e<this.path.length;e++)this.ua(this.path.get(e))}ua(e){if(0===e.length)throw this.ha("Document fields must not be empty");if(hv(this.sa)&&dv.test(e))throw this.ha('Document fields cannot begin and end with "__"')}}class fv{constructor(e,t,s){this.databaseId=e,this.ignoreUndefinedProperties=t,this.yt=s||Ud(e)}da(e,t,s,u=!1){return new ih({sa:e,methodName:t,fa:s,path:qr.emptyPath(),oa:!1,la:u},this.databaseId,this.yt,this.ignoreUndefinedProperties)}}function Dc(r){const e=r._freezeSettings(),t=Ud(r._databaseId);return new fv(r._databaseId,!!e.ignoreUndefinedProperties,t)}function sh(r,e,t,s,u,d={}){const m=r.da(d.merge||d.mergeFields?2:0,e,t,u);Uf("Data must be an object, but it was:",m,s);const C=Gg(s,m);let L,G;if(d.merge)L=new No(m.fieldMask),G=m.fieldTransforms;else if(d.mergeFields){const oe=[];for(const xe of d.mergeFields){const at=mv(e,xe,t);if(!m.contains(at))throw new Tt(vt.INVALID_ARGUMENT,`Field '${at}' is specified in your field mask but missing from your input data.`);yv(oe,at)||oe.push(at)}L=new No(oe),G=m.fieldTransforms.filter(xe=>L.covers(xe.field))}else L=null,G=m.fieldTransforms;return new Bg(new vs(C),L,G)}class oh extends Ku{_toFieldTransform(e){if(2!==e.sa)throw e.ha(1===e.sa?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof oh}}function Ug(r,e,t){return new ih({sa:3,fa:e.settings.fa,methodName:r._methodName,oa:t},e.databaseId,e.yt,e.ignoreUndefinedProperties)}class Vf extends Ku{_toFieldTransform(e){return new $c(e.path,new Nu)}isEqual(e){return e instanceof Vf}}class pv extends Ku{constructor(e,t){super(e),this._a=t}_toFieldTransform(e){const t=Ug(this,e,!0),s=this._a.map(d=>Cc(d,t)),u=new fu(s);return new $c(e.path,u)}isEqual(e){return this===e}}class jg extends Ku{constructor(e,t){super(e),this._a=t}_toFieldTransform(e){const t=Ug(this,e,!0),s=this._a.map(d=>Cc(d,t)),u=new dc(s);return new $c(e.path,u)}isEqual(e){return this===e}}class gv extends Ku{constructor(e,t){super(e),this.wa=t}_toFieldTransform(e){const t=new Bc(e.yt,Rh(e.yt,this.wa));return new $c(e.path,t)}isEqual(e){return this===e}}function Bf(r,e,t,s){const u=r.da(1,e,t);Uf("Data must be an object, but it was:",u,s);const d=[],m=vs.empty();io(s,(L,G)=>{const oe=jf(e,L,t);G=(0,Pe.m9)(G);const xe=u.ca(oe);if(G instanceof oh)d.push(oe);else{const at=Cc(G,xe);null!=at&&(d.push(oe),m.set(oe,at))}});const C=new No(d);return new $g(m,C,u.fieldTransforms)}function $f(r,e,t,s,u,d){const m=r.da(1,e,t),C=[mv(e,s,t)],L=[u];if(d.length%2!=0)throw new Tt(vt.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let at=0;at<d.length;at+=2)C.push(mv(e,d[at])),L.push(d[at+1]);const G=[],oe=vs.empty();for(let at=C.length-1;at>=0;--at)if(!yv(G,C[at])){const Dt=C[at];let Ot=L[at];Ot=(0,Pe.m9)(Ot);const Jt=m.ca(Dt);if(Ot instanceof oh)G.push(Dt);else{const _n=Cc(Ot,Jt);null!=_n&&(G.push(Dt),oe.set(Dt,_n))}}const xe=new No(G);return new $g(oe,xe,m.fieldTransforms)}function Hg(r,e,t,s=!1){return Cc(t,r.da(s?4:3,e))}function Cc(r,e){if(zg(r=(0,Pe.m9)(r)))return Uf("Unsupported field value:",e,r),Gg(r,e);if(r instanceof Ku)return function(t,s){if(!hv(s.sa))throw s.ha(`${t._methodName}() can only be used with update() and set()`);if(!s.path)throw s.ha(`${t._methodName}() is not currently supported inside arrays`);const u=t._toFieldTransform(s);u&&s.fieldTransforms.push(u)}(r,e),null;if(void 0===r&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),r instanceof Array){if(e.settings.oa&&4!==e.sa)throw e.ha("Nested arrays are not supported");return function(t,s){const u=[];let d=0;for(const m of t){let C=Cc(m,s.aa(d));null==C&&(C={nullValue:"NULL_VALUE"}),u.push(C),d++}return{arrayValue:{values:u}}}(r,e)}return function(t,s){if(null===(t=(0,Pe.m9)(t)))return{nullValue:"NULL_VALUE"};if("number"==typeof t)return Rh(s.yt,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){const u=Gr.fromDate(t);return{timestampValue:uo(s.yt,u)}}if(t instanceof Gr){const u=new Gr(t.seconds,1e3*Math.floor(t.nanoseconds/1e3));return{timestampValue:uo(s.yt,u)}}if(t instanceof rh)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof Oa)return{bytesValue:da(s.yt,t._byteString)};if(t instanceof Li){const u=s.databaseId,d=t.firestore._databaseId;if(!d.isEqual(u))throw s.ha(`Document reference is for database ${d.projectId}/${d.database} but should be for database ${u.projectId}/${u.database}`);return{referenceValue:Dd(t.firestore._databaseId||s.databaseId,t._key.path)}}throw s.ha(`Unsupported field value: ${Wl(t)}`)}(r,e)}function Gg(r,e){const t={};return sa(r)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):io(r,(s,u)=>{const d=Cc(u,e.ra(s));null!=d&&(t[s]=d)}),{mapValue:{fields:t}}}function zg(r){return!("object"!=typeof r||null===r||r instanceof Array||r instanceof Date||r instanceof Gr||r instanceof rh||r instanceof Oa||r instanceof Li||r instanceof Ku)}function Uf(r,e,t){if(!zg(t)||"object"!=typeof(s=t)||null===s||Object.getPrototypeOf(s)!==Object.prototype&&null!==Object.getPrototypeOf(s)){const s=Wl(t);throw e.ha("an object"===s?r+" a custom object":r+" "+s)}var s}function mv(r,e,t){if((e=(0,Pe.m9)(e))instanceof Ka)return e._internalPath;if("string"==typeof e)return jf(r,e);throw ah("Field path arguments must be of type string or ",r,!1,void 0,t)}const k0=new RegExp("[~\\*/\\[\\]]");function jf(r,e,t){if(e.search(k0)>=0)throw ah(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,t);try{return new Ka(...e.split("."))._internalPath}catch(s){throw ah(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,t)}}function ah(r,e,t,s,u){const d=s&&!s.isEmpty(),m=void 0!==u;let C=`Function ${e}() called with invalid data`;t&&(C+=" (via `toFirestore()`)"),C+=". ";let L="";return(d||m)&&(L+=" (found",d&&(L+=` in field ${s}`),m&&(L+=` in document ${u}`),L+=")"),new Tt(vt.INVALID_ARGUMENT,C+r+L)}function yv(r,e){return r.some(t=>t.isEqual(e))}class Ji{constructor(e,t,s,u,d){this._firestore=e,this._userDataWriter=t,this._key=s,this._document=u,this._converter=d}get id(){return this._key.path.lastSegment()}get ref(){return new Li(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new vv(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(Hf("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class vv extends Ji{data(){return super.data()}}function Hf(r,e){return"string"==typeof e?jf(r,e):e instanceof Ka?e._internalPath:e._delegate._internalPath}function _v(r){if("L"===r.limitType&&0===r.explicitOrderBy.length)throw new Tt(vt.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Gf{}class uh extends Gf{}function Zu(r,e,...t){let s=[];e instanceof Gf&&s.push(e),s=s.concat(t),function(u){const d=u.filter(C=>C instanceof nd).length,m=u.filter(C=>C instanceof ed).length;if(d>1||d>0&&m>0)throw new Tt(vt.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(s);for(const u of s)r=u._apply(r);return r}class ed extends uh{constructor(e,t,s){super(),this._field=e,this._op=t,this._value=s,this.type="where"}static _create(e,t,s){return new ed(e,t,s)}_apply(e){const t=this._parse(e);return wv(e._query,t),new So(e.firestore,e.converter,Ma(e._query,t))}_parse(e){const t=Dc(e.firestore);return function(u,d,m,C,L,G,oe){let xe;if(L.isKeyField()){if("array-contains"===G||"array-contains-any"===G)throw new Tt(vt.INVALID_ARGUMENT,`Invalid Query. You can't perform '${G}' queries on documentId().`);if("in"===G||"not-in"===G){Iv(oe,G);const at=[];for(const Dt of oe)at.push(Zg(C,u,Dt));xe={arrayValue:{values:at}}}else xe=Zg(C,u,oe)}else"in"!==G&&"not-in"!==G&&"array-contains-any"!==G||Iv(oe,G),xe=Hg(m,"where",oe,"in"===G||"not-in"===G);return Pn.create(L,G,xe)}(e._query,0,t,e.firestore._databaseId,this._field,this._op,this._value)}}class nd extends Gf{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new nd(e,t)}_parse(e){const t=this._queryConstraints.map(s=>s._parse(e)).filter(s=>s.getFilters().length>0);return 1===t.length?t[0]:wr.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return 0===t.getFilters().length?e:(function(s,u){let d=s;const m=u.getFlattenedFilters();for(const C of m)wv(d,C),d=Ma(d,C)}(e._query,t),new So(e.firestore,e.converter,Ma(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}class Wg extends uh{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new Wg(e,t)}_apply(e){const t=function(s,u,d){if(null!==s.startAt)throw new Tt(vt.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==s.endAt)throw new Tt(vt.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const m=new uc(u,d);return function(C,L){if(null===Fc(C)){const G=vl(C);null!==G&&Dv(0,G,L.field)}}(s,m),m}(e._query,this._field,this._direction);return new So(e.firestore,e.converter,function(s,u){const d=s.explicitOrderBy.concat([u]);return new qo(s.path,s.collectionGroup,d,s.filters.slice(),s.limit,s.limitType,s.startAt,s.endAt)}(e._query,t))}}class qg extends uh{constructor(e,t,s){super(),this.type=e,this._limit=t,this._limitType=s}static _create(e,t,s){return new qg(e,t,s)}_apply(e){return new So(e.firestore,e.converter,du(e._query,this._limit,this._limitType))}}class ya extends uh{constructor(e,t,s){super(),this.type=e,this._docOrFields=t,this._inclusive=s}static _create(e,t,s){return new ya(e,t,s)}_apply(e){const t=Kg(e,this.type,this._docOrFields,this._inclusive);return new So(e.firestore,e.converter,(u=t,new qo((s=e._query).path,s.collectionGroup,s.explicitOrderBy.slice(),s.filters.slice(),s.limit,s.limitType,u,s.endAt)));var s,u}}class va extends uh{constructor(e,t,s){super(),this.type=e,this._docOrFields=t,this._inclusive=s}static _create(e,t,s){return new va(e,t,s)}_apply(e){const t=Kg(e,this.type,this._docOrFields,this._inclusive);return new So(e.firestore,e.converter,(u=t,new qo((s=e._query).path,s.collectionGroup,s.explicitOrderBy.slice(),s.filters.slice(),s.limit,s.limitType,s.startAt,u)));var s,u}}function Kg(r,e,t,s){if(t[0]=(0,Pe.m9)(t[0]),t[0]instanceof Ji)return function(u,d,m,C,L){if(!C)throw new Tt(vt.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${m}().`);const G=[];for(const oe of lu(u))if(oe.field.isKeyField())G.push(A(d,C.key));else{const xe=C.data.field(oe.field);if(Mu(xe))throw new Tt(vt.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+oe.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===xe){const at=oe.field.canonicalString();throw new Tt(vt.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${at}' (used as the orderBy) does not exist.`)}G.push(xe)}return new yr(G,L)}(r._query,r.firestore._databaseId,e,t[0]._document,s);{const u=Dc(r.firestore);return function(d,m,C,L,G,oe){const xe=d.explicitOrderBy;if(G.length>xe.length)throw new Tt(vt.INVALID_ARGUMENT,`Too many arguments provided to ${L}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const at=[];for(let Dt=0;Dt<G.length;Dt++){const Ot=G[Dt];if(xe[Dt].field.isKeyField()){if("string"!=typeof Ot)throw new Tt(vt.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${L}(), but got a ${typeof Ot}`);if(!_l(d)&&-1!==Ot.indexOf("/"))throw new Tt(vt.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${L}() must be a plain document ID, but '${Ot}' contains a slash.`);const Jt=d.path.child(Tr.fromString(Ot));if(!Zt.isDocumentKey(Jt))throw new Tt(vt.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${L}() must result in a valid document path, but '${Jt}' is not because it contains an odd number of segments.`);const _n=new Zt(Jt);at.push(A(m,_n))}else{const Jt=Hg(C,L,Ot);at.push(Jt)}}return new yr(at,oe)}(r._query,r.firestore._databaseId,u,e,t,s)}}function Zg(r,e,t){if("string"==typeof(t=(0,Pe.m9)(t))){if(""===t)throw new Tt(vt.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!_l(e)&&-1!==t.indexOf("/"))throw new Tt(vt.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const s=e.path.child(Tr.fromString(t));if(!Zt.isDocumentKey(s))throw new Tt(vt.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return A(r,new Zt(s))}if(t instanceof Li)return A(r,t._key);throw new Tt(vt.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Wl(t)}.`)}function Iv(r,e){if(!Array.isArray(r)||0===r.length)throw new Tt(vt.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`);if(r.length>10)throw new Tt(vt.INVALID_ARGUMENT,`Invalid Query. '${e.toString()}' filters support a maximum of 10 elements in the value array.`)}function wv(r,e){if(e.isInequality()){const s=vl(r),u=e.field;if(null!==s&&!s.isEqual(u))throw new Tt(vt.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${s.toString()}' and '${u.toString()}'`);const d=Fc(r);null!==d&&Dv(0,u,d)}const t=function(s,u){for(const d of s)for(const m of d.getFlattenedFilters())if(u.indexOf(m.op)>=0)return m.op;return null}(r.filters,function(s){switch(s){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(null!==t)throw new Tt(vt.INVALID_ARGUMENT,t===e.op?`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`:`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}function Dv(r,e,t){if(!t.isEqual(e))throw new Tt(vt.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${e.toString()}' and so you must also use '${e.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${t.toString()}' instead.`)}class ch{convertValue(e,t="none"){switch(w(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Xr(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(so(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw tn()}}convertObject(e,t){const s={};return io(e.fields,(u,d)=>{s[u]=this.convertValue(d,t)}),s}convertGeoPoint(e){return new rh(Xr(e.latitude),Xr(e.longitude))}convertArray(e,t){return(e.values||[]).map(s=>this.convertValue(s,t))}convertServerTimestamp(e,t){switch(t){case"previous":const s=Ua(e);return null==s?null:this.convertValue(s,t);case"estimate":return this.convertTimestamp(Hs(e));default:return null}}convertTimestamp(e){const t=ys(e);return new Gr(t.seconds,t.nanos)}convertDocumentKey(e,t){const s=Tr.fromString(e);dn(Wc(s));const u=new ji(s.get(1),s.get(3)),d=new Zt(s.popFirst(5));return u.isEqual(t)||Zr(`Document ${d} contains a document reference within a different database (${u.projectId}/${u.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),d}}function Sc(r,e,t){let s;return s=r?t&&(t.merge||t.mergeFields)?r.toFirestore(e,t):r.toFirestore(e):e,s}class L0 extends ch{constructor(e){super(),this.firestore=e}convertBytes(e){return new Oa(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Li(this.firestore,null,t)}}class Tc{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Xu extends Ji{constructor(e,t,s,u,d,m){super(e,t,s,u,m),this._firestore=e,this._firestoreImpl=e,this.metadata=d}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new rd(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const s=this._document.data.field(Hf("DocumentSnapshot.get",e));if(null!==s)return this._userDataWriter.convertValue(s,t.serverTimestamps)}}}class rd extends Xu{data(e={}){return super.data(e)}}class Qu{constructor(e,t,s,u){this._firestore=e,this._userDataWriter=t,this._snapshot=u,this.metadata=new Tc(u.hasPendingWrites,u.fromCache),this.query=s}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach(s=>{e.call(t,new rd(this._firestore,this._userDataWriter,s.key,s,new Tc(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new Tt(vt.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(s,u){if(s._snapshot.oldDocs.isEmpty()){let d=0;return s._snapshot.docChanges.map(m=>({type:"added",doc:new rd(s._firestore,s._userDataWriter,m.doc.key,m.doc,new Tc(s._snapshot.mutatedKeys.has(m.doc.key),s._snapshot.fromCache),s.query.converter),oldIndex:-1,newIndex:d++}))}{let d=s._snapshot.oldDocs;return s._snapshot.docChanges.filter(m=>u||3!==m.type).map(m=>{const C=new rd(s._firestore,s._userDataWriter,m.doc.key,m.doc,new Tc(s._snapshot.mutatedKeys.has(m.doc.key),s._snapshot.fromCache),s.query.converter);let L=-1,G=-1;return 0!==m.type&&(L=d.indexOf(m.doc.key),d=d.delete(m.doc.key)),1!==m.type&&(d=d.add(m.doc),G=d.indexOf(m.doc.key)),{type:zf(m.type),doc:C,oldIndex:L,newIndex:G}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function zf(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return tn()}}function Sv(r,e){return r instanceof Xu&&e instanceof Xu?r._firestore===e._firestore&&r._key.isEqual(e._key)&&(null===r._document?null===e._document:r._document.isEqual(e._document))&&r._converter===e._converter:r instanceof Qu&&e instanceof Qu&&r._firestore===e._firestore&&Og(r.query,e.query)&&r.metadata.isEqual(e.metadata)&&r._snapshot.isEqual(e._snapshot)}class Ju extends ch{constructor(e){super(),this.firestore=e}convertBytes(e){return new Oa(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Li(this.firestore,null,t)}}function Xg(r,e,t){r=Nr(r,Li);const s=Nr(r.firestore,ki),u=Sc(r.converter,e,t);return id(s,[sh(Dc(s),"setDoc",r._key,u,null!==r.converter,t).toMutation(r._key,Oi.none())])}function Qg(r,e,t,...s){r=Nr(r,Li);const u=Nr(r.firestore,ki),d=Dc(u);let m;return m="string"==typeof(e=(0,Pe.m9)(e))||e instanceof Ka?$f(d,"updateDoc",r._key,e,t,s):Bf(d,"updateDoc",r._key,e),id(u,[m.toMutation(r._key,Oi.exists(!0))])}function Jg(r,...e){var t,s,u;r=(0,Pe.m9)(r);let d={includeMetadataChanges:!1},m=0;"object"!=typeof e[m]||Nf(e[m])||(d=e[m],m++);const C={includeMetadataChanges:d.includeMetadataChanges};if(Nf(e[m])){const xe=e[m];e[m]=null===(t=xe.next)||void 0===t?void 0:t.bind(xe),e[m+1]=null===(s=xe.error)||void 0===s?void 0:s.bind(xe),e[m+2]=null===(u=xe.complete)||void 0===u?void 0:u.bind(xe)}let L,G,oe;if(r instanceof Li)G=Nr(r.firestore,ki),oe=cu(r._key.path),L={next:xe=>{e[m]&&e[m](em(G,r,xe))},error:e[m+1],complete:e[m+2]};else{const xe=Nr(r,So);G=Nr(xe.firestore,ki),oe=xe._query;const at=new Ju(G);L={next:Dt=>{e[m]&&e[m](new Qu(G,at,xe,Dt))},error:e[m+1],complete:e[m+2]},_v(r._query)}return function(xe,at,Dt,Ot){const Jt=new Of(Ot),_n=new yf(at,Jt,Dt);return xe.asyncQueue.enqueueAndForget((0,ee.Z)(function*(){return mf(yield Ya(xe),_n)})),()=>{Jt.bc(),xe.asyncQueue.enqueueAndForget((0,ee.Z)(function*(){return lg(yield Ya(xe),_n)}))}}(bs(G),oe,C,L)}function id(r,e){return function(t,s){const u=new mi;return t.asyncQueue.enqueueAndForget((0,ee.Z)(function*(){return function y0(r,e,t){return wf.apply(this,arguments)}(yield Jo(t),s,u)})),u.promise}(bs(r),e)}function em(r,e,t){const s=t.docs.get(e._key),u=new Ju(r);return new Xu(r,u,e._key,s,new Tc(t.hasPendingWrites,t.fromCache),e.converter)}const B0={maxAttempts:5};class Pv{constructor(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=Dc(e)}set(e,t,s){this._verifyNotCommitted();const u=Ac(e,this._firestore),d=Sc(u.converter,t,s),m=sh(this._dataReader,"WriteBatch.set",u._key,d,null!==u.converter,s);return this._mutations.push(m.toMutation(u._key,Oi.none())),this}update(e,t,s,...u){this._verifyNotCommitted();const d=Ac(e,this._firestore);let m;return m="string"==typeof(t=(0,Pe.m9)(t))||t instanceof Ka?$f(this._dataReader,"WriteBatch.update",d._key,t,s,u):Bf(this._dataReader,"WriteBatch.update",d._key,t),this._mutations.push(m.toMutation(d._key,Oi.exists(!0))),this}delete(e){this._verifyNotCommitted();const t=Ac(e,this._firestore);return this._mutations=this._mutations.concat(new Fu(t._key,Oi.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new Tt(vt.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function Ac(r,e){if((r=(0,Pe.m9)(r)).firestore!==e)throw new Tt(vt.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return r}class $0 extends class{constructor(e,t){this._firestore=e,this._transaction=t,this._dataReader=Dc(e)}get(e){const t=Ac(e,this._firestore),s=new L0(this._firestore);return this._transaction.lookup([t._key]).then(u=>{if(!u||1!==u.length)return tn();const d=u[0];if(d.isFoundDocument())return new Ji(this._firestore,s,d.key,d,t.converter);if(d.isNoDocument())return new Ji(this._firestore,s,t._key,null,t.converter);throw tn()})}set(e,t,s){const u=Ac(e,this._firestore),d=Sc(u.converter,t,s),m=sh(this._dataReader,"Transaction.set",u._key,d,null!==u.converter,s);return this._transaction.set(u._key,m),this}update(e,t,s,...u){const d=Ac(e,this._firestore);let m;return m="string"==typeof(t=(0,Pe.m9)(t))||t instanceof Ka?$f(this._dataReader,"Transaction.update",d._key,t,s,u):Bf(this._dataReader,"Transaction.update",d._key,t),this._transaction.update(d._key,m),this}delete(e){const t=Ac(e,this._firestore);return this._transaction.delete(t._key),this}}{constructor(e,t){super(e,t),this._firestore=e}get(e){const t=Ac(e,this._firestore),s=new Ju(this._firestore);return super.get(e).then(u=>new Xu(this._firestore,s,t._key,u._document,new Tc(!1,!1),t.converter))}}function qf(r,e){if(void 0===e)return{merge:!1};if(void 0!==e.mergeFields&&void 0!==e.merge)throw new Tt("invalid-argument",`Invalid options passed to function ${r}(): You cannot specify both "merge" and "mergeFields".`);return e}function tm(){if("undefined"==typeof Uint8Array)throw new Tt("unimplemented","Uint8Arrays are not available in this environment.")}function nm(){if(!function sc(){return"undefined"!=typeof atob}())throw new Tt("unimplemented","Blobs are unavailable in Firestore in this environment.")}!function(r,e=!0){bo=nt.SDK_VERSION,(0,nt._registerComponent)(new Be.wA("firestore",(t,{instanceIdentifier:s,options:u})=>{const d=t.getProvider("app").getImmediate(),m=new ki(new ro(t.getProvider("auth-internal")),new ru(t.getProvider("app-check-internal")),function(C,L){if(!Object.prototype.hasOwnProperty.apply(C.options,["projectId"]))throw new Tt(vt.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new ji(C.options.projectId,L)}(d,s),d);return u=Object.assign({useFetchStreams:e},u),m._setSettings(u),m},"PUBLIC").setMultipleInstances(!0)),(0,nt.registerVersion)(Fa,"3.8.3",r),(0,nt.registerVersion)(Fa,"3.8.3","esm2017")}();class sd{constructor(e){this._delegate=e}static fromBase64String(e){return nm(),new sd(Oa.fromBase64String(e))}static fromUint8Array(e){return tm(),new sd(Oa.fromUint8Array(e))}toBase64(){return nm(),this._delegate.toBase64()}toUint8Array(){return tm(),this._delegate.toUint8Array()}isEqual(e){return this._delegate.isEqual(e._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function Yf(r){return function Vv(r,e){if("object"!=typeof r||null===r)return!1;const t=r;for(const s of e)if(s in t&&"function"==typeof t[s])return!0;return!1}(r,["next","error","complete"])}class Bv{enableIndexedDbPersistence(e,t){return function cv(r,e){Lf(r=Nr(r,ki));const t=bs(r),s=r._freezeSettings(),u=new qa;return lv(t,u,new Mg(u,s.cacheSizeBytes,null==e?void 0:e.forceOwnership))}(e._delegate,{forceOwnership:t})}enableMultiTabIndexedDbPersistence(e){return function M0(r){Lf(r=Nr(r,ki));const e=bs(r),t=r._freezeSettings(),s=new qa;return lv(e,s,new Rg(s,t.cacheSizeBytes))}(e._delegate)}clearIndexedDbPersistence(e){return function Ng(r){if(r._initialized&&!r._terminated)throw new Tt(vt.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const e=new mi;return r._queue.enqueueAndForgetEvenWhileRestricted((0,ee.Z)(function*(){try{yield(t=(0,ee.Z)(function*(s){if(!js.C())return Promise.resolve();const u=s+"main";yield js.delete(u)}),function(s){return t.apply(this,arguments)})(tf(r._databaseId,r._persistenceKey)),e.resolve()}catch(t){e.reject(t)}var t})),e.promise}(e._delegate)}}class rm{constructor(e,t,s){this._delegate=t,this._persistenceProvider=s,this.INTERNAL={delete:()=>this.terminate()},e instanceof ji||(this._appCompat=e)}get _databaseId(){return this._delegate._databaseId}settings(e){const t=this._delegate._getSettings();!e.merge&&t.host!==e.host&&xs("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},t),e)).merge,this._delegate._setSettings(e)}useEmulator(e,t,s={}){!function E0(r,e,t,s={}){var u;const d=(r=Nr(r,eh))._getSettings();if("firestore.googleapis.com"!==d.host&&d.host!==e&&xs("Host has been set in both settings() and useEmulator(), emulator host will be used"),r._setSettings(Object.assign(Object.assign({},d),{host:`${e}:${t}`,ssl:!1})),s.mockUserToken){let m,C;if("string"==typeof s.mockUserToken)m=s.mockUserToken,C=Lr.MOCK_USER;else{m=(0,Pe.Sg)(s.mockUserToken,null===(u=r._app)||void 0===u?void 0:u.options.projectId);const L=s.mockUserToken.sub||s.mockUserToken.user_id;if(!L)throw new Tt(vt.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");C=new Lr(L)}r._authCredentials=new tu(new wa(m,C))}}(this._delegate,e,t,s)}enableNetwork(){return function R0(r){return function Kl(r){return r.asyncQueue.enqueue((0,ee.Z)(function*(){const e=yield lo(r),t=yield Yl(r);return e.setNetworkEnabled(!0),function(s){const u=Yt(s);return u._u.delete(0),gu(u)}(t)}))}(bs(r=Nr(r,ki)))}(this._delegate)}disableNetwork(){return function Ff(r){return function Zl(r){return r.asyncQueue.enqueue((0,ee.Z)(function*(){const e=yield lo(r),t=yield Yl(r);return e.setNetworkEnabled(!1),(s=(0,ee.Z)(function*(u){const d=Yt(u);d._u.add(0),yield tl(d),d.gu.set("Offline")}),function(u){return s.apply(this,arguments)})(t);var s}))}(bs(r=Nr(r,ki)))}(this._delegate)}enablePersistence(e){let t=!1,s=!1;return e&&(t=!!e.synchronizeTabs,s=!!e.experimentalForceOwningTab,Jd("synchronizeTabs",t,"experimentalForceOwningTab",s)),t?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,s)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return function Fg(r){return function(e){const t=new mi;return e.asyncQueue.enqueueAndForget((0,ee.Z)(function*(){return function mg(r,e){return Cf.apply(this,arguments)}(yield Jo(e),t)})),t.promise}(bs(r=Nr(r,ki)))}(this._delegate)}onSnapshotsInSync(e){return function V0(r,e){return function Jl(r,e){const t=new Of(e);return r.asyncQueue.enqueueAndForget((0,ee.Z)(function*(){return s=yield Ya(r),u=t,Yt(s).Ru.add(u),void u.next();var s,u})),()=>{t.bc(),r.asyncQueue.enqueueAndForget((0,ee.Z)(function*(){return s=yield Ya(r),u=t,void Yt(s).Ru.delete(u);var s,u}))}}(bs(r=Nr(r,ki)),Nf(e)?e:{next:e})}(this._delegate,e)}get app(){if(!this._appCompat)throw new Tt("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(e){try{return new ad(this,tv(this._delegate,e))}catch(t){throw ho(t,"collection()","Firestore.collection()")}}doc(e){try{return new Qa(this,th(this._delegate,e))}catch(t){throw ho(t,"doc()","Firestore.doc()")}}collectionGroup(e){try{return new vn(this,function I0(r,e){if(r=Nr(r,eh),Gl("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new Tt(vt.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new So(r,null,(t=e,new qo(Tr.emptyPath(),t)));var t}(this._delegate,e))}catch(t){throw ho(t,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(e){return function U0(r,e,t){r=Nr(r,ki);const s=Object.assign(Object.assign({},B0),t);return function(u){if(u.maxAttempts<1)throw new Tt(vt.INVALID_ARGUMENT,"Max attempts must be at least 1")}(s),function(u,d,m){const C=new mi;return u.asyncQueue.enqueueAndForget((0,ee.Z)(function*(){const L=yield function Pf(r){return ma(r).then(e=>e.datastore)}(u);new kf(u.asyncQueue,L,m,d,C).run()})),C.promise}(bs(r),u=>e(new $0(r,u)),s)}(this._delegate,t=>e(new $v(this,t)))}batch(){return bs(this._delegate),new Uv(new Pv(this._delegate,e=>id(this._delegate,e)))}loadBundle(e){return function Vg(r,e){const t=bs(r=Nr(r,ki)),s=new ov;return function rv(r,e,t,s){const u=function(d,m){let C;return C="string"==typeof d?(new TextEncoder).encode(d):d,L=function(L,G){if(L instanceof Uint8Array)return Rf(L,G);if(L instanceof ArrayBuffer)return Rf(new Uint8Array(L),G);if(L instanceof ReadableStream)return L.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(C),new w0(L,m);var L}(t,Ud(e));r.asyncQueue.enqueueAndForget((0,ee.Z)(function*(){!function Xy(r,e,t){const s=Yt(r);var u;(u=(0,ee.Z)(function*(d,m,C){try{const L=yield m.getMetadata();if(yield function(at,Dt){const Ot=Yt(at),Jt=Gi(Dt.createTime);return Ot.persistence.runTransaction("hasNewerBundle","readonly",_n=>Ot.Ns.getBundleMetadata(_n,Dt.id)).then(_n=>!!_n&&_n.createTime.compareTo(Jt)>=0)}(d.localStore,L))return yield m.close(),C._completeWith({taskState:"Success",documentsLoaded:(at=L).totalDocuments,bytesLoaded:at.totalBytes,totalDocuments:at.totalDocuments,totalBytes:at.totalBytes}),Promise.resolve(new Set);C._updateProgress(rl(L));const G=new vf(L,d.localStore,m.yt);let oe=yield m.mc();for(;oe;){const at=yield G.Fu(oe);at&&C._updateProgress(at),oe=yield m.mc()}const xe=yield G.complete();return yield Yu(d,xe.Lu,void 0),yield function(at,Dt){const Ot=Yt(at);return Ot.persistence.runTransaction("Save bundle","readwrite",Jt=>Ot.Ns.saveBundleMetadata(Jt,Dt))}(d.localStore,L),C._completeWith(xe.progress),Promise.resolve(xe.Bu)}catch(L){return xs("SyncEngine",`Loading bundle failed with ${L}`),C._failWith(L),Promise.resolve(new Set)}var at}),function(d,m,C){return u.apply(this,arguments)})(s,e,t).then(u=>{s.sharedClientState.notifyBundleLoaded(u)})}(yield Jo(r),u,s)}))}(t,r._databaseId,e,s),s}(this._delegate,e)}namedQuery(e){return function O0(r,e){return function iv(r,e){return r.asyncQueue.enqueue((0,ee.Z)(function*(){return function(t,s){const u=Yt(t);return u.persistence.runTransaction("Get named query","readonly",d=>u.Ns.getNamedQuery(d,s))}(yield bu(r),e)}))}(bs(r=Nr(r,ki)),e).then(t=>t?new So(r,null,t.query):null)}(this._delegate,e).then(t=>t?new vn(this,t):null)}}class lh extends ch{constructor(e){super(),this.firestore=e}convertBytes(e){return new sd(new Oa(e))}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return Qa.forKey(t,this.firestore,null)}}class $v{constructor(e,t){this._firestore=e,this._delegate=t,this._userDataWriter=new lh(e)}get(e){const t=Pa(e);return this._delegate.get(t).then(s=>new od(this._firestore,new Xu(this._firestore._delegate,this._userDataWriter,s._key,s._document,s.metadata,t.converter)))}set(e,t,s){const u=Pa(e);return s?(qf("Transaction.set",s),this._delegate.set(u,t,s)):this._delegate.set(u,t),this}update(e,t,s,...u){const d=Pa(e);return 2===arguments.length?this._delegate.update(d,t):this._delegate.update(d,t,s,...u),this}delete(e){const t=Pa(e);return this._delegate.delete(t),this}}class Uv{constructor(e){this._delegate=e}set(e,t,s){const u=Pa(e);return s?(qf("WriteBatch.set",s),this._delegate.set(u,t,s)):this._delegate.set(u,t),this}update(e,t,s,...u){const d=Pa(e);return 2===arguments.length?this._delegate.update(d,t):this._delegate.update(d,t,s,...u),this}delete(e){const t=Pa(e);return this._delegate.delete(t),this}commit(){return this._delegate.commit()}}class ka{constructor(e,t,s){this._firestore=e,this._userDataWriter=t,this._delegate=s}fromFirestore(e,t){const s=new rd(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new Kf(this._firestore,s),null!=t?t:{})}toFirestore(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)}static getInstance(e,t){const s=ka.INSTANCES;let u=s.get(e);u||(u=new WeakMap,s.set(e,u));let d=u.get(t);return d||(d=new ka(e,new lh(e),t),u.set(t,d)),d}}ka.INSTANCES=new WeakMap;class Qa{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new lh(e)}static forPath(e,t,s){if(e.length%2!=0)throw new Tt("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${e.canonicalString()} has ${e.length}`);return new Qa(t,new Li(t._delegate,s,new Zt(e)))}static forKey(e,t,s){return new Qa(t,new Li(t._delegate,s,e))}get id(){return this._delegate.id}get parent(){return new ad(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(e){try{return new ad(this.firestore,tv(this._delegate,e))}catch(t){throw ho(t,"collection()","DocumentReference.collection()")}}isEqual(e){return(e=(0,Pe.m9)(e))instanceof Li&&Mf(this._delegate,e)}set(e,t){t=qf("DocumentReference.set",t);try{return t?Xg(this._delegate,e,t):Xg(this._delegate,e)}catch(s){throw ho(s,"setDoc()","DocumentReference.set()")}}update(e,t,...s){try{return 1===arguments.length?Qg(this._delegate,e):Qg(this._delegate,e,t,...s)}catch(u){throw ho(u,"updateDoc()","DocumentReference.update()")}}delete(){return function Ov(r){return id(Nr(r.firestore,ki),[new Fu(r._key,Oi.none())])}(this._delegate)}onSnapshot(...e){const t=q0(e),s=im(e,u=>new od(this.firestore,new Xu(this.firestore._delegate,this._userDataWriter,u._key,u._document,u.metadata,this._delegate.converter)));return Jg(this._delegate,t,s)}get(e){let t;return t="cache"===(null==e?void 0:e.source)?function Av(r){r=Nr(r,Li);const e=Nr(r.firestore,ki),t=bs(e),s=new Ju(e);return function Xl(r,e){const t=new mi;return r.asyncQueue.enqueueAndForget((0,ee.Z)(function*(){return(s=(0,ee.Z)(function*(u,d,m){try{const C=yield function(L,G){const oe=Yt(L);return oe.persistence.runTransaction("read document","readonly",xe=>oe.localDocuments.getDocument(xe,G))}(u,d);C.isFoundDocument()?m.resolve(C):C.isNoDocument()?m.resolve(null):m.reject(new Tt(vt.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(C){const L=Yd(C,`Failed to get document '${d} from cache`);m.reject(L)}}),function(u,d,m){return s.apply(this,arguments)})(yield bu(r),e,t);var s})),t.promise}(t,r._key).then(u=>new Xu(e,s,r._key,u,new Tc(null!==u&&u.hasLocalMutations,!0),r.converter))}(this._delegate):"server"===(null==e?void 0:e.source)?function Wf(r){r=Nr(r,Li);const e=Nr(r.firestore,ki);return ul(bs(e),r._key,{source:"server"}).then(t=>em(e,r,t))}(this._delegate):function Tv(r){r=Nr(r,Li);const e=Nr(r.firestore,ki);return ul(bs(e),r._key).then(t=>em(e,r,t))}(this._delegate),t.then(s=>new od(this.firestore,new Xu(this.firestore._delegate,this._userDataWriter,s._key,s._document,s.metadata,this._delegate.converter)))}withConverter(e){return new Qa(this.firestore,this._delegate.withConverter(e?ka.getInstance(this.firestore,e):null))}}function ho(r,e,t){return r.message=r.message.replace(e,t),r}function q0(r){for(const e of r)if("object"==typeof e&&!Yf(e))return e;return{}}function im(r,e){var t,s;let u;return u=Yf(r[0])?r[0]:Yf(r[1])?r[1]:"function"==typeof r[0]?{next:r[0],error:r[1],complete:r[2]}:{next:r[1],error:r[2],complete:r[3]},{next:d=>{u.next&&u.next(e(d))},error:null===(t=u.error)||void 0===t?void 0:t.bind(u),complete:null===(s=u.complete)||void 0===s?void 0:s.bind(u)}}class od{constructor(e,t){this._firestore=e,this._delegate=t}get ref(){return new Qa(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(e){return this._delegate.data(e)}get(e,t){return this._delegate.get(e,t)}isEqual(e){return Sv(this._delegate,e._delegate)}}class Kf extends od{data(e){const t=this._delegate.data(e);return function La(r,e){r||tn()}(void 0!==t),t}}class vn{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new lh(e)}where(e,t,s){try{return new vn(this.firestore,Zu(this._delegate,function td(r,e,t){const s=e,u=Hf("where",r);return ed._create(u,s,t)}(e,t,s)))}catch(u){throw ho(u,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(e,t){try{return new vn(this.firestore,Zu(this._delegate,function bv(r,e="asc"){const t=e,s=Hf("orderBy",r);return Wg._create(s,t)}(e,t)))}catch(s){throw ho(s,/(orderBy|where)\(\)/,"Query.$1()")}}limit(e){try{return new vn(this.firestore,Zu(this._delegate,function Ev(r){return Jy("limit",r),qg._create("limit",r,"F")}(e)))}catch(t){throw ho(t,"limit()","Query.limit()")}}limitToLast(e){try{return new vn(this.firestore,Zu(this._delegate,function Yg(r){return Jy("limitToLast",r),qg._create("limitToLast",r,"L")}(e)))}catch(t){throw ho(t,"limitToLast()","Query.limitToLast()")}}startAt(...e){try{return new vn(this.firestore,Zu(this._delegate,function N0(...r){return ya._create("startAt",r,!0)}(...e)))}catch(t){throw ho(t,"startAt()","Query.startAt()")}}startAfter(...e){try{return new vn(this.firestore,Zu(this._delegate,function F0(...r){return ya._create("startAfter",r,!1)}(...e)))}catch(t){throw ho(t,"startAfter()","Query.startAfter()")}}endBefore(...e){try{return new vn(this.firestore,Zu(this._delegate,function Za(...r){return va._create("endBefore",r,!1)}(...e)))}catch(t){throw ho(t,"endBefore()","Query.endBefore()")}}endAt(...e){try{return new vn(this.firestore,Zu(this._delegate,function Xa(...r){return va._create("endAt",r,!0)}(...e)))}catch(t){throw ho(t,"endAt()","Query.endAt()")}}isEqual(e){return Og(this._delegate,e._delegate)}get(e){let t;return t="cache"===(null==e?void 0:e.source)?function Mv(r){r=Nr(r,So);const e=Nr(r.firestore,ki),t=bs(e),s=new Ju(e);return function Ql(r,e){const t=new mi;return r.asyncQueue.enqueueAndForget((0,ee.Z)(function*(){return(s=(0,ee.Z)(function*(u,d,m){try{const C=yield Zp(u,d,!0),L=new bf(d,C.Hi),G=L.Wu(C.documents),oe=L.applyChanges(G,!1);m.resolve(oe.snapshot)}catch(C){const L=Yd(C,`Failed to execute query '${d} against cache`);m.reject(L)}}),function(u,d,m){return s.apply(this,arguments)})(yield bu(r),e,t);var s})),t.promise}(t,r._query).then(u=>new Qu(e,s,r,u))}(this._delegate):"server"===(null==e?void 0:e.source)?function Rv(r){r=Nr(r,So);const e=Nr(r.firestore,ki),t=bs(e),s=new Ju(e);return cl(t,r._query,{source:"server"}).then(u=>new Qu(e,s,r,u))}(this._delegate):function xv(r){r=Nr(r,So);const e=Nr(r.firestore,ki),t=bs(e),s=new Ju(e);return _v(r._query),cl(t,r._query).then(u=>new Qu(e,s,r,u))}(this._delegate),t.then(s=>new sm(this.firestore,new Qu(this.firestore._delegate,this._userDataWriter,this._delegate,s._snapshot)))}onSnapshot(...e){const t=q0(e),s=im(e,u=>new sm(this.firestore,new Qu(this.firestore._delegate,this._userDataWriter,this._delegate,u._snapshot)));return Jg(this._delegate,t,s)}withConverter(e){return new vn(this.firestore,this._delegate.withConverter(e?ka.getInstance(this.firestore,e):null))}}class Y0{constructor(e,t){this._firestore=e,this._delegate=t}get type(){return this._delegate.type}get doc(){return new Kf(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class sm{constructor(e,t){this._firestore=e,this._delegate=t}get query(){return new vn(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(e=>new Kf(this._firestore,e))}docChanges(e){return this._delegate.docChanges(e).map(t=>new Y0(this._firestore,t))}forEach(e,t){this._delegate.forEach(s=>{e.call(t,new Kf(this._firestore,s))})}isEqual(e){return Sv(this._delegate,e._delegate)}}class ad extends vn{constructor(e,t){super(e,t),this.firestore=e,this._delegate=t}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const e=this._delegate.parent;return e?new Qa(this.firestore,e):null}doc(e){try{return new Qa(this.firestore,void 0===e?th(this._delegate):th(this._delegate,e))}catch(t){throw ho(t,"doc()","CollectionReference.doc()")}}add(e){return function kv(r,e){const t=Nr(r.firestore,ki),s=th(r),u=Sc(r.converter,e);return id(t,[sh(Dc(r.firestore),"addDoc",s._key,u,null!==r.converter,{}).toMutation(s._key,Oi.exists(!1))]).then(()=>s)}(this._delegate,e).then(t=>new Qa(this.firestore,t))}isEqual(e){return Mf(this._delegate,e._delegate)}withConverter(e){return new ad(this.firestore,this._delegate.withConverter(e?ka.getInstance(this.firestore,e):null))}}function Pa(r){return Nr(r,Li)}class om{constructor(...e){this._delegate=new Ka(...e)}static documentId(){return new om(qr.keyField().canonicalString())}isEqual(e){return(e=(0,Pe.m9)(e))instanceof Ka&&this._delegate._internalPath.isEqual(e._internalPath)}}class Eu{constructor(e){this._delegate=e}static serverTimestamp(){const e=function H0(){return new Vf("serverTimestamp")}();return e._methodName="FieldValue.serverTimestamp",new Eu(e)}static delete(){const e=function j0(){return new oh("deleteField")}();return e._methodName="FieldValue.delete",new Eu(e)}static arrayUnion(...e){const t=function G0(...r){return new pv("arrayUnion",r)}(...e);return t._methodName="FieldValue.arrayUnion",new Eu(t)}static arrayRemove(...e){const t=function z0(...r){return new jg("arrayRemove",r)}(...e);return t._methodName="FieldValue.arrayRemove",new Eu(t)}static increment(e){const t=function W0(r){return new gv("increment",r)}(e);return t._methodName="FieldValue.increment",new Eu(t)}isEqual(e){return this._delegate.isEqual(e._delegate)}}const Zf={Firestore:rm,GeoPoint:rh,Timestamp:Gr,Blob:sd,Transaction:$v,WriteBatch:Uv,DocumentReference:Qa,DocumentSnapshot:od,Query:vn,QueryDocumentSnapshot:Kf,QuerySnapshot:sm,CollectionReference:ad,FieldPath:om,FieldValue:Eu,setLogLevel:function ll(r){!function Su(r){Eo.setLogLevel(r)}(r)},CACHE_SIZE_UNLIMITED:-1};!function DE(r){(function os(r,e){r.INTERNAL.registerComponent(new Be.wA("firestore-compat",t=>{const s=t.getProvider("app-compat").getImmediate(),u=t.getProvider("firestore").getImmediate();return e(s,u)},"PUBLIC").setServiceProps(Object.assign({},Zf)))})(r,(e,t)=>new rm(e,t,new Bv)),r.registerVersion("@firebase/firestore-compat","0.3.3")}(Je.Z);var am=$(8929),jv=$(6787),dh=$(2102),ec=$(7545),Hv=$(341),Gv=$(2654),zv=$(5279),K0=$(5283);class Z0 extends am.xQ{constructor(e=Number.POSITIVE_INFINITY,t=Number.POSITIVE_INFINITY,s){super(),this.scheduler=s,this._events=[],this._infiniteTimeWindow=!1,this._bufferSize=e<1?1:e,this._windowTime=t<1?1:t,t===Number.POSITIVE_INFINITY?(this._infiniteTimeWindow=!0,this.next=this.nextInfiniteTimeWindow):this.next=this.nextTimeWindow}nextInfiniteTimeWindow(e){if(!this.isStopped){const t=this._events;t.push(e),t.length>this._bufferSize&&t.shift()}super.next(e)}nextTimeWindow(e){this.isStopped||(this._events.push(new X0(this._getNow(),e)),this._trimBufferThenGetEvents()),super.next(e)}_subscribe(e){const t=this._infiniteTimeWindow,s=t?this._events:this._trimBufferThenGetEvents(),u=this.scheduler,d=s.length;let m;if(this.closed)throw new zv.N;if(this.isStopped||this.hasError?m=Gv.w.EMPTY:(this.observers.push(e),m=new K0.W(this,e)),u&&e.add(e=new dh.ht(e,u)),t)for(let C=0;C<d&&!e.closed;C++)e.next(s[C]);else for(let C=0;C<d&&!e.closed;C++)e.next(s[C].value);return this.hasError?e.error(this.thrownError):this.isStopped&&e.complete(),m}_getNow(){return(this.scheduler||Hv.c).now()}_trimBufferThenGetEvents(){const e=this._getNow(),t=this._bufferSize,s=this._windowTime,u=this._events,d=u.length;let m=0;for(;m<d&&!(e-u[m].time<s);)m++;return d>t&&(m=Math.max(m,d-t)),m>0&&u.splice(0,m),u}}class X0{constructor(e,t){this.time=e,this.value=t}}function ud(r,e,t){let s;return s=r&&"object"==typeof r?r:{bufferSize:r,windowTime:e,refCount:!1,scheduler:t},u=>u.lift(function Q0({bufferSize:r=Number.POSITIVE_INFINITY,windowTime:e=Number.POSITIVE_INFINITY,refCount:t,scheduler:s}){let u,m,d=0,C=!1,L=!1;return function(oe){let xe;d++,!u||C?(C=!1,u=new Z0(r,e,s),xe=u.subscribe(this),m=oe.subscribe({next(at){u.next(at)},error(at){C=!0,u.error(at)},complete(){L=!0,m=void 0,u.complete()}}),L&&(m=void 0)):xe=u.subscribe(this),this.add(()=>{d--,xe.unsubscribe(),xe=void 0,m&&!L&&t&&0===d&&(m.unsubscribe(),m=void 0,u=void 0)})}}(s))}var J0=$(7224);function Wv(r,e){return e?(0,ec.w)(()=>r,e):(0,ec.w)(()=>r)}var cd=$(8915);$(259);const Kv=new Map,ib={activated:!1,tokenObservers:[]},Zv={initialized:!1,enabled:!1};function Ps(r){return Kv.get(r)||Object.assign({},ib)}function Xf(){return Zv}class cb{constructor(e,t,s,u,d){if(this.operation=e,this.retryPolicy=t,this.getWaitDuration=s,this.lowerBound=u,this.upperBound=d,this.pending=null,this.nextErrorWaitInterval=u,u>d)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(e){var t=this;return(0,ee.Z)(function*(){t.stop();try{t.pending=new Pe.BH,yield function Qv(r){return new Promise(e=>{setTimeout(e,r)})}(t.getNextRun(e)),t.pending.resolve(),yield t.pending.promise,t.pending=new Pe.BH,yield t.operation(),t.pending.resolve(),yield t.pending.promise,t.process(!0).catch(()=>{})}catch(s){t.retryPolicy(s)?t.process(!1).catch(()=>{}):t.stop()}})()}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const t=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),t}}}const Bo=new Pe.LL("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function Jv(r){if(!Ps(r).activated)throw Bo.create("use-before-activation",{appName:r.name})}function tp(r,e){return cm.apply(this,arguments)}function cm(){return cm=(0,ee.Z)(function*({url:r,body:e},t){const s={"Content-Type":"application/json"},u=t.getImmediate({optional:!0});if(u){const xe=yield u.getHeartbeatsHeader();xe&&(s["X-Firebase-Client"]=xe)}const d={method:"POST",body:JSON.stringify(e),headers:s};let m,C;try{m=yield fetch(r,d)}catch(xe){throw Bo.create("fetch-network-error",{originalErrorMessage:null==xe?void 0:xe.message})}if(200!==m.status)throw Bo.create("fetch-status-error",{httpStatus:m.status});try{C=yield m.json()}catch(xe){throw Bo.create("fetch-parse-error",{originalErrorMessage:null==xe?void 0:xe.message})}const L=C.ttl.match(/^([\d.]+)(s)$/);if(!L||!L[2]||isNaN(Number(L[1])))throw Bo.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${C.ttl}`});const G=1e3*Number(L[1]),oe=Date.now();return{token:C.token,expireTimeMillis:oe+G,issuedAtTimeMillis:oe}}),cm.apply(this,arguments)}function lm(r,e){const{projectId:t,appId:s,apiKey:u}=r.options;return{url:`https://content-firebaseappcheck.googleapis.com/v1/projects/${t}/apps/${s}:exchangeDebugToken?key=${u}`,body:{debug_token:e}}}const ld="firebase-app-check-store";let np=null;function r_(){return np||(np=new Promise((r,e)=>{try{const t=indexedDB.open("firebase-app-check-database",1);t.onsuccess=s=>{r(s.target.result)},t.onerror=s=>{var u;e(Bo.create("storage-open",{originalErrorMessage:null===(u=s.target.error)||void 0===u?void 0:u.message}))},t.onupgradeneeded=s=>{0===s.oldVersion&&s.target.result.createObjectStore(ld,{keyPath:"compositeKey"})}}catch(t){e(Bo.create("storage-open",{originalErrorMessage:null==t?void 0:t.message}))}}),np)}function hm(){return hm=(0,ee.Z)(function*(r,e){const s=(yield r_()).transaction(ld,"readwrite"),d=s.objectStore(ld).put({compositeKey:r,value:e});return new Promise((m,C)=>{d.onsuccess=L=>{m()},s.onerror=L=>{var G;C(Bo.create("storage-set",{originalErrorMessage:null===(G=L.target.error)||void 0===G?void 0:G.message}))}})}),hm.apply(this,arguments)}const gh=new ct.Yd("@firebase/app-check");function ip(r,e){return(0,Pe.hl)()?function fb(r,e){return function s_(r,e){return hm.apply(this,arguments)}(function a_(r){return`${r.options.appId}-${r.name}`}(r),e)}(r,e).catch(t=>{gh.warn(`Failed to write token to IndexedDB. Error: ${t}`)}):Promise.resolve()}function gm(){return Xf().enabled}function u_(){return mm.apply(this,arguments)}function mm(){return mm=(0,ee.Z)(function*(){const r=Xf();if(r.enabled&&r.token)return r.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")}),mm.apply(this,arguments)}const ym={error:"UNKNOWN_ERROR"};function vm(r){return Pe.US.encodeString(JSON.stringify(r),!1)}function mh(r){return yh.apply(this,arguments)}function yh(){return yh=(0,ee.Z)(function*(r,e=!1){const t=r.app;Jv(t);const s=Ps(t);let d,u=s.token;if(u&&!Ja(u)&&(s.token=void 0,u=void 0),!u){const L=yield s.cachedTokenPromise;L&&(Ja(L)?u=L:yield ip(t,void 0))}if(!e&&u&&Ja(u))return{token:u.token};let C,m=!1;if(gm()){s.exchangeTokenPromise||(s.exchangeTokenPromise=tp(lm(t,yield u_()),r.heartbeatServiceProvider).finally(()=>{s.exchangeTokenPromise=void 0}),m=!0);const L=yield s.exchangeTokenPromise;return yield ip(t,L),s.token=L,{token:L.token}}try{s.exchangeTokenPromise||(s.exchangeTokenPromise=s.provider.getToken().finally(()=>{s.exchangeTokenPromise=void 0}),m=!0),u=yield Ps(t).exchangeTokenPromise}catch(L){"appCheck/throttled"===L.code?gh.warn(L.message):gh.error(L),d=L}return u?d?C=Ja(u)?{token:u.token,internalError:d}:Im(d):(C={token:u.token},s.token=u,yield ip(t,u)):C=Im(d),m&&Em(t,C),C}),yh.apply(this,arguments)}function bm(r,e){const t=Ps(r),s=t.tokenObservers.filter(u=>u.next!==e);0===s.length&&t.tokenRefresher&&t.tokenRefresher.isRunning()&&t.tokenRefresher.stop(),t.tokenObservers=s}function sp(r){const{app:e}=r,t=Ps(e);let s=t.tokenRefresher;s||(s=function vb(r){const{app:e}=r;return new cb((0,ee.Z)(function*(){let s;if(s=Ps(e).token?yield mh(r,!0):yield mh(r),s.error)throw s.error;if(s.internalError)throw s.internalError}),()=>!0,()=>{const t=Ps(e);if(t.token){let s=t.token.issuedAtTimeMillis+.5*(t.token.expireTimeMillis-t.token.issuedAtTimeMillis)+3e5;return s=Math.min(s,t.token.expireTimeMillis-3e5),Math.max(0,s-Date.now())}return 0},3e4,96e4)}(r),t.tokenRefresher=s),!s.isRunning()&&t.isTokenAutoRefreshEnabled&&s.start()}function Em(r,e){const t=Ps(r).tokenObservers;for(const s of t)try{"EXTERNAL"===s.type&&null!=e.error?s.error(e.error):s.next(e)}catch(u){}}function Ja(r){return r.expireTimeMillis-Date.now()>0}function Im(r){return{token:vm(ym),error:r}}class _b{constructor(e,t){this.app=e,this.heartbeatServiceProvider=t}_delete(){const{tokenObservers:e}=Ps(this.app);for(const t of e)bm(this.app,t.next);return Promise.resolve()}}const f_="app-check-internal";!function Tb(){(0,nt._registerComponent)(new Be.wA("app-check",r=>function RE(r,e){return new _b(r,e)}(r.getProvider("app").getImmediate(),r.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((r,e,t)=>{r.getProvider(f_).initialize()})),(0,nt._registerComponent)(new Be.wA(f_,r=>function c_(r){return{getToken:e=>mh(r,e),addTokenListener:e=>function _m(r,e,t,s){const{app:u}=r,d=Ps(u);if(d.tokenObservers=[...d.tokenObservers,{next:t,error:s,type:e}],d.token&&Ja(d.token)){const C=d.token;Promise.resolve().then(()=>{t({token:C.token}),sp(r)}).catch(()=>{})}d.cachedTokenPromise.then(()=>sp(r))}(r,"INTERNAL",e),removeTokenListener:e=>bm(r.app,e)}}(r.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),(0,nt.registerVersion)("@firebase/app-check","0.6.3")}();class Om{constructor(){return(0,ce.vb)("app-check")}}"undefined"!=typeof window&&window;var Ob=$(9260);const dd=new a.OlP("angularfire2.auth.use-emulator"),y_=new a.OlP("angularfire2.auth.settings"),ap=new a.OlP("angularfire2.auth.tenant-id"),eu=new a.OlP("angularfire2.auth.langugage-code"),v_=new a.OlP("angularfire2.auth.use-device-language"),up=new a.OlP("angularfire.auth.persistence"),hd=(r,e,t,s,u,d,m,C)=>(0,$e.cc)(`${r.name}.auth`,"AngularFireAuth",r.name,()=>{const L=e.runOutsideAngular(()=>r.auth());if(t&&L.useEmulator(...t),s&&(L.tenantId=s),L.languageCode=u,d&&L.useDeviceLanguage(),m)for(const[G,oe]of Object.entries(m))L.settings[G]=oe;return C&&L.setPersistence(C),L},[t,s,u,d,m,C]);let __=(()=>{class r{constructor(t,s,u,d,m,C,L,G,oe,xe,at,Dt){const Ot=new am.xQ,Jt=(0,Te.of)(void 0).pipe((0,dh.QV)(m.outsideAngular),(0,ec.w)(()=>d.runOutsideAngular(()=>Promise.resolve().then($.bind($,407)))),(0,ae.U)(()=>(0,$e.on)(t,d,s)),(0,ae.U)(_n=>hd(_n,d,C,G,oe,xe,L,at)),ud({bufferSize:1,refCount:!1}));if((0,_e.PM)(u))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=(0,Te.of)(null);else{Jt.pipe((0,J0.P)()).subscribe();const Qr=Jt.pipe((0,ec.w)(vr=>vr.getRedirectResult().then(Qn=>Qn,()=>null)),ce.iC,ud({bufferSize:1,refCount:!1})),Di=Jt.pipe((0,ec.w)(vr=>new B.y(Qn=>({unsubscribe:d.runOutsideAngular(()=>vr.onAuthStateChanged(Ar=>Qn.next(Ar),Ar=>Qn.error(Ar),()=>Qn.complete()))})))),Mr=Jt.pipe((0,ec.w)(vr=>new B.y(Qn=>({unsubscribe:d.runOutsideAngular(()=>vr.onIdTokenChanged(Ar=>Qn.next(Ar),Ar=>Qn.error(Ar),()=>Qn.complete()))}))));this.authState=Qr.pipe(Wv(Di),(0,cd.R)(m.outsideAngular),(0,dh.QV)(m.insideAngular)),this.user=Qr.pipe(Wv(Mr),(0,cd.R)(m.outsideAngular),(0,dh.QV)(m.insideAngular)),this.idToken=this.user.pipe((0,ec.w)(vr=>vr?(0,Ce.D)(vr.getIdToken()):(0,Te.of)(null))),this.idTokenResult=this.user.pipe((0,ec.w)(vr=>vr?(0,Ce.D)(vr.getIdTokenResult()):(0,Te.of)(null))),this.credential=(0,jv.T)(Qr,Ot,this.authState.pipe((0,ot.h)(vr=>!vr))).pipe((0,ae.U)(vr=>null!=vr&&vr.user?vr:null),(0,cd.R)(m.outsideAngular),(0,dh.QV)(m.insideAngular))}return(0,$e.pX)(this,Jt,d,{spy:{apply:(_n,Qr,Di)=>{(_n.startsWith("signIn")||_n.startsWith("createUser"))&&Di.then(Mr=>Ot.next(Mr))}}})}}return r.\u0275fac=function(t){return new(t||r)(a.LFG($e.Dh),a.LFG($e.xv,8),a.LFG(a.Lbi),a.LFG(a.R0b),a.LFG(ce.HU),a.LFG(dd,8),a.LFG(y_,8),a.LFG(ap,8),a.LFG(eu,8),a.LFG(v_,8),a.LFG(up,8),a.LFG(Om,8))},r.\u0275prov=a.Yz7({token:r,factory:r.\u0275fac,providedIn:"any"}),r})();function bh(r,e){return function Pb(r,e=X.z){return new B.y(t=>{let s;return null!=e?e.schedule(()=>{s=r.onSnapshot({includeMetadataChanges:!0},t)}):s=r.onSnapshot({includeMetadataChanges:!0},t),()=>{null!=s&&s()}})}(r,e)}function Pm(r,e){return bh(r,e).pipe((0,ae.U)(t=>({payload:t,type:"query"})))}function lp(r,e){return Pm(r,e).pipe((0,he.O)(void 0),me(),(0,ae.U)(([t,s])=>{const u=s.payload.docChanges(),d=u.map(m=>({type:m.type,payload:m}));return t&&JSON.stringify(t.payload.metadata)!==JSON.stringify(s.payload.metadata)&&s.payload.docs.forEach((m,C)=>{const L=u.find(oe=>oe.doc.ref.isEqual(m.ref)),G=null==t?void 0:t.payload.docs.find(oe=>oe.ref.isEqual(m.ref));L&&JSON.stringify(L.doc.metadata)===JSON.stringify(m.metadata)||!L&&G&&JSON.stringify(G.metadata)===JSON.stringify(m.metadata)||d.push({type:"modified",payload:{oldIndex:C,newIndex:C,type:"modified",doc:m}})}),d}))}function Nm(r,e,t){return lp(r,t).pipe((0,ie.R)((s,u)=>function b_(r,e,t){return e.forEach(s=>{t.indexOf(s.type)>-1&&(r=function E_(r,e){switch(e.type){case"added":if(!r[e.newIndex]||!r[e.newIndex].doc.ref.isEqual(e.doc.ref))return Eh(r,e.newIndex,0,e);break;case"modified":if(null==r[e.oldIndex]||r[e.oldIndex].doc.ref.isEqual(e.doc.ref)){if(e.oldIndex!==e.newIndex){const t=r.slice();return t.splice(e.oldIndex,1),t.splice(e.newIndex,0,e),t}return Eh(r,e.newIndex,1,e)}break;case"removed":if(r[e.oldIndex]&&r[e.oldIndex].doc.ref.isEqual(e.doc.ref))return Eh(r,e.oldIndex,1)}return r}(r,s))}),r}(s,u.map(d=>d.payload),e),[]),(0,Re.x)(),(0,ae.U)(s=>s.map(u=>({type:u.type,payload:u}))))}function Eh(r,e,t,...s){const u=r.slice();return u.splice(e,t,...s),u}function I_(r){return(!r||0===r.length)&&(r=["added","removed","modified"]),r}class w_{constructor(e,t,s){this.ref=e,this.query=t,this.afs=s}stateChanges(e){let t=lp(this.query,this.afs.schedulers.outsideAngular);return e&&e.length>0&&(t=t.pipe((0,ae.U)(s=>s.filter(u=>e.indexOf(u.type)>-1)))),t.pipe((0,he.O)(void 0),me(),(0,ot.h)(([s,u])=>u.length>0||!s),(0,ae.U)(([s,u])=>u),ce.iC)}auditTrail(e){return this.stateChanges(e).pipe((0,ie.R)((t,s)=>[...t,...s],[]))}snapshotChanges(e){const t=I_(e);return Nm(this.query,t,this.afs.schedulers.outsideAngular).pipe(ce.iC)}valueChanges(e={}){return Pm(this.query,this.afs.schedulers.outsideAngular).pipe((0,ae.U)(t=>t.payload.docs.map(s=>e.idField?Object.assign(Object.assign({},s.data()),{[e.idField]:s.id}):s.data())),ce.iC)}get(e){return(0,Ce.D)(this.query.get(e)).pipe(ce.iC)}add(e){return this.ref.add(e)}doc(e){return new Nb(this.ref.doc(e),this.afs)}}class Nb{constructor(e,t){this.ref=e,this.afs=t}set(e,t){return this.ref.set(e,t)}update(e){return this.ref.update(e)}delete(){return this.ref.delete()}collection(e,t){const s=this.ref.collection(e),{ref:u,query:d}=D_(s,t);return new w_(u,d,this.afs)}snapshotChanges(){return function cp(r,e){return bh(r,e).pipe((0,he.O)(void 0),me(),(0,ae.U)(([t,s])=>s.exists?null!=t&&t.exists?{payload:s,type:"modified"}:{payload:s,type:"added"}:{payload:s,type:"removed"}))}(this.ref,this.afs.schedulers.outsideAngular).pipe(ce.iC)}valueChanges(e={}){return this.snapshotChanges().pipe((0,ae.U)(({payload:t})=>e.idField?Object.assign(Object.assign({},t.data()),{[e.idField]:t.id}):t.data()))}get(e){return(0,Ce.D)(this.ref.get(e)).pipe(ce.iC)}}class Fm{constructor(e,t){this.query=e,this.afs=t}stateChanges(e){return e&&0!==e.length?lp(this.query,this.afs.schedulers.outsideAngular).pipe((0,ae.U)(t=>t.filter(s=>e.indexOf(s.type)>-1)),(0,ot.h)(t=>t.length>0),ce.iC):lp(this.query,this.afs.schedulers.outsideAngular).pipe(ce.iC)}auditTrail(e){return this.stateChanges(e).pipe((0,ie.R)((t,s)=>[...t,...s],[]))}snapshotChanges(e){const t=I_(e);return Nm(this.query,t,this.afs.schedulers.outsideAngular).pipe(ce.iC)}valueChanges(e={}){return Pm(this.query,this.afs.schedulers.outsideAngular).pipe((0,ae.U)(s=>s.payload.docs.map(u=>e.idField?Object.assign({[e.idField]:u.id},u.data()):u.data())),ce.iC)}get(e){return(0,Ce.D)(this.query.get(e)).pipe(ce.iC)}}const dp=new a.OlP("angularfire2.enableFirestorePersistence"),Lm=new a.OlP("angularfire2.firestore.persistenceSettings"),Vm=new a.OlP("angularfire2.firestore.settings"),Bm=new a.OlP("angularfire2.firestore.use-emulator");function D_(r,e=(t=>t)){return{query:e(r),ref:r}}let C_=(()=>{class r{constructor(t,s,u,d,m,C,L,G,oe,xe,at,Dt,Ot,Jt,_n,Qr,Di){this.schedulers=L;const Mr=(0,$e.on)(t,C,s),vr=oe;xe&&hd(Mr,C,at,Ot,Jt,_n,Dt,Qr),[this.firestore,this.persistenceEnabled$]=(0,$e.cc)(`${Mr.name}.firestore`,"AngularFirestore",Mr.name,()=>{const Qn=C.runOutsideAngular(()=>Mr.firestore());if(d&&Qn.settings(d),vr&&Qn.useEmulator(...vr),u&&!(0,_e.PM)(m)){const Ar=()=>{try{return(0,Ce.D)(Qn.enablePersistence(G||void 0).then(()=>!0,()=>!1))}catch(Es){return"undefined"!=typeof console&&console.warn(Es),(0,Te.of)(!1)}};return[Qn,C.runOutsideAngular(Ar)]}return[Qn,(0,Te.of)(!1)]},[d,vr,u])}collection(t,s){let u;u="string"==typeof t?this.firestore.collection(t):t;const{ref:d,query:m}=D_(u,s),C=this.schedulers.ngZone.run(()=>d);return new w_(C,m,this)}collectionGroup(t,s){const u=s||(m=>m),d=this.firestore.collectionGroup(t);return new Fm(u(d),this)}doc(t){let s;s="string"==typeof t?this.firestore.doc(t):t;const u=this.schedulers.ngZone.run(()=>s);return new Nb(u,this)}createId(){return this.firestore.collection("_").doc().id}}return r.\u0275fac=function(t){return new(t||r)(a.LFG($e.Dh),a.LFG($e.xv,8),a.LFG(dp,8),a.LFG(Vm,8),a.LFG(a.Lbi),a.LFG(a.R0b),a.LFG(ce.HU),a.LFG(Lm,8),a.LFG(Bm,8),a.LFG(__,8),a.LFG(dd,8),a.LFG(y_,8),a.LFG(ap,8),a.LFG(eu,8),a.LFG(v_,8),a.LFG(up,8),a.LFG(Om,8))},r.\u0275prov=a.Yz7({token:r,factory:r.\u0275fac,providedIn:"any"}),r})(),Fb=(()=>{class r{constructor(){Ob.Z.registerVersion("angularfire",ce.q4.full,"fst-compat")}static enablePersistence(t){return{ngModule:r,providers:[{provide:dp,useValue:!0},{provide:Lm,useValue:t}]}}}return r.\u0275fac=function(t){return new(t||r)},r.\u0275mod=a.oAB({type:r}),r.\u0275inj=a.cJS({providers:[C_]}),r})()},2011:(Pt,Ze,$)=>{"use strict";$.d(Ze,{Dh:()=>be,GT:()=>ce,cc:()=>Re,hO:()=>ie,on:()=>se,pX:()=>Te,xv:()=>me});var a=$(6435),X=$(9260),B=$(263);Pt=$.hmd(Pt);const Ce=["ngOnDestroy"],Te=(De,Je,ee,nt={})=>new Proxy(De,{get:(Be,ct)=>ee.runOutsideAngular(()=>{var Pe;if(De[ct])return!(null===(Pe=null==nt?void 0:nt.spy)||void 0===Pe)&&Pe.get&&nt.spy.get(ct,De[ct]),De[ct];if(Ce.indexOf(ct)>-1)return()=>{};const st=Je.toPromise().then(de=>{const ye=de&&de[ct];return"function"==typeof ye?ye.bind(de):ye&&ye.then?ye.then(le=>ee.run(()=>le)):ee.run(()=>ye)});return new Proxy(()=>{},{get:(de,ye)=>st[ye],apply:(de,ye,le)=>st.then(W=>{var Y;const Q=W&&W(...le);return!(null===(Y=null==nt?void 0:nt.spy)||void 0===Y)&&Y.apply&&nt.spy.apply(ct,le,Q),Q})})})}),ce=(De,Je)=>{Je.forEach(ee=>{Object.getOwnPropertyNames(ee.prototype||ee).forEach(nt=>{Object.defineProperty(De.prototype,nt,Object.getOwnPropertyDescriptor(ee.prototype||ee,nt))})})};class he{constructor(Je){return Je}}const be=new a.OlP("angularfire2.app.options"),me=new a.OlP("angularfire2.app.name");function se(De,Je,ee){const Be="object"==typeof ee&&ee||{};Be.name=Be.name||"string"==typeof ee&&ee||"[DEFAULT]";const Pe=X.Z.apps.filter(st=>st&&st.name===Be.name)[0]||Je.runOutsideAngular(()=>X.Z.initializeApp(De,Be));try{JSON.stringify(De)!==JSON.stringify(Pe.options)&&re("error",`${Pe.name} Firebase App already initialized with different options${Pt.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch(st){}return new he(Pe)}const re=(De,...Je)=>{(0,a.X6Q)()&&"undefined"!=typeof console&&console[De](...Je)},ae={provide:he,useFactory:se,deps:[be,a.R0b,[new a.FiY,me]]};let ie=(()=>{class De{constructor(ee){X.Z.registerVersion("angularfire",B.q4.full,"core"),X.Z.registerVersion("angularfire",B.q4.full,"app-compat"),X.Z.registerVersion("angular",a.q4F.full,ee.toString())}static initializeApp(ee,nt){return{ngModule:De,providers:[{provide:be,useValue:ee},{provide:me,useValue:nt}]}}}return De.\u0275fac=function(ee){return new(ee||De)(a.LFG(a.Lbi))},De.\u0275mod=a.oAB({type:De}),De.\u0275inj=a.cJS({providers:[ae]}),De})();function Re(De,Je,ee,nt,Be){const[,ct,Pe]=globalThis.\u0275AngularfireInstanceCache.find(st=>st[0]===De)||[];if(ct)return function ot(De,Je){try{return De.toString()===Je.toString()}catch(ee){return De===Je}}(Be,Pe)||(_e("error",`${Je} was already initialized on the ${ee} Firebase App with different settings.${$e?" You may need to reload as Firebase is not HMR aware.":""}`),_e("warn",{is:Be,was:Pe})),ct;{const st=nt();return globalThis.\u0275AngularfireInstanceCache.push([De,st,Be]),st}}const $e=!!Pt.hot,_e=(De,...Je)=>{(0,a.X6Q)()&&"undefined"!=typeof console&&console[De](...Je)};globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[])},263:(Pt,Ze,$)=>{"use strict";$.d(Ze,{q4:()=>Ii,iC:()=>T,HU:()=>Ua,vb:()=>ys,JM:()=>xu});var a=$(6435),X=$(259),B=$(5861),Ce=$(9681),Te=$(2090),ce=$(4859),he=$(1877),be=$(8766);const me="@firebase/installations",ae="w:0.6.3",ie="FIS_v2",Je=new Te.LL("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function ee(E){return E instanceof Te.ZR&&E.code.includes("request-failed")}function nt({projectId:E}){return`https://firebaseinstallations.googleapis.com/v1/projects/${E}/installations`}function Be(E){return{token:E.token,requestStatus:2,expiresIn:W(E.expiresIn),creationTime:Date.now()}}function ct(E,A){return Pe.apply(this,arguments)}function Pe(){return(Pe=(0,B.Z)(function*(E,A){const fe=(yield A.json()).error;return Je.create("request-failed",{requestName:E,serverCode:fe.code,serverMessage:fe.message,serverStatus:fe.status})})).apply(this,arguments)}function st({apiKey:E}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":E})}function de(E,{refreshToken:A}){const H=st(E);return H.append("Authorization",function Y(E){return`${ie} ${E}`}(A)),H}function ye(E){return le.apply(this,arguments)}function le(){return(le=(0,B.Z)(function*(E){const A=yield E();return A.status>=500&&A.status<600?E():A})).apply(this,arguments)}function W(E){return Number(E.replace("s","000"))}function Q(E,A){return Ie.apply(this,arguments)}function Ie(){return(Ie=(0,B.Z)(function*({appConfig:E,heartbeatServiceProvider:A},{fid:H}){const fe=nt(E),Ae=st(E),qe=A.getImmediate({optional:!0});if(qe){const fn=yield qe.getHeartbeatsHeader();fn&&Ae.append("x-firebase-client",fn)}const Ht={method:"POST",headers:Ae,body:JSON.stringify({fid:H,authVersion:ie,appId:E.appId,sdkVersion:ae})},Vt=yield ye(()=>fetch(fe,Ht));if(Vt.ok){const fn=yield Vt.json();return{fid:fn.fid||H,registrationStatus:2,refreshToken:fn.refreshToken,authToken:Be(fn.authToken)}}throw yield ct("Create Installation",Vt)})).apply(this,arguments)}function ze(E){return new Promise(A=>{setTimeout(A,E)})}const He=/^[cdef][\w-]{21}$/;function Fe(){try{const E=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(E),E[0]=112+E[0]%16;const H=function Ne(E){return function pt(E){return btoa(String.fromCharCode(...E)).replace(/\+/g,"-").replace(/\//g,"_")}(E).substr(0,22)}(E);return He.test(H)?H:""}catch(E){return""}}function Ue(E){return`${E.appName}!${E.appId}`}const Ve=new Map;function ft(E,A){const H=Ue(E);Rt(H,A),function xn(E,A){const H=function Kn(){return!zt&&"BroadcastChannel"in self&&(zt=new BroadcastChannel("[Firebase] FID Change"),zt.onmessage=E=>{Rt(E.data.key,E.data.fid)}),zt}();H&&H.postMessage({key:E,fid:A}),function bn(){0===Ve.size&&zt&&(zt.close(),zt=null)}()}(H,A)}function Rt(E,A){const H=Ve.get(E);if(H)for(const fe of H)fe(A)}let zt=null;const Jn="firebase-installations-store";let er=null;function Dr(){return er||(er=(0,be.X3)("firebase-installations-database",1,{upgrade:(E,A)=>{0===A&&E.createObjectStore(Jn)}})),er}function yn(E,A){return Rr.apply(this,arguments)}function Rr(){return(Rr=(0,B.Z)(function*(E,A){const H=Ue(E),Ae=(yield Dr()).transaction(Jn,"readwrite"),qe=Ae.objectStore(Jn),_t=yield qe.get(H);return yield qe.put(A,H),yield Ae.done,(!_t||_t.fid!==A.fid)&&ft(E,A.fid),A})).apply(this,arguments)}function cr(E){return Ci.apply(this,arguments)}function Ci(){return(Ci=(0,B.Z)(function*(E){const A=Ue(E),fe=(yield Dr()).transaction(Jn,"readwrite");yield fe.objectStore(Jn).delete(A),yield fe.done})).apply(this,arguments)}function lr(E,A){return en.apply(this,arguments)}function en(){return(en=(0,B.Z)(function*(E,A){const H=Ue(E),Ae=(yield Dr()).transaction(Jn,"readwrite"),qe=Ae.objectStore(Jn),_t=yield qe.get(H),Ht=A(_t);return void 0===Ht?yield qe.delete(H):yield qe.put(Ht,H),yield Ae.done,Ht&&(!_t||_t.fid!==Ht.fid)&&ft(E,Ht.fid),Ht})).apply(this,arguments)}function Cr(E){return zr.apply(this,arguments)}function zr(){return(zr=(0,B.Z)(function*(E){let A;const H=yield lr(E.appConfig,fe=>{const Ae=St(fe),qe=Xt(E,Ae);return A=qe.registrationPromise,qe.installationEntry});return""===H.fid?{installationEntry:yield A}:{installationEntry:H,registrationPromise:A}})).apply(this,arguments)}function St(E){return fr(E||{fid:Fe(),registrationStatus:0})}function Xt(E,A){if(0===A.registrationStatus){if(!navigator.onLine)return{installationEntry:A,registrationPromise:Promise.reject(Je.create("app-offline"))};const H={fid:A.fid,registrationStatus:1,registrationTime:Date.now()},fe=function yt(E,A){return rr.apply(this,arguments)}(E,H);return{installationEntry:H,registrationPromise:fe}}return 1===A.registrationStatus?{installationEntry:A,registrationPromise:Un(E)}:{installationEntry:A}}function rr(){return(rr=(0,B.Z)(function*(E,A){try{const H=yield Q(E,A);return yn(E.appConfig,H)}catch(H){throw ee(H)&&409===H.customData.serverCode?yield cr(E.appConfig):yield yn(E.appConfig,{fid:A.fid,registrationStatus:0}),H}})).apply(this,arguments)}function Un(E){return tr.apply(this,arguments)}function tr(){return(tr=(0,B.Z)(function*(E){let A=yield nr(E.appConfig);for(;1===A.registrationStatus;)yield ze(100),A=yield nr(E.appConfig);if(0===A.registrationStatus){const{installationEntry:H,registrationPromise:fe}=yield Cr(E);return fe||H}return A})).apply(this,arguments)}function nr(E){return lr(E,A=>{if(!A)throw Je.create("installation-not-found");return fr(A)})}function fr(E){return function ir(E){return 1===E.registrationStatus&&E.registrationTime+1e4<Date.now()}(E)?{fid:E.fid,registrationStatus:0}:E}function jn(E,A){return zi.apply(this,arguments)}function zi(){return(zi=(0,B.Z)(function*({appConfig:E,heartbeatServiceProvider:A},H){const fe=an(E,H),Ae=de(E,H),qe=A.getImmediate({optional:!0});if(qe){const fn=yield qe.getHeartbeatsHeader();fn&&Ae.append("x-firebase-client",fn)}const Ht={method:"POST",headers:Ae,body:JSON.stringify({installation:{sdkVersion:ae,appId:E.appId}})},Vt=yield ye(()=>fetch(fe,Ht));if(Vt.ok)return Be(yield Vt.json());throw yield ct("Generate Auth Token",Vt)})).apply(this,arguments)}function an(E,{fid:A}){return`${nt(E)}/${A}/authTokens:generate`}function Dn(E){return jr.apply(this,arguments)}function jr(){return(jr=(0,B.Z)(function*(E,A=!1){let H;const fe=yield lr(E.appConfig,qe=>{if(!pn(qe))throw Je.create("not-registered");const _t=qe.authToken;if(!A&&Oe(_t))return qe;if(1===_t.requestStatus)return H=Wt(E,A),qe;{if(!navigator.onLine)throw Je.create("app-offline");const Ht=ke(qe);return H=on(E,Ht),Ht}});return H?yield H:fe.authToken})).apply(this,arguments)}function Wt(E,A){return wt.apply(this,arguments)}function wt(){return(wt=(0,B.Z)(function*(E,A){let H=yield Gt(E.appConfig);for(;1===H.authToken.requestStatus;)yield ze(100),H=yield Gt(E.appConfig);const fe=H.authToken;return 0===fe.requestStatus?Dn(E,A):fe})).apply(this,arguments)}function Gt(E){return lr(E,A=>{if(!pn(A))throw Je.create("not-registered");return function mt(E){return 1===E.requestStatus&&E.requestTime+1e4<Date.now()}(A.authToken)?Object.assign(Object.assign({},A),{authToken:{requestStatus:0}}):A})}function on(E,A){return cn.apply(this,arguments)}function cn(){return(cn=(0,B.Z)(function*(E,A){try{const H=yield jn(E,A),fe=Object.assign(Object.assign({},A),{authToken:H});return yield yn(E.appConfig,fe),H}catch(H){if(!ee(H)||401!==H.customData.serverCode&&404!==H.customData.serverCode){const fe=Object.assign(Object.assign({},A),{authToken:{requestStatus:0}});yield yn(E.appConfig,fe)}else yield cr(E.appConfig);throw H}})).apply(this,arguments)}function pn(E){return void 0!==E&&2===E.registrationStatus}function Oe(E){return 2===E.requestStatus&&!function we(E){const A=Date.now();return A<E.creationTime||E.creationTime+E.expiresIn<A+36e5}(E)}function ke(E){const A={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},E),{authToken:A})}function Mt(){return(Mt=(0,B.Z)(function*(E){const A=E,{installationEntry:H,registrationPromise:fe}=yield Cr(A);return fe?fe.catch(console.error):Dn(A).catch(console.error),H.fid})).apply(this,arguments)}function Gn(){return(Gn=(0,B.Z)(function*(E,A=!1){const H=E;return yield pr(H),(yield Dn(H,A)).token})).apply(this,arguments)}function pr(E){return hn.apply(this,arguments)}function hn(){return(hn=(0,B.Z)(function*(E){const{registrationPromise:A}=yield Cr(E);A&&(yield A)})).apply(this,arguments)}function sr(E){return Je.create("missing-app-config-values",{valueName:E})}const zn="installations",Wn=E=>{const A=E.getProvider("app").getImmediate(),H=function Sr(E){if(!E||!E.options)throw sr("App Configuration");if(!E.name)throw sr("App Name");const A=["projectId","apiKey","appId"];for(const H of A)if(!E.options[H])throw sr(H);return{appName:E.name,projectId:E.options.projectId,apiKey:E.options.apiKey,appId:E.options.appId}}(A);return{app:A,appConfig:H,heartbeatServiceProvider:(0,Ce._getProvider)(A,"heartbeat"),_delete:()=>Promise.resolve()}},Ut=E=>{const A=E.getProvider("app").getImmediate(),H=(0,Ce._getProvider)(A,zn).getImmediate();return{getId:()=>function rt(E){return Mt.apply(this,arguments)}(H),getToken:Ae=>function gn(E){return Gn.apply(this,arguments)}(H,Ae)}};(function Cn(){(0,Ce._registerComponent)(new ce.wA(zn,Wn,"PUBLIC")),(0,Ce._registerComponent)(new ce.wA("installations-internal",Ut,"PRIVATE"))})(),(0,Ce.registerVersion)(me,"0.6.3"),(0,Ce.registerVersion)(me,"0.6.3","esm2017");const Ln="@firebase/remote-config",Vn=new Te.LL("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class Qt{constructor(A,H,fe,Ae){this.client=A,this.storage=H,this.storageCache=fe,this.logger=Ae}isCachedDataFresh(A,H){if(!H)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const fe=Date.now()-H,Ae=fe<=A;return this.logger.debug(`Config fetch cache check. Cache age millis: ${fe}. Cache max age millis (minimumFetchIntervalMillis setting): ${A}. Is cache hit: ${Ae}.`),Ae}fetch(A){var H=this;return(0,B.Z)(function*(){const[fe,Ae]=yield Promise.all([H.storage.getLastSuccessfulFetchTimestampMillis(),H.storage.getLastSuccessfulFetchResponse()]);if(Ae&&H.isCachedDataFresh(A.cacheMaxAgeMillis,fe))return Ae;A.eTag=Ae&&Ae.eTag;const qe=yield H.client.fetch(A),_t=[H.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===qe.status&&_t.push(H.storage.setLastSuccessfulFetchResponse(qe)),yield Promise.all(_t),qe})()}}function An(E=navigator){return E.languages&&E.languages[0]||E.language}class mn{constructor(A,H,fe,Ae,qe,_t){this.firebaseInstallations=A,this.sdkVersion=H,this.namespace=fe,this.projectId=Ae,this.apiKey=qe,this.appId=_t}fetch(A){var H=this;return(0,B.Z)(function*(){const[fe,Ae]=yield Promise.all([H.firebaseInstallations.getId(),H.firebaseInstallations.getToken()]),_t=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${H.projectId}/namespaces/${H.namespace}:fetch?key=${H.apiKey}`,Ht={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":A.eTag||"*"},Vt={sdk_version:H.sdkVersion,app_instance_id:fe,app_instance_id_token:Ae,app_id:H.appId,language_code:An()},fn={method:"POST",headers:Ht,body:JSON.stringify(Vt)},Hn=fetch(_t,fn),Sn=new Promise((Pn,wr)=>{A.signal.addEventListener(()=>{const Do=new Error("The operation was aborted.");Do.name="AbortError",wr(Do)})});let Hi;try{yield Promise.race([Hn,Sn]),Hi=yield Hn}catch(Pn){let wr="fetch-client-network";throw"AbortError"===(null==Pn?void 0:Pn.name)&&(wr="fetch-timeout"),Vn.create(wr,{originalErrorMessage:null==Pn?void 0:Pn.message})}let yr=Hi.status;const zo=Hi.headers.get("ETag")||void 0;let uu,ua;if(200===Hi.status){let Pn;try{Pn=yield Hi.json()}catch(wr){throw Vn.create("fetch-client-parse",{originalErrorMessage:null==wr?void 0:wr.message})}uu=Pn.entries,ua=Pn.state}if("INSTANCE_STATE_UNSPECIFIED"===ua?yr=500:"NO_CHANGE"===ua?yr=304:("NO_TEMPLATE"===ua||"EMPTY_CONFIG"===ua)&&(uu={}),304!==yr&&200!==yr)throw Vn.create("fetch-status",{httpStatus:yr});return{status:yr,eTag:zo,config:uu}})()}}class hi{constructor(A,H){this.client=A,this.storage=H}fetch(A){var H=this;return(0,B.Z)(function*(){const fe=(yield H.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return H.attemptFetch(A,fe)})()}attemptFetch(A,{throttleEndTimeMillis:H,backoffCount:fe}){var Ae=this;return(0,B.Z)(function*(){yield function Zn(E,A){return new Promise((H,fe)=>{const Ae=Math.max(A-Date.now(),0),qe=setTimeout(H,Ae);E.addEventListener(()=>{clearTimeout(qe),fe(Vn.create("fetch-throttle",{throttleEndTimeMillis:A}))})})}(A.signal,H);try{const qe=yield Ae.client.fetch(A);return yield Ae.storage.deleteThrottleMetadata(),qe}catch(qe){if(!function ti(E){if(!(E instanceof Te.ZR&&E.customData))return!1;const A=Number(E.customData.httpStatus);return 429===A||500===A||503===A||504===A}(qe))throw qe;const _t={throttleEndTimeMillis:Date.now()+(0,Te.$s)(fe),backoffCount:fe+1};return yield Ae.storage.setThrottleMetadata(_t),Ae.attemptFetch(A,_t)}})()}}class us{constructor(A,H,fe,Ae,qe){this.app=A,this._client=H,this._storageCache=fe,this._storage=Ae,this._logger=qe,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function Vi(E,A){const H=E.target.error||void 0;return Vn.create(A,{originalErrorMessage:H&&(null==H?void 0:H.message)})}const fi="app_namespace_store";class fo{constructor(A,H,fe,Ae=function To(){return new Promise((E,A)=>{try{const H=indexedDB.open("firebase_remote_config",1);H.onerror=fe=>{A(Vi(fe,"storage-open"))},H.onsuccess=fe=>{E(fe.target.result)},H.onupgradeneeded=fe=>{0===fe.oldVersion&&fe.target.result.createObjectStore(fi,{keyPath:"compositeKey"})}}catch(H){A(Vn.create("storage-open",{originalErrorMessage:null==H?void 0:H.message}))}})}()){this.appId=A,this.appName=H,this.namespace=fe,this.openDbPromise=Ae}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(A){return this.set("last_fetch_status",A)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(A){return this.set("last_successful_fetch_timestamp_millis",A)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(A){return this.set("last_successful_fetch_response",A)}getActiveConfig(){return this.get("active_config")}setActiveConfig(A){return this.set("active_config",A)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(A){return this.set("active_config_etag",A)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(A){return this.set("throttle_metadata",A)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(A){var H=this;return(0,B.Z)(function*(){const fe=yield H.openDbPromise;return new Promise((Ae,qe)=>{const Ht=fe.transaction([fi],"readonly").objectStore(fi),Vt=H.createCompositeKey(A);try{const fn=Ht.get(Vt);fn.onerror=Hn=>{qe(Vi(Hn,"storage-get"))},fn.onsuccess=Hn=>{const Sn=Hn.target.result;Ae(Sn?Sn.value:void 0)}}catch(fn){qe(Vn.create("storage-get",{originalErrorMessage:null==fn?void 0:fn.message}))}})})()}set(A,H){var fe=this;return(0,B.Z)(function*(){const Ae=yield fe.openDbPromise;return new Promise((qe,_t)=>{const Vt=Ae.transaction([fi],"readwrite").objectStore(fi),fn=fe.createCompositeKey(A);try{const Hn=Vt.put({compositeKey:fn,value:H});Hn.onerror=Sn=>{_t(Vi(Sn,"storage-set"))},Hn.onsuccess=()=>{qe()}}catch(Hn){_t(Vn.create("storage-set",{originalErrorMessage:null==Hn?void 0:Hn.message}))}})})()}delete(A){var H=this;return(0,B.Z)(function*(){const fe=yield H.openDbPromise;return new Promise((Ae,qe)=>{const Ht=fe.transaction([fi],"readwrite").objectStore(fi),Vt=H.createCompositeKey(A);try{const fn=Ht.delete(Vt);fn.onerror=Hn=>{qe(Vi(Hn,"storage-delete"))},fn.onsuccess=()=>{Ae()}}catch(fn){qe(Vn.create("storage-delete",{originalErrorMessage:null==fn?void 0:fn.message}))}})})()}createCompositeKey(A){return[this.appId,this.appName,this.namespace,A].join()}}class ws{constructor(A){this.storage=A}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var A=this;return(0,B.Z)(function*(){const H=A.storage.getLastFetchStatus(),fe=A.storage.getLastSuccessfulFetchTimestampMillis(),Ae=A.storage.getActiveConfig(),qe=yield H;qe&&(A.lastFetchStatus=qe);const _t=yield fe;_t&&(A.lastSuccessfulFetchTimestampMillis=_t);const Ht=yield Ae;Ht&&(A.activeConfig=Ht)})()}setLastFetchStatus(A){return this.lastFetchStatus=A,this.storage.setLastFetchStatus(A)}setLastSuccessfulFetchTimestampMillis(A){return this.lastSuccessfulFetchTimestampMillis=A,this.storage.setLastSuccessfulFetchTimestampMillis(A)}setActiveConfig(A){return this.activeConfig=A,this.storage.setActiveConfig(A)}}function cs(){return go.apply(this,arguments)}function go(){return(go=(0,B.Z)(function*(){if(!(0,Te.hl)())return!1;try{return yield(0,Te.eu)()}catch(E){return!1}})).apply(this,arguments)}!function Ds(){(0,Ce._registerComponent)(new ce.wA("remote-config",function E(A,{instanceIdentifier:H}){const fe=A.getProvider("app").getImmediate(),Ae=A.getProvider("installations-internal").getImmediate();if("undefined"==typeof window)throw Vn.create("registration-window");if(!(0,Te.hl)())throw Vn.create("indexed-db-unavailable");const{projectId:qe,apiKey:_t,appId:Ht}=fe.options;if(!qe)throw Vn.create("registration-project-id");if(!_t)throw Vn.create("registration-api-key");if(!Ht)throw Vn.create("registration-app-id");const Vt=new fo(Ht,fe.name,H=H||"firebase"),fn=new ws(Vt),Hn=new he.Yd(Ln);Hn.logLevel=he.in.ERROR;const Sn=new mn(Ae,Ce.SDK_VERSION,H,qe,_t,Ht),Hi=new hi(Sn,Vt),yr=new Qt(Hi,Vt,fn,Hn),zo=new us(fe,yr,fn,Vt,Hn);return function pe(E){const A=(0,Te.m9)(E);A._initializePromise||(A._initializePromise=A._storageCache.loadFromStorage().then(()=>{A._isInitializationComplete=!0}))}(zo),zo},"PUBLIC").setMultipleInstances(!0)),(0,Ce.registerVersion)(Ln,"0.4.3"),(0,Ce.registerVersion)(Ln,"0.4.3","esm2017")}();const Cs="/firebase-messaging-sw.js",Bi="/firebase-cloud-messaging-push-scope",qi="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",ls="google.c.a.c_id",Pi="google.c.a.c_l",Fs="google.c.a.ts",ds="google.c.a.e";var Yr=(()=>{return(E=Yr||(Yr={})).PUSH_RECEIVED="push-received",E.NOTIFICATION_CLICKED="notification-clicked",Yr;var E})();function ai(E){const A=new Uint8Array(E);return btoa(String.fromCharCode(...A)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function eo(E){const H=(E+"=".repeat((4-E.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),fe=atob(H),Ae=new Uint8Array(fe.length);for(let qe=0;qe<fe.length;++qe)Ae[qe]=fe.charCodeAt(qe);return Ae}const es="fcm_token_details_db",Wr="fcm_token_object_Store";function _i(E){return Or.apply(this,arguments)}function Or(){return Or=(0,B.Z)(function*(E){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(qe=>qe.name).includes(es))return null;let A=null;return(yield(0,be.X3)(es,5,{upgrade:(fe=(0,B.Z)(function*(Ae,qe,_t,Ht){var Vt;if(qe<2||!Ae.objectStoreNames.contains(Wr))return;const fn=Ht.objectStore(Wr),Hn=yield fn.index("fcmSenderId").get(E);if(yield fn.clear(),Hn)if(2===qe){const Sn=Hn;if(!Sn.auth||!Sn.p256dh||!Sn.endpoint)return;A={token:Sn.fcmToken,createTime:null!==(Vt=Sn.createTime)&&void 0!==Vt?Vt:Date.now(),subscriptionOptions:{auth:Sn.auth,p256dh:Sn.p256dh,endpoint:Sn.endpoint,swScope:Sn.swScope,vapidKey:"string"==typeof Sn.vapidKey?Sn.vapidKey:ai(Sn.vapidKey)}}}else if(3===qe){const Sn=Hn;A={token:Sn.fcmToken,createTime:Sn.createTime,subscriptionOptions:{auth:ai(Sn.auth),p256dh:ai(Sn.p256dh),endpoint:Sn.endpoint,swScope:Sn.swScope,vapidKey:ai(Sn.vapidKey)}}}else if(4===qe){const Sn=Hn;A={token:Sn.fcmToken,createTime:Sn.createTime,subscriptionOptions:{auth:ai(Sn.auth),p256dh:ai(Sn.p256dh),endpoint:Sn.endpoint,swScope:Sn.swScope,vapidKey:ai(Sn.vapidKey)}}}}),function(qe,_t,Ht,Vt){return fe.apply(this,arguments)})})).close(),yield(0,be.Lj)(es),yield(0,be.Lj)("fcm_vapid_details_db"),yield(0,be.Lj)("undefined"),Yi(A)?A:null;var fe}),Or.apply(this,arguments)}function Yi(E){if(!E||!E.subscriptionOptions)return!1;const{subscriptionOptions:A}=E;return"number"==typeof E.createTime&&E.createTime>0&&"string"==typeof E.token&&E.token.length>0&&"string"==typeof A.auth&&A.auth.length>0&&"string"==typeof A.p256dh&&A.p256dh.length>0&&"string"==typeof A.endpoint&&A.endpoint.length>0&&"string"==typeof A.swScope&&A.swScope.length>0&&"string"==typeof A.vapidKey&&A.vapidKey.length>0}const qn="firebase-messaging-store";let Ss=null;function Er(){return Ss||(Ss=(0,be.X3)("firebase-messaging-database",1,{upgrade:(E,A)=>{0===A&&E.createObjectStore(qn)}})),Ss}function hs(E){return Ls.apply(this,arguments)}function Ls(){return(Ls=(0,B.Z)(function*(E){const A=$i(E),fe=yield(yield Er()).transaction(qn).objectStore(qn).get(A);if(fe)return fe;{const Ae=yield _i(E.appConfig.senderId);if(Ae)return yield kr(E,Ae),Ae}})).apply(this,arguments)}function kr(E,A){return pi.apply(this,arguments)}function pi(){return(pi=(0,B.Z)(function*(E,A){const H=$i(E),Ae=(yield Er()).transaction(qn,"readwrite");return yield Ae.objectStore(qn).put(A,H),yield Ae.done,A})).apply(this,arguments)}function Ts(E){return As.apply(this,arguments)}function As(){return(As=(0,B.Z)(function*(E){const A=$i(E),fe=(yield Er()).transaction(qn,"readwrite");yield fe.objectStore(qn).delete(A),yield fe.done})).apply(this,arguments)}function $i({appConfig:E}){return E.appId}const Ir=new Te.LL("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function qs(E,A){return ns.apply(this,arguments)}function ns(){return(ns=(0,B.Z)(function*(E,A){const H=yield $o(E),fe=xo(A),Ae={method:"POST",headers:H,body:JSON.stringify(fe)};let qe;try{qe=yield(yield fetch(rs(E.appConfig),Ae)).json()}catch(_t){throw Ir.create("token-subscribe-failed",{errorInfo:null==_t?void 0:_t.toString()})}if(qe.error)throw Ir.create("token-subscribe-failed",{errorInfo:qe.error.message});if(!qe.token)throw Ir.create("token-subscribe-no-token");return qe.token})).apply(this,arguments)}function Mi(E,A){return Ki.apply(this,arguments)}function Ki(){return(Ki=(0,B.Z)(function*(E,A){const H=yield $o(E),fe=xo(A.subscriptionOptions),Ae={method:"PATCH",headers:H,body:JSON.stringify(fe)};let qe;try{qe=yield(yield fetch(`${rs(E.appConfig)}/${A.token}`,Ae)).json()}catch(_t){throw Ir.create("token-update-failed",{errorInfo:null==_t?void 0:_t.toString()})}if(qe.error)throw Ir.create("token-update-failed",{errorInfo:qe.error.message});if(!qe.token)throw Ir.create("token-update-no-token");return qe.token})).apply(this,arguments)}function mo(E,A){return On.apply(this,arguments)}function On(){return(On=(0,B.Z)(function*(E,A){const fe={method:"DELETE",headers:yield $o(E)};try{const qe=yield(yield fetch(`${rs(E.appConfig)}/${A}`,fe)).json();if(qe.error)throw Ir.create("token-unsubscribe-failed",{errorInfo:qe.error.message})}catch(Ae){throw Ir.create("token-unsubscribe-failed",{errorInfo:null==Ae?void 0:Ae.toString()})}})).apply(this,arguments)}function rs({projectId:E}){return`https://fcmregistrations.googleapis.com/v1/projects/${E}/registrations`}function $o(E){return Ys.apply(this,arguments)}function Ys(){return(Ys=(0,B.Z)(function*({appConfig:E,installations:A}){const H=yield A.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":E.apiKey,"x-goog-firebase-installations-auth":`FIS ${H}`})})).apply(this,arguments)}function xo({p256dh:E,auth:A,endpoint:H,vapidKey:fe}){const Ae={web:{endpoint:H,auth:A,p256dh:E}};return fe!==qi&&(Ae.web.applicationPubKey=fe),Ae}const yo=6048e5;function Mo(E){return vo.apply(this,arguments)}function vo(){return(vo=(0,B.Z)(function*(E){const A=yield k(E.swRegistration,E.vapidKey),H={vapidKey:E.vapidKey,swScope:E.swRegistration.scope,endpoint:A.endpoint,auth:ai(A.getKey("auth")),p256dh:ai(A.getKey("p256dh"))},fe=yield hs(E.firebaseDependencies);if(fe){if(f(fe.subscriptionOptions,H))return Date.now()>=fe.createTime+yo?or(E,{token:fe.token,createTime:Date.now(),subscriptionOptions:H}):fe.token;try{yield mo(E.firebaseDependencies,fe.token)}catch(Ae){console.warn(Ae)}return Ni(E.firebaseDependencies,H)}return Ni(E.firebaseDependencies,H)})).apply(this,arguments)}function Uo(E){return xt.apply(this,arguments)}function xt(){return(xt=(0,B.Z)(function*(E){const A=yield hs(E.firebaseDependencies);A&&(yield mo(E.firebaseDependencies,A.token),yield Ts(E.firebaseDependencies));const H=yield E.swRegistration.pushManager.getSubscription();return!H||H.unsubscribe()})).apply(this,arguments)}function or(E,A){return _o.apply(this,arguments)}function _o(){return(_o=(0,B.Z)(function*(E,A){try{const H=yield Mi(E.firebaseDependencies,A),fe=Object.assign(Object.assign({},A),{token:H,createTime:Date.now()});return yield kr(E.firebaseDependencies,fe),H}catch(H){throw yield Uo(E),H}})).apply(this,arguments)}function Ni(E,A){return V.apply(this,arguments)}function V(){return(V=(0,B.Z)(function*(E,A){const fe={token:yield qs(E,A),createTime:Date.now(),subscriptionOptions:A};return yield kr(E,fe),fe.token})).apply(this,arguments)}function k(E,A){return M.apply(this,arguments)}function M(){return(M=(0,B.Z)(function*(E,A){return(yield E.pushManager.getSubscription())||E.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:eo(A)})})).apply(this,arguments)}function f(E,A){return A.vapidKey===E.vapidKey&&A.endpoint===E.endpoint&&A.auth===E.auth&&A.p256dh===E.p256dh}function x(E){const A={from:E.from,collapseKey:E.collapse_key,messageId:E.fcmMessageId};return function y(E,A){if(!A.notification)return;E.notification={};const H=A.notification.title;H&&(E.notification.title=H);const fe=A.notification.body;fe&&(E.notification.body=fe);const Ae=A.notification.image;Ae&&(E.notification.image=Ae);const qe=A.notification.icon;qe&&(E.notification.icon=qe)}(A,E),function N(E,A){!A.data||(E.data=A.data)}(A,E),function te(E,A){var H,fe,Ae,qe,_t;if(!(A.fcmOptions||null!==(H=A.notification)&&void 0!==H&&H.click_action))return;E.fcmOptions={};const Ht=null!==(Ae=null===(fe=A.fcmOptions)||void 0===fe?void 0:fe.link)&&void 0!==Ae?Ae:null===(qe=A.notification)||void 0===qe?void 0:qe.click_action;Ht&&(E.fcmOptions.link=Ht);const Vt=null===(_t=A.fcmOptions)||void 0===_t?void 0:_t.analytics_label;Vt&&(E.fcmOptions.analyticsLabel=Vt)}(A,E),A}function Qe(E){return"object"==typeof E&&!!E&&ls in E}function kt(E,A){const H=[];for(let fe=0;fe<E.length;fe++)H.push(E.charAt(fe)),fe<A.length&&H.push(A.charAt(fe));return H.join("")}function In(E){return Ir.create("missing-app-config-values",{valueName:E})}kt("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),kt("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class ar{constructor(A,H,fe){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const Ae=function $t(E){if(!E||!E.options)throw In("App Configuration Object");if(!E.name)throw In("App Name");const A=["projectId","apiKey","appId","messagingSenderId"],{options:H}=E;for(const fe of A)if(!H[fe])throw In(fe);return{appName:E.name,projectId:H.projectId,apiKey:H.apiKey,appId:H.appId,senderId:H.messagingSenderId}}(A);this.firebaseDependencies={app:A,appConfig:Ae,installations:H,analyticsProvider:fe}}_delete(){return Promise.resolve()}}function gr(E){return dr.apply(this,arguments)}function dr(){return(dr=(0,B.Z)(function*(E){try{E.swRegistration=yield navigator.serviceWorker.register(Cs,{scope:Bi}),E.swRegistration.update().catch(()=>{})}catch(A){throw Ir.create("failed-service-worker-registration",{browserErrorMessage:null==A?void 0:A.message})}})).apply(this,arguments)}function Ri(E,A){return Fi.apply(this,arguments)}function Fi(){return(Fi=(0,B.Z)(function*(E,A){if(!A&&!E.swRegistration&&(yield gr(E)),A||!E.swRegistration){if(!(A instanceof ServiceWorkerRegistration))throw Ir.create("invalid-sw-registration");E.swRegistration=A}})).apply(this,arguments)}function Zi(E,A){return Ui.apply(this,arguments)}function Ui(){return(Ui=(0,B.Z)(function*(E,A){A?E.vapidKey=A:E.vapidKey||(E.vapidKey=qi)})).apply(this,arguments)}function ba(){return(ba=(0,B.Z)(function*(E,A){if(!navigator)throw Ir.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw Ir.create("permission-blocked");return yield Zi(E,null==A?void 0:A.vapidKey),yield Ri(E,null==A?void 0:A.serviceWorkerRegistration),Mo(E)})).apply(this,arguments)}function ea(E,A,H){return Ks.apply(this,arguments)}function Ks(){return(Ks=(0,B.Z)(function*(E,A,H){const fe=jo(A);(yield E.firebaseDependencies.analyticsProvider.get()).logEvent(fe,{message_id:H[ls],message_name:H[Pi],message_time:H[Fs],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function jo(E){switch(E){case Yr.NOTIFICATION_CLICKED:return"notification_open";case Yr.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}function z(){return(z=(0,B.Z)(function*(E,A){const H=A.data;if(!H.isFirebaseMessaging)return;E.onMessageHandler&&H.messageType===Yr.PUSH_RECEIVED&&("function"==typeof E.onMessageHandler?E.onMessageHandler(x(H)):E.onMessageHandler.next(x(H)));const fe=H.data;Qe(fe)&&"1"===fe[ds]&&(yield ea(E,H.messageType,fe))})).apply(this,arguments)}const P="@firebase/messaging",K="0.12.3",Me=E=>{const A=new ar(E.getProvider("app").getImmediate(),E.getProvider("installations-internal").getImmediate(),E.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",H=>function R(E,A){return z.apply(this,arguments)}(A,H)),A},ht=E=>{const A=E.getProvider("messaging").getImmediate();return{getToken:fe=>function fs(E,A){return ba.apply(this,arguments)}(A,fe)}};function rn(){return mr.apply(this,arguments)}function mr(){return(mr=(0,B.Z)(function*(){try{yield(0,Te.eu)()}catch(E){return!1}return"undefined"!=typeof window&&(0,Te.hl)()&&(0,Te.zI)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}!function Ct(){(0,Ce._registerComponent)(new ce.wA("messaging",Me,"PUBLIC")),(0,Ce._registerComponent)(new ce.wA("messaging-internal",ht,"PRIVATE")),(0,Ce.registerVersion)(P,K),(0,Ce.registerVersion)(P,K,"esm2017")}();const Zs="analytics",Vs="firebase_id",ni="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",ta="https://www.googletagmanager.com/gtag/js",bi=new he.Yd("@firebase/analytics");function Xi(E){return Promise.all(E.map(A=>A.catch(H=>H)))}function Ea(E,A){const H=document.createElement("script");H.src=`${ta}?l=${E}&id=${A}`,H.async=!0,document.head.appendChild(H)}function Ia(E,A,H,fe,Ae,qe){return Oo.apply(this,arguments)}function Oo(){return(Oo=(0,B.Z)(function*(E,A,H,fe,Ae,qe){const _t=fe[Ae];try{if(_t)yield A[_t];else{const Vt=(yield Xi(H)).find(fn=>fn.measurementId===Ae);Vt&&(yield A[Vt.appId])}}catch(Ht){bi.error(Ht)}E("config",Ae,qe)})).apply(this,arguments)}function wu(E,A,H,fe,Ae){return na.apply(this,arguments)}function na(){return(na=(0,B.Z)(function*(E,A,H,fe,Ae){try{let qe=[];if(Ae&&Ae.send_to){let _t=Ae.send_to;Array.isArray(_t)||(_t=[_t]);const Ht=yield Xi(H);for(const Vt of _t){const fn=Ht.find(Sn=>Sn.measurementId===Vt),Hn=fn&&A[fn.appId];if(!Hn){qe=[];break}qe.push(Hn)}}0===qe.length&&(qe=Object.values(A)),yield Promise.all(qe),E("event",fe,Ae||{})}catch(qe){bi.error(qe)}})).apply(this,arguments)}function Cu(E){const A=window.document.getElementsByTagName("script");for(const H of Object.values(A))if(H.src&&H.src.includes(ta)&&H.src.includes(E))return H;return null}const Lr=new Te.LL("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.'}),Su=new class no{constructor(A={},H=1e3){this.throttleMetadata=A,this.intervalMillis=H}getThrottleMetadata(A){return this.throttleMetadata[A]}setThrottleMetadata(A,H){this.throttleMetadata[A]=H}deleteThrottleMetadata(A){delete this.throttleMetadata[A]}};function Nt(E){return new Headers({Accept:"application/json","x-goog-api-key":E})}function Zr(E){return xs.apply(this,arguments)}function xs(){return(xs=(0,B.Z)(function*(E){var A;const{appId:H,apiKey:fe}=E,Ae={method:"GET",headers:Nt(fe)},qe=ni.replace("{app-id}",H),_t=yield fetch(qe,Ae);if(200!==_t.status&&304!==_t.status){let Ht="";try{const Vt=yield _t.json();null!==(A=Vt.error)&&void 0!==A&&A.message&&(Ht=Vt.error.message)}catch(Vt){}throw Lr.create("config-fetch-failed",{httpStatus:_t.status,responseMessage:Ht})}return _t.json()})).apply(this,arguments)}function li(E){return tn.apply(this,arguments)}function tn(){return(tn=(0,B.Z)(function*(E,A=Su,H){const{appId:fe,apiKey:Ae,measurementId:qe}=E.options;if(!fe)throw Lr.create("no-app-id");if(!Ae){if(qe)return{measurementId:qe,appId:fe};throw Lr.create("no-api-key")}const _t=A.getThrottleMetadata(fe)||{backoffCount:0,throttleEndTimeMillis:Date.now()},Ht=new Tt;return setTimeout((0,B.Z)(function*(){Ht.abort()}),void 0!==H?H:6e4),dn({appId:fe,apiKey:Ae,measurementId:qe},_t,Ht,A)})).apply(this,arguments)}function dn(E,A,H){return La.apply(this,arguments)}function La(){return(La=(0,B.Z)(function*(E,{throttleEndTimeMillis:A,backoffCount:H},fe,Ae=Su){var qe;const{appId:_t,measurementId:Ht}=E;try{yield Yt(fe,A)}catch(Vt){if(Ht)return bi.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${Ht} provided in the "measurementId" field in the local Firebase config. [${null==Vt?void 0:Vt.message}]`),{appId:_t,measurementId:Ht};throw Vt}try{const Vt=yield Zr(E);return Ae.deleteThrottleMetadata(_t),Vt}catch(Vt){const fn=Vt;if(!vt(fn)){if(Ae.deleteThrottleMetadata(_t),Ht)return bi.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${Ht} provided in the "measurementId" field in the local Firebase config. [${null==fn?void 0:fn.message}]`),{appId:_t,measurementId:Ht};throw Vt}const Hn=503===Number(null===(qe=null==fn?void 0:fn.customData)||void 0===qe?void 0:qe.httpStatus)?(0,Te.$s)(H,Ae.intervalMillis,30):(0,Te.$s)(H,Ae.intervalMillis),Sn={throttleEndTimeMillis:Date.now()+Hn,backoffCount:H+1};return Ae.setThrottleMetadata(_t,Sn),bi.debug(`Calling attemptFetch again in ${Hn} millis`),dn(E,Sn,fe,Ae)}})).apply(this,arguments)}function Yt(E,A){return new Promise((H,fe)=>{const Ae=Math.max(A-Date.now(),0),qe=setTimeout(H,Ae);E.addEventListener(()=>{clearTimeout(qe),fe(Lr.create("fetch-throttle",{throttleEndTimeMillis:A}))})})}function vt(E){if(!(E instanceof Te.ZR&&E.customData))return!1;const A=Number(E.customData.httpStatus);return 429===A||500===A||503===A||504===A}class Tt{constructor(){this.listeners=[]}addEventListener(A){this.listeners.push(A)}abort(){this.listeners.forEach(A=>A())}}let mi,Ca;function Ho(){return(Ho=(0,B.Z)(function*(E,A,H,fe,Ae){if(Ae&&Ae.global)E("event",H,fe);else{const qe=yield A;E("event",H,Object.assign(Object.assign({},fe),{send_to:qe}))}})).apply(this,arguments)}function kn(E){Ca=E}function Ms(E){mi=E}function Tu(){return Gr.apply(this,arguments)}function Gr(){return(Gr=(0,B.Z)(function*(){if(!(0,Te.hl)())return bi.warn(Lr.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield(0,Te.eu)()}catch(E){return bi.warn(Lr.create("indexeddb-unavailable",{errorInfo:null==E?void 0:E.toString()}).message),!1}return!0})).apply(this,arguments)}function Xs(){return(Xs=(0,B.Z)(function*(E,A,H,fe,Ae,qe,_t){var Ht;const Vt=li(E);Vt.then(yr=>{H[yr.measurementId]=yr.appId,E.options.measurementId&&yr.measurementId!==E.options.measurementId&&bi.warn(`The measurement ID in the local Firebase config (${E.options.measurementId}) does not match the measurement ID fetched from the server (${yr.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(yr=>bi.error(yr)),A.push(Vt);const fn=Tu().then(yr=>{if(yr)return fe.getId()}),[Hn,Sn]=yield Promise.all([Vt,fn]);Cu(qe)||Ea(qe,Hn.measurementId),Ca&&(Ae("consent","default",Ca),kn(void 0)),Ae("js",new Date);const Hi=null!==(Ht=null==_t?void 0:_t.config)&&void 0!==Ht?Ht:{};return Hi.origin="firebase",Hi.update=!0,null!=Sn&&(Hi[Vs]=Sn),Ae("config",Hn.measurementId,Hi),mi&&(Ae("set",mi),Ms(void 0)),Hn.measurementId})).apply(this,arguments)}class Tr{constructor(A){this.app=A}_delete(){return delete Bs[this.app.options.appId],Promise.resolve()}}let Bs={},qr=[];const Zt={};let $s,ps,Po="dataLayer",Pr=!1;function Io(E,A,H){!function Go(){const E=[];if((0,Te.ru)()&&E.push("This is a browser extension environment."),(0,Te.zI)()||E.push("Cookies are not available."),E.length>0){const A=E.map((fe,Ae)=>`(${Ae+1}) ${fe}`).join(" "),H=Lr.create("invalid-analytics-context",{errorInfo:A});bi.warn(H.message)}}();const fe=E.options.appId;if(!fe)throw Lr.create("no-app-id");if(!E.options.apiKey){if(!E.options.measurementId)throw Lr.create("no-api-key");bi.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${E.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=Bs[fe])throw Lr.create("already-exists",{id:fe});if(!Pr){!function Na(E){let A=[];Array.isArray(window[E])?A=window[E]:window[E]=A}(Po);const{wrappedGtag:qe,gtagCore:_t}=function Du(E,A,H,fe,Ae){let qe=function(..._t){window[fe].push(arguments)};return window[Ae]&&"function"==typeof window[Ae]&&(qe=window[Ae]),window[Ae]=function nc(E,A,H,fe){function qe(){return(qe=(0,B.Z)(function*(_t,Ht,Vt){try{"event"===_t?yield wu(E,A,H,Ht,Vt):"config"===_t?yield Ia(E,A,H,fe,Ht,Vt):"consent"===_t?E("consent","update",Vt):E("set",Ht)}catch(fn){bi.error(fn)}})).apply(this,arguments)}return function Ae(_t,Ht,Vt){return qe.apply(this,arguments)}}(qe,E,A,H),{gtagCore:qe,wrappedGtag:window[Ae]}}(Bs,qr,Zt,Po,"gtag");ps=qe,$s=_t,Pr=!0}return Bs[fe]=function ln(E,A,H,fe,Ae,qe,_t){return Xs.apply(this,arguments)}(E,qr,Zt,A,$s,Po,H),new Tr(E)}function Ur(){return au.apply(this,arguments)}function au(){return(au=(0,B.Z)(function*(){if((0,Te.ru)()||!(0,Te.zI)()||!(0,Te.hl)())return!1;try{return yield(0,Te.eu)()}catch(E){return!1}})).apply(this,arguments)}const Sa="@firebase/analytics";!function Ei(){(0,Ce._registerComponent)(new ce.wA(Zs,(A,{options:H})=>Io(A.getProvider("app").getImmediate(),A.getProvider("installations-internal").getImmediate(),H),"PUBLIC")),(0,Ce._registerComponent)(new ce.wA("analytics-internal",function E(A){try{const H=A.getProvider(Zs).getImmediate();return{logEvent:(fe,Ae,qe)=>function js(E,A,H,fe){E=(0,Te.m9)(E),function wa(E,A,H,fe,Ae){return Ho.apply(this,arguments)}(ps,Bs[E.app.options.appId],A,H,fe).catch(Ae=>bi.error(Ae))}(H,fe,Ae,qe)}}catch(H){throw Lr.create("interop-component-reg-failed",{reason:H})}},"PRIVATE")),(0,Ce.registerVersion)(Sa,"0.9.3"),(0,Ce.registerVersion)(Sa,"0.9.3","esm2017")}();var wo=$(341),ia=$(353),$a=$(2868),Ta=$(8915),ms=$(2102);const Ii=new a.GfV("7.5.0"),Aa="__angularfire_symbol__analyticsIsSupportedValue",ji="__angularfire_symbol__analyticsIsSupported",Rs="__angularfire_symbol__remoteConfigIsSupportedValue",io="__angularfire_symbol__remoteConfigIsSupported",sa="__angularfire_symbol__messagingIsSupportedValue",xa="__angularfire_symbol__messagingIsSupported";function xu(E,A,H){if(A){if(1===A.length)return A[0];const qe=A.filter(_t=>_t.app===H);if(1===qe.length)return qe[0]}return H.container.getProvider(E).getImmediate({optional:!0})}globalThis[ji]||(globalThis[ji]=Ur().then(E=>globalThis[Aa]=E).catch(()=>globalThis[Aa]=!1)),globalThis[xa]||(globalThis[xa]=rn().then(E=>globalThis[sa]=E).catch(()=>globalThis[sa]=!1)),globalThis[io]||(globalThis[io]=cs().then(E=>globalThis[Rs]=E).catch(()=>globalThis[Rs]=!1));const ys=(E,A)=>{const H=A?[A]:(0,X.C6)(),fe=[];return H.forEach(Ae=>{Ae.container.getProvider(E).instances.forEach(_t=>{fe.includes(_t)||fe.push(_t)})}),fe};function Xr(){}class so{constructor(A,H=wo.N){this.zone=A,this.delegate=H}now(){return this.delegate.now()}schedule(A,H,fe){const Ae=this.zone;return this.delegate.schedule(function(_t){Ae.runGuarded(()=>{A.apply(this,[_t])})},H,fe)}}class Mu{constructor(A){this.zone=A,this.task=null}call(A,H){const fe=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Xr,{},Xr,Xr)),H.pipe((0,$a.b)({next:fe,complete:fe,error:fe})).subscribe(A).add(fe)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let Ua=(()=>{class E{constructor(H){this.ngZone=H,this.outsideAngular=H.runOutsideAngular(()=>new so(Zone.current)),this.insideAngular=H.run(()=>new so(Zone.current,ia.z)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return E.\u0275fac=function(H){return new(H||E)(a.LFG(a.R0b))},E.\u0275prov=a.Yz7({token:E,factory:E.\u0275fac,providedIn:"root"}),E})();function Hs(){const E=globalThis.\u0275AngularFireScheduler;if(!E)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return E}function T(E){return Hs(),function F(E){return function(H){return(H=H.lift(new Mu(E.ngZone))).pipe((0,Ta.R)(E.outsideAngular),(0,ms.QV)(E.insideAngular))}}(Hs())(E)}},7598:(Pt,Ze,$)=>{"use strict";$.d(Ze,{On:()=>Be,gR:()=>me,J2:()=>ye,Iq:()=>le,sM:()=>Ce});var X={error:"cordova_not_available"},B={error:"plugin_not_installed"};function Ce(W){if("undefined"!=typeof window&&window.angular){var Q=window.document,Ie=window.angular.element(Q.querySelector("[ng-app]")||Q.body).injector();if(Ie)return Ie.get("$q")(function(pt,He){W(pt,He)});console.warn("Angular 1 was detected but $q couldn't be retrieved. This is usually when the app is not bootstrapped on the html or body tag. Falling back to native promises which won't trigger an automatic digest when promises resolve.")}return function(){if(Promise)return new Promise(function(pt,He){W(pt,He)});console.error("No Promise support or polyfill found. To enable Ionic Native support, please add the es6-promise polyfill before this script, or run with a library like Angular or on a recent browser.")}()}function me(W,Y,Q){var Ie,ze;"string"==typeof W?Ie=W:(Ie=W.constructor.getPluginRef(),Q=W.constructor.getPluginName(),ze=W.constructor.getPluginInstallName());var pt=Re(Ie);return!(!pt||Y&&void 0===pt[Y])||("undefined"!=typeof window&&window.cordova?(function $e(W,Y,Q){console.warn(Q?"Native: tried calling "+W+"."+Q+", but the "+W+" plugin is not installed.":"Native: tried accessing the "+W+" plugin but it's not installed."),Y&&console.warn("Install the "+W+" plugin: 'ionic cordova plugin add "+Y+"'")}(Q,ze,Y),B):(function _e(W,Y){"undefined"==typeof process&&console.warn(Y?"Native: tried calling "+W+"."+Y+", but Cordova is not available. Make sure to include cordova.js or run in a device/simulator":"Native: tried accessing the "+W+" plugin but Cordova is not available. Make sure to include cordova.js or run in a device/simulator")}(Q,Y),X))}function Re(W){return"undefined"!=typeof window?function ot(W,Y){for(var Q=Y.split("."),Ie=W,ze=0;ze<Q.length;ze++){if(!Ie)return null;Ie=Ie[Q[ze]]}return Ie}(window,W):null}var Be=function(){function W(){}return W.installed=function(){return!0===me(this.pluginRef)},W.getPlugin=function(){return"undefined"!=typeof window?function ee(W,Y){for(var Q=Y.split("."),Ie=W,ze=0;ze<Q.length;ze++){if(!Ie)return null;Ie=Ie[Q[ze]]}return Ie}(window,this.pluginRef):null},W.getPluginName=function(){return this.pluginName},W.getPluginRef=function(){return this.pluginRef},W.getPluginInstallName=function(){return this.plugin},W.getSupportedPlatforms=function(){return this.platforms},W.pluginName="",W.pluginRef="",W.plugin="",W.repo="",W.platforms=[],W.install="",W}();function ye(W,Y){return!0===me(W,Y)?Re(W.constructor.getPluginRef())[Y]:null}function le(W,Y,Q){!0===me(W,Y)&&(Re(W.constructor.getPluginRef())[Y]=Q)}!function a(){if("undefined"==typeof process){var W="undefined"!=typeof window?window:{},Q=Date.now(),Ie=!1;W.document.addEventListener("deviceready",function(){console.log("Ionic Native: deviceready event fired after "+(Date.now()-Q)+" ms"),Ie=!0}),setTimeout(function(){!Ie&&W.cordova&&console.warn("Ionic Native: deviceready did not fire within 5000ms. This can happen when plugins are in an inconsistent state. Try removing plugins from plugins/ and reinstalling them.")},5e3)}}()},4598:(Pt,Ze,$)=>{"use strict";$.d(Ze,{A:()=>Ce});var a=$(655),X=$(7598),B=$(6435),Ce=function(Te){function ce(){return null!==Te&&Te.apply(this,arguments)||this}return(0,a.ZT)(ce,Te),Object.defineProperty(ce.prototype,"cordova",{get:function(){return(0,X.J2)(this,"cordova")},set:function(he){(0,X.Iq)(this,"cordova",he)},enumerable:!1,configurable:!0}),Object.defineProperty(ce.prototype,"model",{get:function(){return(0,X.J2)(this,"model")},set:function(he){(0,X.Iq)(this,"model",he)},enumerable:!1,configurable:!0}),Object.defineProperty(ce.prototype,"platform",{get:function(){return(0,X.J2)(this,"platform")},set:function(he){(0,X.Iq)(this,"platform",he)},enumerable:!1,configurable:!0}),Object.defineProperty(ce.prototype,"uuid",{get:function(){return(0,X.J2)(this,"uuid")},set:function(he){(0,X.Iq)(this,"uuid",he)},enumerable:!1,configurable:!0}),Object.defineProperty(ce.prototype,"version",{get:function(){return(0,X.J2)(this,"version")},set:function(he){(0,X.Iq)(this,"version",he)},enumerable:!1,configurable:!0}),Object.defineProperty(ce.prototype,"manufacturer",{get:function(){return(0,X.J2)(this,"manufacturer")},set:function(he){(0,X.Iq)(this,"manufacturer",he)},enumerable:!1,configurable:!0}),Object.defineProperty(ce.prototype,"isVirtual",{get:function(){return(0,X.J2)(this,"isVirtual")},set:function(he){(0,X.Iq)(this,"isVirtual",he)},enumerable:!1,configurable:!0}),Object.defineProperty(ce.prototype,"serial",{get:function(){return(0,X.J2)(this,"serial")},set:function(he){(0,X.Iq)(this,"serial",he)},enumerable:!1,configurable:!0}),Object.defineProperty(ce.prototype,"sdkVersion",{get:function(){return(0,X.J2)(this,"sdkVersion")},set:function(he){(0,X.Iq)(this,"sdkVersion",he)},enumerable:!1,configurable:!0}),Object.defineProperty(ce.prototype,"isiOSAppOnMac",{get:function(){return(0,X.J2)(this,"isiOSAppOnMac")},set:function(he){(0,X.Iq)(this,"isiOSAppOnMac",he)},enumerable:!1,configurable:!0}),ce.\u0275fac=function(){let he;return function(me){return(he||(he=B.n5z(ce)))(me||ce)}}(),ce.\u0275prov=B.Yz7({token:ce,factory:ce.\u0275fac}),ce.pluginName="Device",ce.plugin="cordova-plugin-device",ce.pluginRef="device",ce.repo="https://github.com/apache/cordova-plugin-device",ce.platforms=["Android","Browser","iOS","macOS","Windows"],ce=(0,a.gn)([],ce)}(X.On)},2090:(Pt,Ze,$)=>{"use strict";$.d(Ze,{$s:()=>Gt,BH:()=>Be,G6:()=>pt,L:()=>be,LL:()=>Ve,Pz:()=>nt,Sg:()=>ct,UG:()=>de,US:()=>ce,ZB:()=>re,ZR:()=>Ue,aH:()=>ee,b$:()=>W,eu:()=>We,hl:()=>He,jU:()=>ye,m9:()=>pn,ne:()=>zr,pd:()=>en,r3:()=>$n,ru:()=>le,tV:()=>me,uI:()=>st,vZ:()=>yn,w1:()=>Q,xO:()=>Ci,xb:()=>er,z$:()=>Pe,zI:()=>Fe,zd:()=>lr});const Ce=function(Oe){const we=[];let ke=0;for(let mt=0;mt<Oe.length;mt++){let rt=Oe.charCodeAt(mt);rt<128?we[ke++]=rt:rt<2048?(we[ke++]=rt>>6|192,we[ke++]=63&rt|128):55296==(64512&rt)&&mt+1<Oe.length&&56320==(64512&Oe.charCodeAt(mt+1))?(rt=65536+((1023&rt)<<10)+(1023&Oe.charCodeAt(++mt)),we[ke++]=rt>>18|240,we[ke++]=rt>>12&63|128,we[ke++]=rt>>6&63|128,we[ke++]=63&rt|128):(we[ke++]=rt>>12|224,we[ke++]=rt>>6&63|128,we[ke++]=63&rt|128)}return we},ce={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(Oe,we){if(!Array.isArray(Oe))throw Error("encodeByteArray takes an array as a parameter");this.init_();const ke=we?this.byteToCharMapWebSafe_:this.byteToCharMap_,mt=[];for(let rt=0;rt<Oe.length;rt+=3){const Mt=Oe[rt],gn=rt+1<Oe.length,Gn=gn?Oe[rt+1]:0,pr=rt+2<Oe.length,hn=pr?Oe[rt+2]:0;let Ee=(15&Gn)<<2|hn>>6,tt=63&hn;pr||(tt=64,gn||(Ee=64)),mt.push(ke[Mt>>2],ke[(3&Mt)<<4|Gn>>4],ke[Ee],ke[tt])}return mt.join("")},encodeString(Oe,we){return this.HAS_NATIVE_SUPPORT&&!we?btoa(Oe):this.encodeByteArray(Ce(Oe),we)},decodeString(Oe,we){return this.HAS_NATIVE_SUPPORT&&!we?atob(Oe):function(Oe){const we=[];let ke=0,mt=0;for(;ke<Oe.length;){const rt=Oe[ke++];if(rt<128)we[mt++]=String.fromCharCode(rt);else if(rt>191&&rt<224){const Mt=Oe[ke++];we[mt++]=String.fromCharCode((31&rt)<<6|63&Mt)}else if(rt>239&&rt<365){const pr=((7&rt)<<18|(63&Oe[ke++])<<12|(63&Oe[ke++])<<6|63&Oe[ke++])-65536;we[mt++]=String.fromCharCode(55296+(pr>>10)),we[mt++]=String.fromCharCode(56320+(1023&pr))}else{const Mt=Oe[ke++],gn=Oe[ke++];we[mt++]=String.fromCharCode((15&rt)<<12|(63&Mt)<<6|63&gn)}}return we.join("")}(this.decodeStringToByteArray(Oe,we))},decodeStringToByteArray(Oe,we){this.init_();const ke=we?this.charToByteMapWebSafe_:this.charToByteMap_,mt=[];for(let rt=0;rt<Oe.length;){const Mt=ke[Oe.charAt(rt++)],Gn=rt<Oe.length?ke[Oe.charAt(rt)]:0;++rt;const hn=rt<Oe.length?ke[Oe.charAt(rt)]:64;++rt;const Se=rt<Oe.length?ke[Oe.charAt(rt)]:64;if(++rt,null==Mt||null==Gn||null==hn||null==Se)throw Error();mt.push(Mt<<2|Gn>>4),64!==hn&&(mt.push(Gn<<4&240|hn>>2),64!==Se&&mt.push(hn<<6&192|Se))}return mt},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let Oe=0;Oe<this.ENCODED_VALS.length;Oe++)this.byteToCharMap_[Oe]=this.ENCODED_VALS.charAt(Oe),this.charToByteMap_[this.byteToCharMap_[Oe]]=Oe,this.byteToCharMapWebSafe_[Oe]=this.ENCODED_VALS_WEBSAFE.charAt(Oe),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[Oe]]=Oe,Oe>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(Oe)]=Oe,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(Oe)]=Oe)}}},be=function(Oe){return function(Oe){const we=Ce(Oe);return ce.encodeByteArray(we,!0)}(Oe).replace(/\./g,"")},me=function(Oe){try{return ce.decodeString(Oe,!0)}catch(we){console.error("base64Decode failed: ",we)}return null};function re(Oe,we){if(!(we instanceof Object))return we;switch(we.constructor){case Date:return new Date(we.getTime());case Object:void 0===Oe&&(Oe={});break;case Array:Oe=[];break;default:return we}for(const ke in we)!we.hasOwnProperty(ke)||!ae(ke)||(Oe[ke]=re(Oe[ke],we[ke]));return Oe}function ae(Oe){return"__proto__"!==Oe}const _e=()=>{try{return function ie(){if("undefined"!=typeof self)return self;if("undefined"!=typeof window)return window;if("undefined"!=typeof global)return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if("undefined"==typeof process||void 0===process.env)return;const Oe=process.env.__FIREBASE_DEFAULTS__;return Oe?JSON.parse(Oe):void 0})()||(()=>{if("undefined"==typeof document)return;let Oe;try{Oe=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch(ke){return}const we=Oe&&me(Oe[1]);return we&&JSON.parse(we)})()}catch(Oe){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${Oe}`)}},ee=()=>{var Oe;return null===(Oe=_e())||void 0===Oe?void 0:Oe.config},nt=Oe=>{var we;return null===(we=_e())||void 0===we?void 0:we[`_${Oe}`]};class Be{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((we,ke)=>{this.resolve=we,this.reject=ke})}wrapCallback(we){return(ke,mt)=>{ke?this.reject(ke):this.resolve(mt),"function"==typeof we&&(this.promise.catch(()=>{}),1===we.length?we(ke):we(ke,mt))}}}function ct(Oe,we){if(Oe.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const mt=we||"demo-project",rt=Oe.iat||0,Mt=Oe.sub||Oe.user_id;if(!Mt)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const gn=Object.assign({iss:`https://securetoken.google.com/${mt}`,aud:mt,iat:rt,exp:rt+3600,auth_time:rt,sub:Mt,user_id:Mt,firebase:{sign_in_provider:"custom",identities:{}}},Oe);return[be(JSON.stringify({alg:"none",type:"JWT"})),be(JSON.stringify(gn)),""].join(".")}function Pe(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function st(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Pe())}function de(){var Oe;const we=null===(Oe=_e())||void 0===Oe?void 0:Oe.forceEnvironment;if("node"===we)return!0;if("browser"===we)return!1;try{return"[object process]"===Object.prototype.toString.call(global.process)}catch(ke){return!1}}function ye(){return"object"==typeof self&&self.self===self}function le(){const Oe="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof Oe&&void 0!==Oe.id}function W(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function Q(){const Oe=Pe();return Oe.indexOf("MSIE ")>=0||Oe.indexOf("Trident/")>=0}function pt(){return!de()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function He(){try{return"object"==typeof indexedDB}catch(Oe){return!1}}function We(){return new Promise((Oe,we)=>{try{let ke=!0;const mt="validate-browser-context-for-indexeddb-analytics-module",rt=self.indexedDB.open(mt);rt.onsuccess=()=>{rt.result.close(),ke||self.indexedDB.deleteDatabase(mt),Oe(!0)},rt.onupgradeneeded=()=>{ke=!1},rt.onerror=()=>{var Mt;we((null===(Mt=rt.error)||void 0===Mt?void 0:Mt.message)||"")}}catch(ke){we(ke)}})}function Fe(){return!("undefined"==typeof navigator||!navigator.cookieEnabled)}class Ue extends Error{constructor(we,ke,mt){super(ke),this.code=we,this.customData=mt,this.name="FirebaseError",Object.setPrototypeOf(this,Ue.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Ve.prototype.create)}}class Ve{constructor(we,ke,mt){this.service=we,this.serviceName=ke,this.errors=mt}create(we,...ke){const mt=ke[0]||{},rt=`${this.service}/${we}`,Mt=this.errors[we],gn=Mt?function ft(Oe,we){return Oe.replace(et,(ke,mt)=>{const rt=we[mt];return null!=rt?String(rt):`<${mt}?>`})}(Mt,mt):"Error";return new Ue(rt,`${this.serviceName}: ${gn} (${rt}).`,mt)}}const et=/\{\$([^}]+)}/g;function $n(Oe,we){return Object.prototype.hasOwnProperty.call(Oe,we)}function er(Oe){for(const we in Oe)if(Object.prototype.hasOwnProperty.call(Oe,we))return!1;return!0}function yn(Oe,we){if(Oe===we)return!0;const ke=Object.keys(Oe),mt=Object.keys(we);for(const rt of ke){if(!mt.includes(rt))return!1;const Mt=Oe[rt],gn=we[rt];if(Rr(Mt)&&Rr(gn)){if(!yn(Mt,gn))return!1}else if(Mt!==gn)return!1}for(const rt of mt)if(!ke.includes(rt))return!1;return!0}function Rr(Oe){return null!==Oe&&"object"==typeof Oe}function Ci(Oe){const we=[];for(const[ke,mt]of Object.entries(Oe))Array.isArray(mt)?mt.forEach(rt=>{we.push(encodeURIComponent(ke)+"="+encodeURIComponent(rt))}):we.push(encodeURIComponent(ke)+"="+encodeURIComponent(mt));return we.length?"&"+we.join("&"):""}function lr(Oe){const we={};return Oe.replace(/^\?/,"").split("&").forEach(mt=>{if(mt){const[rt,Mt]=mt.split("=");we[decodeURIComponent(rt)]=decodeURIComponent(Mt)}}),we}function en(Oe){const we=Oe.indexOf("?");if(!we)return"";const ke=Oe.indexOf("#",we);return Oe.substring(we,ke>0?ke:void 0)}function zr(Oe,we){const ke=new St(Oe,we);return ke.subscribe.bind(ke)}class St{constructor(we,ke){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=ke,this.task.then(()=>{we(this)}).catch(mt=>{this.error(mt)})}next(we){this.forEachObserver(ke=>{ke.next(we)})}error(we){this.forEachObserver(ke=>{ke.error(we)}),this.close(we)}complete(){this.forEachObserver(we=>{we.complete()}),this.close()}subscribe(we,ke,mt){let rt;if(void 0===we&&void 0===ke&&void 0===mt)throw new Error("Missing Observer.");rt=function yt(Oe,we){if("object"!=typeof Oe||null===Oe)return!1;for(const ke of we)if(ke in Oe&&"function"==typeof Oe[ke])return!0;return!1}(we,["next","error","complete"])?we:{next:we,error:ke,complete:mt},void 0===rt.next&&(rt.next=rr),void 0===rt.error&&(rt.error=rr),void 0===rt.complete&&(rt.complete=rr);const Mt=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?rt.error(this.finalError):rt.complete()}catch(gn){}}),this.observers.push(rt),Mt}unsubscribeOne(we){void 0===this.observers||void 0===this.observers[we]||(delete this.observers[we],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(we){if(!this.finalized)for(let ke=0;ke<this.observers.length;ke++)this.sendOne(ke,we)}sendOne(we,ke){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[we])try{ke(this.observers[we])}catch(mt){"undefined"!=typeof console&&console.error&&console.error(mt)}})}close(we){this.finalized||(this.finalized=!0,void 0!==we&&(this.finalError=we),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function rr(){}function Gt(Oe,we=1e3,ke=2){const mt=we*Math.pow(ke,Oe),rt=Math.round(.5*mt*(Math.random()-.5)*2);return Math.min(144e5,mt+rt)}function pn(Oe){return Oe&&Oe._delegate?Oe._delegate:Oe}},4153:(Pt,Ze,$)=>{"use strict";$.d(Ze,{We:()=>rr,eh:()=>Un,dr:()=>tr,wI:()=>we,W2:()=>ke,jY:()=>hn,Gu:()=>Xe,gu:()=>Se,Ie:()=>nn,Q$:()=>Ut,jP:()=>qn,Nd:()=>Le,wd:()=>Ns,sr:()=>Vi,Pc:()=>M,r4:()=>_o});var a=$(6435),B=($(4182),$(655)),Ce=$(6498),Te=$(6688),ce=$(7043),he=$(4850);function me(f,x,y,N){return(0,ce.m)(y)&&(N=y,y=void 0),N?me(f,x,y).pipe((0,he.U)(te=>(0,Te.k)(te)?N(...te):N(te))):new Ce.y(te=>{se(f,x,function Qe(kt){te.next(arguments.length>1?Array.prototype.slice.call(arguments):kt)},te,y)})}function se(f,x,y,N,te){let Qe;if(function ie(f){return f&&"function"==typeof f.addEventListener&&"function"==typeof f.removeEventListener}(f)){const kt=f;f.addEventListener(x,y,te),Qe=()=>kt.removeEventListener(x,y,te)}else if(function ae(f){return f&&"function"==typeof f.on&&"function"==typeof f.off}(f)){const kt=f;f.on(x,y),Qe=()=>kt.off(x,y)}else if(function re(f){return f&&"function"==typeof f.addListener&&"function"==typeof f.removeListener}(f)){const kt=f;f.addListener(x,y),Qe=()=>kt.removeListener(x,y)}else{if(!f||!f.length)throw new TypeError("Invalid event target");for(let kt=0,$t=f.length;kt<$t;kt++)se(f[kt],x,y,N,te)}N.add(Qe)}var Re=$(8929),ot=$(591),$e=$(1115),nt=($(5942),$(129),$(1369),$(1911),$(9658)),Be=$(5730),ct=$(664),st=($(385),$(4414)),le=($(3457),$(4349),$(1308)),pt=$(2198),He=$(7545),We=$(5778),Fe=$(9808);const Ue=nt.i,et=["*"],bn=f=>"function"==typeof __zone_symbol__requestAnimationFrame?__zone_symbol__requestAnimationFrame(f):"function"==typeof requestAnimationFrame?requestAnimationFrame(f):setTimeout(f),Mn=f=>!!f.resolveComponentFactory,Cr=(f,x)=>{const y=f.prototype;x.forEach(N=>{Object.defineProperty(y,N,{get(){return this.el[N]},set(te){this.z.runOutsideAngular(()=>this.el[N]=te)}})})},zr=(f,x)=>{const y=f.prototype;x.forEach(N=>{y[N]=function(){const te=arguments;return this.z.runOutsideAngular(()=>this.el[N].apply(this.el,te))}})},St=(f,x,y)=>{y.forEach(N=>f[N]=me(x,N))};function yt(f){return function(y){const{defineCustomElementFn:N,inputs:te,methods:Qe}=f;return void 0!==N&&N(),te&&Cr(y,te),Qe&&zr(y,Qe),y}}let rr=(()=>{let f=class{constructor(y,N,te){this.z=te,y.detach(),this.el=N.nativeElement}};return f.\u0275fac=function(y){return new(y||f)(a.Y36(a.sBO),a.Y36(a.SBq),a.Y36(a.R0b))},f.\u0275cmp=a.Xpm({type:f,selectors:[["ion-accordion"]],inputs:{disabled:"disabled",mode:"mode",readonly:"readonly",toggleIcon:"toggleIcon",toggleIconSlot:"toggleIconSlot",value:"value"},ngContentSelectors:et,decls:1,vars:0,template:function(y,N){1&y&&(a.F$t(),a.Hsn(0))},encapsulation:2,changeDetection:0}),f=(0,B.gn)([yt({defineCustomElementFn:void 0,inputs:["disabled","mode","readonly","toggleIcon","toggleIconSlot","value"]})],f),f})(),Un=(()=>{let f=class{constructor(y,N,te){this.z=te,y.detach(),this.el=N.nativeElement,St(this,this.el,["ionChange"])}};return f.\u0275fac=function(y){return new(y||f)(a.Y36(a.sBO),a.Y36(a.SBq),a.Y36(a.R0b))},f.\u0275cmp=a.Xpm({type:f,selectors:[["ion-accordion-group"]],inputs:{animated:"animated",disabled:"disabled",expand:"expand",mode:"mode",multiple:"multiple",readonly:"readonly",value:"value"},ngContentSelectors:et,decls:1,vars:0,template:function(y,N){1&y&&(a.F$t(),a.Hsn(0))},encapsulation:2,changeDetection:0}),f=(0,B.gn)([yt({defineCustomElementFn:void 0,inputs:["animated","disabled","expand","mode","multiple","readonly","value"]})],f),f})(),tr=(()=>{let f=class{constructor(y,N,te){this.z=te,y.detach(),this.el=N.nativeElement}};return f.\u0275fac=function(y){return new(y||f)(a.Y36(a.sBO),a.Y36(a.SBq),a.Y36(a.R0b))},f.\u0275cmp=a.Xpm({type:f,selectors:[["ion-app"]],ngContentSelectors:et,decls:1,vars:0,template:function(y,N){1&y&&(a.F$t(),a.Hsn(0))},encapsulation:2,changeDetection:0}),f=(0,B.gn)([yt({defineCustomElementFn:void 0})],f),f})(),we=(()=>{let f=class{constructor(y,N,te){this.z=te,y.detach(),this.el=N.nativeElement}};return f.\u0275fac=function(y){return new(y||f)(a.Y36(a.sBO),a.Y36(a.SBq),a.Y36(a.R0b))},f.\u0275cmp=a.Xpm({type:f,selectors:[["ion-col"]],inputs:{offset:"offset",offsetLg:"offsetLg",offsetMd:"offsetMd",offsetSm:"offsetSm",offsetXl:"offsetXl",offsetXs:"offsetXs",pull:"pull",pullLg:"pullLg",pullMd:"pullMd",pullSm:"pullSm",pullXl:"pullXl",pullXs:"pullXs",push:"push",pushLg:"pushLg",pushMd:"pushMd",pushSm:"pushSm",pushXl:"pushXl",pushXs:"pushXs",size:"size",sizeLg:"sizeLg",sizeMd:"sizeMd",sizeSm:"sizeSm",sizeXl:"sizeXl",sizeXs:"sizeXs"},ngContentSelectors:et,decls:1,vars:0,template:function(y,N){1&y&&(a.F$t(),a.Hsn(0))},encapsulation:2,changeDetection:0}),f=(0,B.gn)([yt({defineCustomElementFn:void 0,inputs:["offset","offsetLg","offsetMd","offsetSm","offsetXl","offsetXs","pull","pullLg","pullMd","pullSm","pullXl","pullXs","push","pushLg","pushMd","pushSm","pushXl","pushXs","size","sizeLg","sizeMd","sizeSm","sizeXl","sizeXs"]})],f),f})(),ke=(()=>{let f=class{constructor(y,N,te){this.z=te,y.detach(),this.el=N.nativeElement,St(this,this.el,["ionScrollStart","ionScroll","ionScrollEnd"])}};return f.\u0275fac=function(y){return new(y||f)(a.Y36(a.sBO),a.Y36(a.SBq),a.Y36(a.R0b))},f.\u0275cmp=a.Xpm({type:f,selectors:[["ion-content"]],inputs:{color:"color",forceOverscroll:"forceOverscroll",fullscreen:"fullscreen",scrollEvents:"scrollEvents",scrollX:"scrollX",scrollY:"scrollY"},ngContentSelectors:et,decls:1,vars:0,template:function(y,N){1&y&&(a.F$t(),a.Hsn(0))},encapsulation:2,changeDetection:0}),f=(0,B.gn)([yt({defineCustomElementFn:void 0,inputs:["color","forceOverscroll","fullscreen","scrollEvents","scrollX","scrollY"],methods:["getScrollElement","scrollToTop","scrollToBottom","scrollByPoint","scrollToPoint"]})],f),f})(),hn=(()=>{let f=class{constructor(y,N,te){this.z=te,y.detach(),this.el=N.nativeElement}};return f.\u0275fac=function(y){return new(y||f)(a.Y36(a.sBO),a.Y36(a.SBq),a.Y36(a.R0b))},f.\u0275cmp=a.Xpm({type:f,selectors:[["ion-grid"]],inputs:{fixed:"fixed"},ngContentSelectors:et,decls:1,vars:0,template:function(y,N){1&y&&(a.F$t(),a.Hsn(0))},encapsulation:2,changeDetection:0}),f=(0,B.gn)([yt({defineCustomElementFn:void 0,inputs:["fixed"]})],f),f})(),Xe=(()=>{let f=class{constructor(y,N,te){this.z=te,y.detach(),this.el=N.nativeElement}};return f.\u0275fac=function(y){return new(y||f)(a.Y36(a.sBO),a.Y36(a.SBq),a.Y36(a.R0b))},f.\u0275cmp=a.Xpm({type:f,selectors:[["ion-header"]],inputs:{collapse:"collapse",mode:"mode",translucent:"translucent"},ngContentSelectors:et,decls:1,vars:0,template:function(y,N){1&y&&(a.F$t(),a.Hsn(0))},encapsulation:2,changeDetection:0}),f=(0,B.gn)([yt({defineCustomElementFn:void 0,inputs:["collapse","mode","translucent"]})],f),f})(),Se=(()=>{let f=class{constructor(y,N,te){this.z=te,y.detach(),this.el=N.nativeElement}};return f.\u0275fac=function(y){return new(y||f)(a.Y36(a.sBO),a.Y36(a.SBq),a.Y36(a.R0b))},f.\u0275cmp=a.Xpm({type:f,selectors:[["ion-icon"]],inputs:{color:"color",flipRtl:"flipRtl",icon:"icon",ios:"ios",lazy:"lazy",md:"md",mode:"mode",name:"name",sanitize:"sanitize",size:"size",src:"src"},ngContentSelectors:et,decls:1,vars:0,template:function(y,N){1&y&&(a.F$t(),a.Hsn(0))},encapsulation:2,changeDetection:0}),f=(0,B.gn)([yt({defineCustomElementFn:void 0,inputs:["color","flipRtl","icon","ios","lazy","md","mode","name","sanitize","size","src"]})],f),f})(),nn=(()=>{let f=class{constructor(y,N,te){this.z=te,y.detach(),this.el=N.nativeElement}};return f.\u0275fac=function(y){return new(y||f)(a.Y36(a.sBO),a.Y36(a.SBq),a.Y36(a.R0b))},f.\u0275cmp=a.Xpm({type:f,selectors:[["ion-item"]],inputs:{button:"button",color:"color",counter:"counter",counterFormatter:"counterFormatter",detail:"detail",detailIcon:"detailIcon",disabled:"disabled",download:"download",fill:"fill",href:"href",lines:"lines",mode:"mode",rel:"rel",routerAnimation:"routerAnimation",routerDirection:"routerDirection",shape:"shape",target:"target",type:"type"},ngContentSelectors:et,decls:1,vars:0,template:function(y,N){1&y&&(a.F$t(),a.Hsn(0))},encapsulation:2,changeDetection:0}),f=(0,B.gn)([yt({defineCustomElementFn:void 0,inputs:["button","color","counter","counterFormatter","detail","detailIcon","disabled","download","fill","href","lines","mode","rel","routerAnimation","routerDirection","shape","target","type"]})],f),f})(),Ut=(()=>{let f=class{constructor(y,N,te){this.z=te,y.detach(),this.el=N.nativeElement}};return f.\u0275fac=function(y){return new(y||f)(a.Y36(a.sBO),a.Y36(a.SBq),a.Y36(a.R0b))},f.\u0275cmp=a.Xpm({type:f,selectors:[["ion-label"]],inputs:{color:"color",mode:"mode",position:"position"},ngContentSelectors:et,decls:1,vars:0,template:function(y,N){1&y&&(a.F$t(),a.Hsn(0))},encapsulation:2,changeDetection:0}),f=(0,B.gn)([yt({defineCustomElementFn:void 0,inputs:["color","mode","position"]})],f),f})(),Le=(()=>{let f=class{constructor(y,N,te){this.z=te,y.detach(),this.el=N.nativeElement}};return f.\u0275fac=function(y){return new(y||f)(a.Y36(a.sBO),a.Y36(a.SBq),a.Y36(a.R0b))},f.\u0275cmp=a.Xpm({type:f,selectors:[["ion-row"]],ngContentSelectors:et,decls:1,vars:0,template:function(y,N){1&y&&(a.F$t(),a.Hsn(0))},encapsulation:2,changeDetection:0}),f=(0,B.gn)([yt({defineCustomElementFn:void 0})],f),f})(),Ns=(()=>{let f=class{constructor(y,N,te){this.z=te,y.detach(),this.el=N.nativeElement}};return f.\u0275fac=function(y){return new(y||f)(a.Y36(a.sBO),a.Y36(a.SBq),a.Y36(a.R0b))},f.\u0275cmp=a.Xpm({type:f,selectors:[["ion-title"]],inputs:{color:"color",size:"size"},ngContentSelectors:et,decls:1,vars:0,template:function(y,N){1&y&&(a.F$t(),a.Hsn(0))},encapsulation:2,changeDetection:0}),f=(0,B.gn)([yt({defineCustomElementFn:void 0,inputs:["color","size"]})],f),f})(),Vi=(()=>{let f=class{constructor(y,N,te){this.z=te,y.detach(),this.el=N.nativeElement}};return f.\u0275fac=function(y){return new(y||f)(a.Y36(a.sBO),a.Y36(a.SBq),a.Y36(a.R0b))},f.\u0275cmp=a.Xpm({type:f,selectors:[["ion-toolbar"]],inputs:{color:"color",mode:"mode"},ngContentSelectors:et,decls:1,vars:0,template:function(y,N){1&y&&(a.F$t(),a.Hsn(0))},encapsulation:2,changeDetection:0}),f=(0,B.gn)([yt({defineCustomElementFn:void 0,inputs:["color","mode"]})],f),f})();class fi{constructor(x={}){this.data=x}get(x){return this.data[x]}}let Wi=(()=>{class f{constructor(y,N){this.zone=y,this.appRef=N}create(y,N,te){return new Is(y,N,te,this.appRef,this.zone)}}return f.\u0275fac=function(y){return new(y||f)(a.LFG(a.R0b),a.LFG(a.z2F))},f.\u0275prov=a.Yz7({token:f,factory:f.\u0275fac}),f})();class Is{constructor(x,y,N,te,Qe){this.resolverOrInjector=x,this.injector=y,this.location=N,this.appRef=te,this.zone=Qe,this.elRefMap=new WeakMap,this.elEventsMap=new WeakMap}attachViewToDom(x,y,N,te){return this.zone.run(()=>new Promise(Qe=>{Qe(To(this.zone,this.resolverOrInjector,this.injector,this.location,this.appRef,this.elRefMap,this.elEventsMap,x,y,N,te))}))}removeViewFromDom(x,y){return this.zone.run(()=>new Promise(N=>{const te=this.elRefMap.get(y);if(te){te.destroy(),this.elRefMap.delete(y);const Qe=this.elEventsMap.get(y);Qe&&(Qe(),this.elEventsMap.delete(y))}N()}))}}const To=(f,x,y,N,te,Qe,kt,$t,In,ar,gr)=>{let dr;const Ri=a.zs3.create({providers:_a(ar),parent:y});if(x&&Mn(x)){const fs=x.resolveComponentFactory(In);dr=N?N.createComponent(fs,N.length,Ri):fs.create(Ri)}else{if(!N)return null;dr=N.createComponent(In,{index:N.indexOf,injector:Ri,environmentInjector:x})}const Fi=dr.instance,Zi=dr.location.nativeElement;if(ar&&Object.assign(Fi,ar),gr)for(const fs of gr)Zi.classList.add(fs);const Ui=ws(f,Fi,Zi);return $t.appendChild(Zi),N||te.attachView(dr.hostView),dr.changeDetectorRef.reattach(),Qe.set(Zi,dr),kt.set(Zi,Ui),Zi},fo=[ct.L,ct.a,ct.b,ct.c,ct.d],ws=(f,x,y)=>f.run(()=>{const N=fo.filter(te=>"function"==typeof x[te]).map(te=>{const Qe=kt=>x[te](kt.detail);return y.addEventListener(te,Qe),()=>y.removeEventListener(te,Qe)});return()=>N.forEach(te=>te())}),Ds=new a.OlP("NavParamsToken"),_a=f=>[{provide:Ds,useValue:f},{provide:fi,useFactory:po,deps:[Ds]}],po=f=>new fi(f),go=(f,x)=>((f=f.filter(y=>y.stackId!==x.stackId)).push(x),f),qi=(f,x)=>{const y=f.createUrlTree(["."],{relativeTo:x});return f.serializeUrl(y)},ls=(f,x)=>{if(!f)return;const y=Pi(x);for(let N=0;N<y.length;N++){if(N>=f.length)return y[N];if(y[N]!==f[N])return}},Pi=f=>f.split("/").map(x=>x.trim()).filter(x=>""!==x),Fs=f=>{f&&(f.ref.destroy(),f.unlistenEvents())};class ds{constructor(x,y,N,te,Qe,kt){this.containerEl=y,this.router=N,this.navCtrl=te,this.zone=Qe,this.location=kt,this.views=[],this.skipTransition=!1,this.nextId=0,this.tabsPrefix=void 0!==x?Pi(x):void 0}createView(x,y){var N;const te=qi(this.router,y),Qe=null===(N=null==x?void 0:x.location)||void 0===N?void 0:N.nativeElement,kt=ws(this.zone,x.instance,Qe);return{id:this.nextId++,stackId:ls(this.tabsPrefix,te),unlistenEvents:kt,element:Qe,ref:x,url:te}}getExistingView(x){const y=qi(this.router,x),N=this.views.find(te=>te.url===y);return N&&N.ref.changeDetectorRef.reattach(),N}setActive(x){var y,N;const te=this.navCtrl.consumeTransition();let{direction:Qe,animation:kt,animationBuilder:$t}=te;const In=this.activeView,ar=((f,x)=>!x||f.stackId!==x.stackId)(x,In);ar&&(Qe="back",kt=void 0);const gr=this.views.slice();let dr;const Ri=this.router;Ri.getCurrentNavigation?dr=Ri.getCurrentNavigation():!(null===(y=Ri.navigations)||void 0===y)&&y.value&&(dr=Ri.navigations.value),null!==(N=null==dr?void 0:dr.extras)&&void 0!==N&&N.replaceUrl&&this.views.length>0&&this.views.splice(-1,1);const Fi=this.views.includes(x),Zi=this.insertView(x,Qe);Fi||x.ref.changeDetectorRef.detectChanges();const Ui=x.animationBuilder;return void 0===$t&&"back"===Qe&&!ar&&void 0!==Ui&&($t=Ui),In&&(In.animationBuilder=$t),this.zone.runOutsideAngular(()=>this.wait(()=>(In&&In.ref.changeDetectorRef.detach(),x.ref.changeDetectorRef.reattach(),this.transition(x,In,kt,this.canGoBack(1),!1,$t).then(()=>Ai(x,Zi,gr,this.location,this.zone)).then(()=>({enteringView:x,direction:Qe,animation:kt,tabSwitch:ar})))))}canGoBack(x,y=this.getActiveStackId()){return this.getStack(y).length>x}pop(x,y=this.getActiveStackId()){return this.zone.run(()=>{var N,te;const Qe=this.getStack(y);if(Qe.length<=x)return Promise.resolve(!1);const kt=Qe[Qe.length-x-1];let $t=kt.url;const In=kt.savedData;if(In){const gr=In.get("primary");null!==(te=null===(N=null==gr?void 0:gr.route)||void 0===N?void 0:N._routerState)&&void 0!==te&&te.snapshot.url&&($t=gr.route._routerState.snapshot.url)}const{animationBuilder:ar}=this.navCtrl.consumeTransition();return this.navCtrl.navigateBack($t,Object.assign(Object.assign({},kt.savedExtras),{animation:ar})).then(()=>!0)})}startBackTransition(){const x=this.activeView;if(x){const y=this.getStack(x.stackId),N=y[y.length-2],te=N.animationBuilder;return this.wait(()=>this.transition(N,x,"back",this.canGoBack(2),!0,te))}return Promise.resolve()}endBackTransition(x){x?(this.skipTransition=!0,this.pop(1)):this.activeView&&Yr(this.activeView,this.views,this.views,this.location,this.zone)}getLastUrl(x){const y=this.getStack(x);return y.length>0?y[y.length-1]:void 0}getRootUrl(x){const y=this.getStack(x);return y.length>0?y[0]:void 0}getActiveStackId(){return this.activeView?this.activeView.stackId:void 0}hasRunningTask(){return void 0!==this.runningTask}destroy(){this.containerEl=void 0,this.views.forEach(Fs),this.activeView=void 0,this.views=[]}getStack(x){return this.views.filter(y=>y.stackId===x)}insertView(x,y){return this.activeView=x,this.views=((f,x,y)=>"root"===y?go(f,x):"forward"===y?((f,x)=>(f.indexOf(x)>=0?f=f.filter(N=>N.stackId!==x.stackId||N.id<=x.id):f.push(x),f))(f,x):((f,x)=>f.indexOf(x)>=0?f.filter(N=>N.stackId!==x.stackId||N.id<=x.id):go(f,x))(f,x))(this.views,x,y),this.views.slice()}transition(x,y,N,te,Qe,kt){if(this.skipTransition)return this.skipTransition=!1,Promise.resolve(!1);if(y===x)return Promise.resolve(!1);const $t=x?x.element:void 0,In=y?y.element:void 0,ar=this.containerEl;return $t&&$t!==In&&($t.classList.add("ion-page"),$t.classList.add("ion-page-invisible"),$t.parentElement!==ar&&ar.appendChild($t),ar.commit)?ar.commit($t,In,{deepWait:!0,duration:void 0===N?0:void 0,direction:N,showGoBack:te,progressAnimation:Qe,animationBuilder:kt}):Promise.resolve(!1)}wait(x){return(0,B.mG)(this,void 0,void 0,function*(){void 0!==this.runningTask&&(yield this.runningTask,this.runningTask=void 0);const y=this.runningTask=x();return y.finally(()=>this.runningTask=void 0),y})}}const Ai=(f,x,y,N,te)=>"function"==typeof requestAnimationFrame?new Promise(Qe=>{requestAnimationFrame(()=>{Yr(f,x,y,N,te),Qe()})}):Promise.resolve(),Yr=(f,x,y,N,te)=>{te.run(()=>y.filter(Qe=>!x.includes(Qe)).forEach(Fs)),x.forEach(Qe=>{const $t=N.path().split("?")[0].split("#")[0];if(Qe!==f&&Qe.url!==$t){const In=Qe.element;In.setAttribute("aria-hidden","true"),In.classList.add("ion-page-hidden"),Qe.ref.changeDetectorRef.detach()}})};let ai=(()=>{class f{get(y,N){const te=es();return te?te.get(y,N):null}getBoolean(y,N){const te=es();return!!te&&te.getBoolean(y,N)}getNumber(y,N){const te=es();return te?te.getNumber(y,N):0}}return f.\u0275fac=function(y){return new(y||f)},f.\u0275prov=a.Yz7({token:f,factory:f.\u0275fac,providedIn:"root"}),f})();const eo=new a.OlP("USERCONFIG"),es=()=>{if("undefined"!=typeof window){const f=window.Ionic;if(null!=f&&f.config)return f.config}return null};let Ao=(()=>{class f{constructor(y,N){this.doc=y,this.backButton=new Re.xQ,this.keyboardDidShow=new Re.xQ,this.keyboardDidHide=new Re.xQ,this.pause=new Re.xQ,this.resume=new Re.xQ,this.resize=new Re.xQ,N.run(()=>{var te;let Qe;this.win=y.defaultView,this.backButton.subscribeWithPriority=function(kt,$t){return this.subscribe(In=>In.register(kt,ar=>N.run(()=>$t(ar))))},_i(this.pause,y,"pause"),_i(this.resume,y,"resume"),_i(this.backButton,y,"ionBackButton"),_i(this.resize,this.win,"resize"),_i(this.keyboardDidShow,this.win,"ionKeyboardDidShow"),_i(this.keyboardDidHide,this.win,"ionKeyboardDidHide"),this._readyPromise=new Promise(kt=>{Qe=kt}),null!==(te=this.win)&&void 0!==te&&te.cordova?y.addEventListener("deviceready",()=>{Qe("cordova")},{once:!0}):Qe("dom")})}is(y){return(0,nt.a)(this.win,y)}platforms(){return(0,nt.g)(this.win)}ready(){return this._readyPromise}get isRTL(){return"rtl"===this.doc.dir}getQueryParam(y){return Wr(this.win.location.href,y)}isLandscape(){return!this.isPortrait()}isPortrait(){var y,N;return null===(N=(y=this.win).matchMedia)||void 0===N?void 0:N.call(y,"(orientation: portrait)").matches}testUserAgent(y){const N=this.win.navigator;return!!((null==N?void 0:N.userAgent)&&N.userAgent.indexOf(y)>=0)}url(){return this.win.location.href}width(){return this.win.innerWidth}height(){return this.win.innerHeight}}return f.\u0275fac=function(y){return new(y||f)(a.LFG(Fe.K0),a.LFG(a.R0b))},f.\u0275prov=a.Yz7({token:f,factory:f.\u0275fac,providedIn:"root"}),f})();const Wr=(f,x)=>{x=x.replace(/[[\]\\]/g,"\\$&");const N=new RegExp("[\\?&]"+x+"=([^&#]*)").exec(f);return N?decodeURIComponent(N[1].replace(/\+/g," ")):null},_i=(f,x,y)=>{x&&x.addEventListener(y,N=>{f.next(null!=N?N.detail:void 0)})};let Or=(()=>{class f{constructor(y,N,te,Qe){this.location=N,this.serializer=te,this.router=Qe,this.direction=ts,this.animated=xi,this.guessDirection="forward",this.lastNavId=-1,Qe&&Qe.events.subscribe(kt=>{if(kt instanceof $e.OD){const $t=kt.restoredState?kt.restoredState.navigationId:kt.id;this.guessDirection=$t<this.lastNavId?"back":"forward",this.guessAnimation=kt.restoredState?void 0:this.guessDirection,this.lastNavId="forward"===this.guessDirection?kt.id:$t}}),y.backButton.subscribeWithPriority(0,kt=>{this.pop(),kt()})}navigateForward(y,N={}){return this.setDirection("forward",N.animated,N.animationDirection,N.animation),this.navigate(y,N)}navigateBack(y,N={}){return this.setDirection("back",N.animated,N.animationDirection,N.animation),this.navigate(y,N)}navigateRoot(y,N={}){return this.setDirection("root",N.animated,N.animationDirection,N.animation),this.navigate(y,N)}back(y={animated:!0,animationDirection:"back"}){return this.setDirection("back",y.animated,y.animationDirection,y.animation),this.location.back()}pop(){return(0,B.mG)(this,void 0,void 0,function*(){let y=this.topOutlet;for(;y&&!(yield y.pop());)y=y.parentOutlet})}setDirection(y,N,te,Qe){this.direction=y,this.animated=Yi(y,N,te),this.animationBuilder=Qe}setTopOutlet(y){this.topOutlet=y}consumeTransition(){let N,y="root";const te=this.animationBuilder;return"auto"===this.direction?(y=this.guessDirection,N=this.guessAnimation):(N=this.animated,y=this.direction),this.direction=ts,this.animated=xi,this.animationBuilder=void 0,{direction:y,animation:N,animationBuilder:te}}navigate(y,N){if(Array.isArray(y))return this.router.navigate(y,N);{const te=this.serializer.parse(y.toString());return void 0!==N.queryParams&&(te.queryParams=Object.assign({},N.queryParams)),void 0!==N.fragment&&(te.fragment=N.fragment),this.router.navigateByUrl(te,N)}}}return f.\u0275fac=function(y){return new(y||f)(a.LFG(Ao),a.LFG(Fe.Ye),a.LFG($e.Hx),a.LFG($e.F0,8))},f.\u0275prov=a.Yz7({token:f,factory:f.\u0275fac,providedIn:"root"}),f})();const Yi=(f,x,y)=>{if(!1!==x){if(void 0!==y)return y;if("forward"===f||"back"===f)return f;if("root"===f&&!0===x)return"forward"}},ts="auto",xi=void 0;let qn=(()=>{class f{constructor(y,N,te,Qe,kt,$t,In,ar,gr,dr,Ri,Fi,Zi){this.parentContexts=y,this.location=N,this.config=kt,this.navCtrl=$t,this.componentFactoryResolver=In,this.parentOutlet=Zi,this.activated=null,this.activatedView=null,this._activatedRoute=null,this.proxyMap=new WeakMap,this.currentActivatedRoute$=new ot.X(null),this.stackEvents=new a.vpe,this.activateEvents=new a.vpe,this.deactivateEvents=new a.vpe,this.nativeEl=gr.nativeElement,this.name=te||$e.eC,this.tabsPrefix="true"===Qe?qi(dr,Fi):void 0,this.stackCtrl=new ds(this.tabsPrefix,this.nativeEl,dr,$t,Ri,ar),y.onChildOutletCreated(this.name,this)}set animation(y){this.nativeEl.animation=y}set animated(y){this.nativeEl.animated=y}set swipeGesture(y){this._swipeGesture=y,this.nativeEl.swipeHandler=y?{canStart:()=>this.stackCtrl.canGoBack(1)&&!this.stackCtrl.hasRunningTask(),onStart:()=>this.stackCtrl.startBackTransition(),onEnd:N=>this.stackCtrl.endBackTransition(N)}:void 0}ngOnDestroy(){this.stackCtrl.destroy()}getContext(){return this.parentContexts.getContext(this.name)}ngOnInit(){if(!this.activated){const y=this.getContext();null!=y&&y.route&&this.activateWith(y.route,y.resolver||null)}new Promise(y=>(0,Be.c)(this.nativeEl,y)).then(()=>{void 0===this._swipeGesture&&(this.swipeGesture=this.config.getBoolean("swipeBackEnabled","ios"===this.nativeEl.mode))})}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){throw new Error("incompatible reuse strategy")}attach(y,N){throw new Error("incompatible reuse strategy")}deactivate(){if(this.activated){if(this.activatedView){const N=this.getContext();this.activatedView.savedData=new Map(N.children.contexts);const te=this.activatedView.savedData.get("primary");if(te&&N.route&&(te.route=Object.assign({},N.route)),this.activatedView.savedExtras={},N.route){const Qe=N.route.snapshot;this.activatedView.savedExtras.queryParams=Qe.queryParams,this.activatedView.savedExtras.fragment=Qe.fragment}}const y=this.component;this.activatedView=null,this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(y)}}activateWith(y,N){var te;if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=y;let Qe,kt=this.stackCtrl.getExistingView(y);if(kt){Qe=this.activated=kt.ref;const $t=kt.savedData;$t&&(this.getContext().children.contexts=$t),this.updateActivatedRouteProxy(Qe.instance,y)}else{const $t=y._futureSnapshot;if(null==$t.routeConfig.component&&null==this.environmentInjector)return void console.warn('[Ionic Warning]: You must supply an environmentInjector to use standalone components with routing:\n\nIn your component class, add:\n\n   import { EnvironmentInjector } from \'@angular/core\';\n   constructor(public environmentInjector: EnvironmentInjector) {}\n\nIn your router outlet template, add:\n\n   <ion-router-outlet [environmentInjector]="environmentInjector"></ion-router-outlet>\n\nAlternatively, if you are routing within ion-tabs:\n\n   <ion-tabs [environmentInjector]="environmentInjector"></ion-tabs>');const In=this.parentContexts.getOrCreateContext(this.name).children,ar=new ot.X(null),gr=this.createActivatedRouteProxy(ar,y),dr=new Ss(gr,In,this.location.injector),Ri=null!==(te=$t.routeConfig.component)&&void 0!==te?te:$t.component;if((N=N||this.componentFactoryResolver)&&Mn(N)){const Fi=N.resolveComponentFactory(Ri);Qe=this.activated=this.location.createComponent(Fi,this.location.length,dr)}else Qe=this.activated=this.location.createComponent(Ri,{index:this.location.length,injector:dr,environmentInjector:null!=N?N:this.environmentInjector});ar.next(Qe.instance),kt=this.stackCtrl.createView(this.activated,y),this.proxyMap.set(Qe.instance,gr),this.currentActivatedRoute$.next({component:Qe.instance,activatedRoute:y})}this.activatedView=kt,this.navCtrl.setTopOutlet(this),this.stackCtrl.setActive(kt).then($t=>{this.activateEvents.emit(Qe.instance),this.stackEvents.emit($t)})}canGoBack(y=1,N){return this.stackCtrl.canGoBack(y,N)}pop(y=1,N){return this.stackCtrl.pop(y,N)}getLastUrl(y){const N=this.stackCtrl.getLastUrl(y);return N?N.url:void 0}getLastRouteView(y){return this.stackCtrl.getLastUrl(y)}getRootView(y){return this.stackCtrl.getRootUrl(y)}getActiveStackId(){return this.stackCtrl.getActiveStackId()}createActivatedRouteProxy(y,N){const te=new $e.gz;return te._futureSnapshot=N._futureSnapshot,te._routerState=N._routerState,te.snapshot=N.snapshot,te.outlet=N.outlet,te.component=N.component,te._paramMap=this.proxyObservable(y,"paramMap"),te._queryParamMap=this.proxyObservable(y,"queryParamMap"),te.url=this.proxyObservable(y,"url"),te.params=this.proxyObservable(y,"params"),te.queryParams=this.proxyObservable(y,"queryParams"),te.fragment=this.proxyObservable(y,"fragment"),te.data=this.proxyObservable(y,"data"),te}proxyObservable(y,N){return y.pipe((0,pt.h)(te=>!!te),(0,He.w)(te=>this.currentActivatedRoute$.pipe((0,pt.h)(Qe=>null!==Qe&&Qe.component===te),(0,He.w)(Qe=>Qe&&Qe.activatedRoute[N]),(0,We.x)())))}updateActivatedRouteProxy(y,N){const te=this.proxyMap.get(y);if(!te)throw new Error("Could not find activated route proxy for view");te._futureSnapshot=N._futureSnapshot,te._routerState=N._routerState,te.snapshot=N.snapshot,te.outlet=N.outlet,te.component=N.component,this.currentActivatedRoute$.next({component:y,activatedRoute:N})}}return f.\u0275fac=function(y){return new(y||f)(a.Y36($e.y6),a.Y36(a.s_b),a.$8M("name"),a.$8M("tabs"),a.Y36(ai),a.Y36(Or),a.Y36(a._Vd,8),a.Y36(Fe.Ye),a.Y36(a.SBq),a.Y36($e.F0),a.Y36(a.R0b),a.Y36($e.gz),a.Y36(f,12))},f.\u0275dir=a.lG2({type:f,selectors:[["ion-router-outlet"]],inputs:{animated:"animated",animation:"animation",mode:"mode",swipeGesture:"swipeGesture",environmentInjector:"environmentInjector"},outputs:{stackEvents:"stackEvents",activateEvents:"activate",deactivateEvents:"deactivate"},exportAs:["outlet"]}),f})();class Ss{constructor(x,y,N){this.route=x,this.childContexts=y,this.parent=N}get(x,y){return x===$e.gz?this.route:x===$e.y6?this.childContexts:this.parent.get(x,y)}}class Mi{constructor(x){this.ctrl=x}create(x){return this.ctrl.create(x||{})}dismiss(x,y,N){return this.ctrl.dismiss(x,y,N)}getTop(){return this.ctrl.getTop()}}class Ys{}let xo=(()=>{class f extends Mi{constructor(y,N,te,Qe){super(st.m),this.angularDelegate=y,this.resolver=N,this.injector=te,this.environmentInjector=Qe}create(y){var N;return super.create(Object.assign(Object.assign({},y),{delegate:this.angularDelegate.create(null!==(N=this.resolver)&&void 0!==N?N:this.environmentInjector,this.injector)}))}}return f.\u0275fac=function(y){return new(y||f)(a.LFG(Wi),a.LFG(a._Vd),a.LFG(a.zs3),a.LFG(Ys,8))},f.\u0275prov=a.Yz7({token:f,factory:f.\u0275fac}),f})(),yo=(()=>{class f extends Mi{constructor(y,N,te,Qe){super(st.c),this.angularDelegate=y,this.resolver=N,this.injector=te,this.environmentInjector=Qe}create(y){var N;return super.create(Object.assign(Object.assign({},y),{delegate:this.angularDelegate.create(null!==(N=this.resolver)&&void 0!==N?N:this.environmentInjector,this.injector)}))}}return f.\u0275fac=function(y){return new(y||f)(a.LFG(Wi),a.LFG(a._Vd),a.LFG(a.zs3),a.LFG(Ys,8))},f.\u0275prov=a.Yz7({token:f,factory:f.\u0275fac}),f})();class _o{shouldDetach(x){return!1}shouldAttach(x){return!1}store(x,y){}retrieve(x){return null}shouldReuseRoute(x,y){if(x.routeConfig!==y.routeConfig)return!1;const N=x.params,te=y.params,Qe=Object.keys(N),kt=Object.keys(te);if(Qe.length!==kt.length)return!1;for(const $t of Qe)if(te[$t]!==N[$t])return!1;return!0}}const Ni=(f,x,y)=>()=>{if(x.defaultView&&"undefined"!=typeof window){(f=>{const x=window,y=x.Ionic;y&&y.config&&"Object"!==y.config.constructor.name||(x.Ionic=x.Ionic||{},x.Ionic.config=Object.assign(Object.assign({},x.Ionic.config),f))})(Object.assign(Object.assign({},f),{_zoneGate:Qe=>y.run(Qe)}));const te="__zone_symbol__addEventListener"in x.body?"__zone_symbol__addEventListener":"addEventListener";return function Ne(){var f=[];if("undefined"!=typeof window){var x=window;(!x.customElements||x.Element&&(!x.Element.prototype.closest||!x.Element.prototype.matches||!x.Element.prototype.remove||!x.Element.prototype.getRootNode))&&f.push($.e(6748).then($.t.bind($,723,23))),("function"!=typeof Object.assign||!Object.entries||!Array.prototype.find||!Array.prototype.includes||!String.prototype.startsWith||!String.prototype.endsWith||x.NodeList&&!x.NodeList.prototype.forEach||!x.fetch||!function(){try{var N=new URL("b","http://a");return N.pathname="c%20d","http://a/c%20d"===N.href&&N.searchParams}catch(te){return!1}}()||"undefined"==typeof WeakMap)&&f.push($.e(2214).then($.t.bind($,4144,23)))}return Promise.all(f)}().then(()=>((f,x)=>"undefined"==typeof window?Promise.resolve():(0,le.p)().then(()=>(Ue(),(0,le.b)(JSON.parse('[["ion-menu_3",[[33,"ion-menu-button",{"color":[513],"disabled":[4],"menu":[1],"autoHide":[4,"auto-hide"],"type":[1],"visible":[32]},[[16,"ionMenuChange","visibilityChanged"],[16,"ionSplitPaneVisible","visibilityChanged"]]],[33,"ion-menu",{"contentId":[513,"content-id"],"menuId":[513,"menu-id"],"type":[1025],"disabled":[1028],"side":[513],"swipeGesture":[4,"swipe-gesture"],"maxEdgeStart":[2,"max-edge-start"],"isPaneVisible":[32],"isEndSide":[32],"isOpen":[64],"isActive":[64],"open":[64],"close":[64],"toggle":[64],"setOpen":[64]},[[16,"ionSplitPaneVisible","onSplitPaneChanged"],[2,"click","onBackdropClick"],[0,"keydown","onKeydown"]]],[1,"ion-menu-toggle",{"menu":[1],"autoHide":[4,"auto-hide"],"visible":[32]},[[16,"ionMenuChange","visibilityChanged"],[16,"ionSplitPaneVisible","visibilityChanged"]]]]],["ion-fab_3",[[33,"ion-fab-button",{"color":[513],"activated":[4],"disabled":[4],"download":[1],"href":[1],"rel":[1],"routerDirection":[1,"router-direction"],"routerAnimation":[16],"target":[1],"show":[4],"translucent":[4],"type":[1],"size":[1],"closeIcon":[1,"close-icon"]}],[1,"ion-fab",{"horizontal":[1],"vertical":[1],"edge":[4],"activated":[1028],"close":[64],"toggle":[64]}],[1,"ion-fab-list",{"activated":[4],"side":[1]}]]],["ion-refresher_2",[[0,"ion-refresher-content",{"pullingIcon":[1025,"pulling-icon"],"pullingText":[1,"pulling-text"],"refreshingSpinner":[1025,"refreshing-spinner"],"refreshingText":[1,"refreshing-text"]}],[32,"ion-refresher",{"pullMin":[2,"pull-min"],"pullMax":[2,"pull-max"],"closeDuration":[1,"close-duration"],"snapbackDuration":[1,"snapback-duration"],"pullFactor":[2,"pull-factor"],"disabled":[4],"nativeRefresher":[32],"state":[32],"complete":[64],"cancel":[64],"getProgress":[64]}]]],["ion-back-button",[[33,"ion-back-button",{"color":[513],"defaultHref":[1025,"default-href"],"disabled":[516],"icon":[1],"text":[1],"type":[1],"routerAnimation":[16]}]]],["ion-toast",[[33,"ion-toast",{"overlayIndex":[2,"overlay-index"],"color":[513],"enterAnimation":[16],"leaveAnimation":[16],"cssClass":[1,"css-class"],"duration":[2],"header":[1],"message":[1],"keyboardClose":[4,"keyboard-close"],"position":[1],"buttons":[16],"translucent":[4],"animated":[4],"icon":[1],"htmlAttributes":[16],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64]}]]],["ion-card_5",[[33,"ion-card",{"color":[513],"button":[4],"type":[1],"disabled":[4],"download":[1],"href":[1],"rel":[1],"routerDirection":[1,"router-direction"],"routerAnimation":[16],"target":[1]}],[32,"ion-card-content"],[33,"ion-card-header",{"color":[513],"translucent":[4]}],[33,"ion-card-subtitle",{"color":[513]}],[33,"ion-card-title",{"color":[513]}]]],["ion-item-option_3",[[33,"ion-item-option",{"color":[513],"disabled":[4],"download":[1],"expandable":[4],"href":[1],"rel":[1],"target":[1],"type":[1]}],[32,"ion-item-options",{"side":[1],"fireSwipeEvent":[64]}],[0,"ion-item-sliding",{"disabled":[4],"state":[32],"getOpenAmount":[64],"getSlidingRatio":[64],"open":[64],"close":[64],"closeOpened":[64]}]]],["ion-accordion_2",[[49,"ion-accordion",{"value":[1],"disabled":[4],"readonly":[4],"toggleIcon":[1,"toggle-icon"],"toggleIconSlot":[1,"toggle-icon-slot"],"state":[32],"isNext":[32],"isPrevious":[32]}],[33,"ion-accordion-group",{"animated":[4],"multiple":[4],"value":[1025],"disabled":[4],"readonly":[4],"expand":[1],"requestAccordionToggle":[64],"getAccordions":[64]},[[0,"keydown","onKeydown"]]]]],["ion-breadcrumb_2",[[33,"ion-breadcrumb",{"collapsed":[4],"last":[4],"showCollapsedIndicator":[4,"show-collapsed-indicator"],"color":[1],"active":[4],"disabled":[4],"download":[1],"href":[1],"rel":[1],"separator":[4],"target":[1],"routerDirection":[1,"router-direction"],"routerAnimation":[16]}],[33,"ion-breadcrumbs",{"color":[1],"maxItems":[2,"max-items"],"itemsBeforeCollapse":[2,"items-before-collapse"],"itemsAfterCollapse":[2,"items-after-collapse"],"collapsed":[32],"activeChanged":[32]},[[0,"collapsedClick","onCollapsedClick"]]]]],["ion-infinite-scroll_2",[[32,"ion-infinite-scroll-content",{"loadingSpinner":[1025,"loading-spinner"],"loadingText":[1,"loading-text"]}],[0,"ion-infinite-scroll",{"threshold":[1],"disabled":[4],"position":[1],"isLoading":[32],"complete":[64]}]]],["ion-reorder_2",[[33,"ion-reorder",null,[[2,"click","onClick"]]],[0,"ion-reorder-group",{"disabled":[4],"state":[32],"complete":[64]}]]],["ion-segment_2",[[33,"ion-segment-button",{"disabled":[4],"layout":[1],"type":[1],"value":[1],"checked":[32]}],[33,"ion-segment",{"color":[513],"disabled":[4],"scrollable":[4],"swipeGesture":[4,"swipe-gesture"],"value":[1025],"selectOnFocus":[4,"select-on-focus"],"activated":[32]},[[0,"keydown","onKeyDown"]]]]],["ion-tab-bar_2",[[33,"ion-tab-button",{"disabled":[4],"download":[1],"href":[1],"rel":[1],"layout":[1025],"selected":[1028],"tab":[1],"target":[1]},[[8,"ionTabBarChanged","onTabBarChanged"]]],[33,"ion-tab-bar",{"color":[513],"selectedTab":[1,"selected-tab"],"translucent":[4],"keyboardVisible":[32]}]]],["ion-chip",[[1,"ion-chip",{"color":[513],"outline":[4],"disabled":[4]}]]],["ion-datetime-button",[[33,"ion-datetime-button",{"color":[513],"disabled":[516],"datetime":[1],"datetimePresentation":[32],"dateText":[32],"timeText":[32],"datetimeActive":[32],"selectedButton":[32]}]]],["ion-searchbar",[[34,"ion-searchbar",{"color":[513],"animated":[4],"autocomplete":[1],"autocorrect":[1],"cancelButtonIcon":[1,"cancel-button-icon"],"cancelButtonText":[1,"cancel-button-text"],"clearIcon":[1,"clear-icon"],"debounce":[2],"disabled":[4],"inputmode":[1],"enterkeyhint":[1],"placeholder":[1],"searchIcon":[1,"search-icon"],"showCancelButton":[1,"show-cancel-button"],"showClearButton":[1,"show-clear-button"],"spellcheck":[4],"type":[1],"value":[1025],"focused":[32],"noAnimate":[32],"setFocus":[64],"getInputElement":[64]}]]],["ion-toggle",[[33,"ion-toggle",{"color":[513],"name":[1],"checked":[1028],"disabled":[4],"value":[1],"enableOnOffLabels":[4,"enable-on-off-labels"],"activated":[32]}]]],["ion-nav_2",[[1,"ion-nav",{"delegate":[16],"swipeGesture":[1028,"swipe-gesture"],"animated":[4],"animation":[16],"rootParams":[16],"root":[1],"push":[64],"insert":[64],"insertPages":[64],"pop":[64],"popTo":[64],"popToRoot":[64],"removeIndex":[64],"setRoot":[64],"setPages":[64],"setRouteId":[64],"getRouteId":[64],"getActive":[64],"getByIndex":[64],"canGoBack":[64],"getPrevious":[64]}],[0,"ion-nav-link",{"component":[1],"componentProps":[16],"routerDirection":[1,"router-direction"],"routerAnimation":[16]}]]],["ion-input",[[34,"ion-input",{"fireFocusEvents":[4,"fire-focus-events"],"color":[513],"accept":[1],"autocapitalize":[1],"autocomplete":[1],"autocorrect":[1],"autofocus":[4],"clearInput":[4,"clear-input"],"clearOnEdit":[4,"clear-on-edit"],"debounce":[2],"disabled":[4],"enterkeyhint":[1],"inputmode":[1],"max":[8],"maxlength":[2],"min":[8],"minlength":[2],"multiple":[4],"name":[1],"pattern":[1],"placeholder":[1],"readonly":[4],"required":[4],"spellcheck":[4],"step":[1],"size":[2],"type":[1],"value":[1032],"hasFocus":[32],"setFocus":[64],"setBlur":[64],"getInputElement":[64]}]]],["ion-textarea",[[34,"ion-textarea",{"fireFocusEvents":[4,"fire-focus-events"],"color":[513],"autocapitalize":[1],"autofocus":[4],"clearOnEdit":[1028,"clear-on-edit"],"debounce":[2],"disabled":[4],"inputmode":[1],"enterkeyhint":[1],"maxlength":[2],"minlength":[2],"name":[1],"placeholder":[1],"readonly":[4],"required":[4],"spellcheck":[4],"cols":[2],"rows":[2],"wrap":[1],"autoGrow":[516,"auto-grow"],"value":[1025],"hasFocus":[32],"setFocus":[64],"setBlur":[64],"getInputElement":[64]}]]],["ion-backdrop",[[33,"ion-backdrop",{"visible":[4],"tappable":[4],"stopPropagation":[4,"stop-propagation"]},[[2,"click","onMouseDown"]]]]],["ion-loading",[[34,"ion-loading",{"overlayIndex":[2,"overlay-index"],"keyboardClose":[4,"keyboard-close"],"enterAnimation":[16],"leaveAnimation":[16],"message":[1],"cssClass":[1,"css-class"],"duration":[2],"backdropDismiss":[4,"backdrop-dismiss"],"showBackdrop":[4,"show-backdrop"],"spinner":[1025],"translucent":[4],"animated":[4],"htmlAttributes":[16],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64]}]]],["ion-modal",[[33,"ion-modal",{"hasController":[4,"has-controller"],"overlayIndex":[2,"overlay-index"],"delegate":[16],"keyboardClose":[4,"keyboard-close"],"enterAnimation":[16],"leaveAnimation":[16],"breakpoints":[16],"initialBreakpoint":[2,"initial-breakpoint"],"backdropBreakpoint":[2,"backdrop-breakpoint"],"handle":[4],"handleBehavior":[1,"handle-behavior"],"component":[1],"componentProps":[16],"cssClass":[1,"css-class"],"backdropDismiss":[4,"backdrop-dismiss"],"showBackdrop":[4,"show-backdrop"],"animated":[4],"swipeToClose":[4,"swipe-to-close"],"presentingElement":[16],"htmlAttributes":[16],"isOpen":[4,"is-open"],"trigger":[1],"keepContentsMounted":[4,"keep-contents-mounted"],"canDismiss":[4,"can-dismiss"],"presented":[32],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64],"setCurrentBreakpoint":[64],"getCurrentBreakpoint":[64]}]]],["ion-route_4",[[0,"ion-route",{"url":[1],"component":[1],"componentProps":[16],"beforeLeave":[16],"beforeEnter":[16]}],[0,"ion-route-redirect",{"from":[1],"to":[1]}],[0,"ion-router",{"root":[1],"useHash":[4,"use-hash"],"canTransition":[64],"push":[64],"back":[64],"printDebug":[64],"navChanged":[64]},[[8,"popstate","onPopState"],[4,"ionBackButton","onBackButton"]]],[1,"ion-router-link",{"color":[513],"href":[1],"rel":[1],"routerDirection":[1,"router-direction"],"routerAnimation":[16],"target":[1]}]]],["ion-avatar_3",[[33,"ion-avatar"],[33,"ion-badge",{"color":[513]}],[1,"ion-thumbnail"]]],["ion-col_3",[[1,"ion-col",{"offset":[1],"offsetXs":[1,"offset-xs"],"offsetSm":[1,"offset-sm"],"offsetMd":[1,"offset-md"],"offsetLg":[1,"offset-lg"],"offsetXl":[1,"offset-xl"],"pull":[1],"pullXs":[1,"pull-xs"],"pullSm":[1,"pull-sm"],"pullMd":[1,"pull-md"],"pullLg":[1,"pull-lg"],"pullXl":[1,"pull-xl"],"push":[1],"pushXs":[1,"push-xs"],"pushSm":[1,"push-sm"],"pushMd":[1,"push-md"],"pushLg":[1,"push-lg"],"pushXl":[1,"push-xl"],"size":[1],"sizeXs":[1,"size-xs"],"sizeSm":[1,"size-sm"],"sizeMd":[1,"size-md"],"sizeLg":[1,"size-lg"],"sizeXl":[1,"size-xl"]},[[9,"resize","onResize"]]],[1,"ion-grid",{"fixed":[4]}],[1,"ion-row"]]],["ion-slide_2",[[0,"ion-slide"],[36,"ion-slides",{"options":[8],"pager":[4],"scrollbar":[4],"update":[64],"updateAutoHeight":[64],"slideTo":[64],"slideNext":[64],"slidePrev":[64],"getActiveIndex":[64],"getPreviousIndex":[64],"length":[64],"isEnd":[64],"isBeginning":[64],"startAutoplay":[64],"stopAutoplay":[64],"lockSwipeToNext":[64],"lockSwipeToPrev":[64],"lockSwipes":[64],"getSwiper":[64]}]]],["ion-tab_2",[[1,"ion-tab",{"active":[1028],"delegate":[16],"tab":[1],"component":[1],"setActive":[64]}],[1,"ion-tabs",{"useRouter":[1028,"use-router"],"selectedTab":[32],"select":[64],"getTab":[64],"getSelected":[64],"setRouteId":[64],"getRouteId":[64]}]]],["ion-img",[[1,"ion-img",{"alt":[1],"src":[1],"loadSrc":[32],"loadError":[32]}]]],["ion-progress-bar",[[33,"ion-progress-bar",{"type":[1],"reversed":[4],"value":[2],"buffer":[2],"color":[513]}]]],["ion-range",[[33,"ion-range",{"color":[513],"debounce":[2],"name":[1],"dualKnobs":[4,"dual-knobs"],"min":[2],"max":[2],"pin":[4],"pinFormatter":[16],"snaps":[4],"step":[2],"ticks":[4],"activeBarStart":[1026,"active-bar-start"],"disabled":[4],"value":[1026],"ratioA":[32],"ratioB":[32],"pressedKnob":[32]}]]],["ion-split-pane",[[33,"ion-split-pane",{"contentId":[513,"content-id"],"disabled":[4],"when":[8],"visible":[32]}]]],["ion-text",[[1,"ion-text",{"color":[513]}]]],["ion-virtual-scroll",[[0,"ion-virtual-scroll",{"approxItemHeight":[2,"approx-item-height"],"approxHeaderHeight":[2,"approx-header-height"],"approxFooterHeight":[2,"approx-footer-height"],"headerFn":[16],"footerFn":[16],"items":[16],"itemHeight":[16],"headerHeight":[16],"footerHeight":[16],"renderItem":[16],"renderHeader":[16],"renderFooter":[16],"nodeRender":[16],"domRender":[16],"totalHeight":[32],"positionForItem":[64],"checkRange":[64],"checkEnd":[64]},[[9,"resize","onResize"]]]]],["ion-picker-column-internal",[[33,"ion-picker-column-internal",{"items":[16],"value":[1032],"color":[513],"numericInput":[4,"numeric-input"],"isActive":[32],"scrollActiveItemIntoView":[64],"setValue":[64]}]]],["ion-picker-internal",[[33,"ion-picker-internal",null,[[1,"touchstart","preventTouchStartPropagation"]]]]],["ion-radio_2",[[33,"ion-radio",{"color":[513],"name":[1],"disabled":[4],"value":[8],"checked":[32],"buttonTabindex":[32],"setFocus":[64],"setButtonTabindex":[64]}],[0,"ion-radio-group",{"allowEmptySelection":[4,"allow-empty-selection"],"name":[1],"value":[1032]},[[4,"keydown","onKeydown"]]]]],["ion-ripple-effect",[[1,"ion-ripple-effect",{"type":[1],"addRipple":[64]}]]],["ion-button_2",[[33,"ion-button",{"color":[513],"buttonType":[1025,"button-type"],"disabled":[516],"expand":[513],"fill":[1537],"routerDirection":[1,"router-direction"],"routerAnimation":[16],"download":[1],"href":[1],"rel":[1],"shape":[513],"size":[513],"strong":[4],"target":[1],"type":[1],"form":[1]}],[1,"ion-icon",{"mode":[1025],"color":[1],"ios":[1],"md":[1],"flipRtl":[4,"flip-rtl"],"name":[513],"src":[1],"icon":[8],"size":[1],"lazy":[4],"sanitize":[4],"svgContent":[32],"isVisible":[32],"ariaLabel":[32]}]]],["ion-datetime_3",[[33,"ion-datetime",{"color":[1],"name":[1],"disabled":[4],"readonly":[4],"isDateEnabled":[16],"min":[1025],"max":[1025],"presentation":[1],"cancelText":[1,"cancel-text"],"doneText":[1,"done-text"],"clearText":[1,"clear-text"],"yearValues":[8,"year-values"],"monthValues":[8,"month-values"],"dayValues":[8,"day-values"],"hourValues":[8,"hour-values"],"minuteValues":[8,"minute-values"],"locale":[1],"firstDayOfWeek":[2,"first-day-of-week"],"titleSelectedDatesFormatter":[16],"multiple":[4],"value":[1025],"showDefaultTitle":[4,"show-default-title"],"showDefaultButtons":[4,"show-default-buttons"],"showClearButton":[4,"show-clear-button"],"showDefaultTimeLabel":[4,"show-default-time-label"],"hourCycle":[1,"hour-cycle"],"size":[1],"preferWheel":[4,"prefer-wheel"],"showMonthAndYear":[32],"activeParts":[32],"workingParts":[32],"isPresented":[32],"isTimePopoverOpen":[32],"confirm":[64],"reset":[64],"cancel":[64]}],[34,"ion-picker",{"overlayIndex":[2,"overlay-index"],"keyboardClose":[4,"keyboard-close"],"enterAnimation":[16],"leaveAnimation":[16],"buttons":[16],"columns":[16],"cssClass":[1,"css-class"],"duration":[2],"showBackdrop":[4,"show-backdrop"],"backdropDismiss":[4,"backdrop-dismiss"],"animated":[4],"htmlAttributes":[16],"presented":[32],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64],"getColumn":[64]}],[32,"ion-picker-column",{"col":[16]}]]],["ion-action-sheet",[[34,"ion-action-sheet",{"overlayIndex":[2,"overlay-index"],"keyboardClose":[4,"keyboard-close"],"enterAnimation":[16],"leaveAnimation":[16],"buttons":[16],"cssClass":[1,"css-class"],"backdropDismiss":[4,"backdrop-dismiss"],"header":[1],"subHeader":[1,"sub-header"],"translucent":[4],"animated":[4],"htmlAttributes":[16],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64]}]]],["ion-alert",[[34,"ion-alert",{"overlayIndex":[2,"overlay-index"],"keyboardClose":[4,"keyboard-close"],"enterAnimation":[16],"leaveAnimation":[16],"cssClass":[1,"css-class"],"header":[1],"subHeader":[1,"sub-header"],"message":[1],"buttons":[16],"inputs":[1040],"backdropDismiss":[4,"backdrop-dismiss"],"translucent":[4],"animated":[4],"htmlAttributes":[16],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64]},[[4,"keydown","onKeydown"]]]]],["ion-popover",[[33,"ion-popover",{"hasController":[4,"has-controller"],"delegate":[16],"overlayIndex":[2,"overlay-index"],"enterAnimation":[16],"leaveAnimation":[16],"component":[1],"componentProps":[16],"keyboardClose":[4,"keyboard-close"],"cssClass":[1,"css-class"],"backdropDismiss":[4,"backdrop-dismiss"],"event":[8],"showBackdrop":[4,"show-backdrop"],"translucent":[4],"animated":[4],"htmlAttributes":[16],"triggerAction":[1,"trigger-action"],"trigger":[1],"size":[1],"dismissOnSelect":[4,"dismiss-on-select"],"reference":[1],"side":[1],"alignment":[1025],"arrow":[4],"isOpen":[4,"is-open"],"keyboardEvents":[4,"keyboard-events"],"keepContentsMounted":[4,"keep-contents-mounted"],"presented":[32],"presentFromTrigger":[64],"present":[64],"dismiss":[64],"getParentPopover":[64],"onDidDismiss":[64],"onWillDismiss":[64]}]]],["ion-checkbox",[[33,"ion-checkbox",{"color":[513],"name":[1],"checked":[1028],"indeterminate":[1028],"disabled":[4],"value":[8]}]]],["ion-select_3",[[33,"ion-select",{"disabled":[4],"cancelText":[1,"cancel-text"],"okText":[1,"ok-text"],"placeholder":[1],"name":[1],"selectedText":[1,"selected-text"],"multiple":[4],"interface":[1],"interfaceOptions":[8,"interface-options"],"compareWith":[1,"compare-with"],"value":[1032],"isExpanded":[32],"open":[64]}],[1,"ion-select-option",{"disabled":[4],"value":[8]}],[34,"ion-select-popover",{"header":[1],"subHeader":[1,"sub-header"],"message":[1],"multiple":[4],"options":[16]},[[0,"ionChange","onSelect"]]]]],["ion-app_8",[[0,"ion-app",{"setFocus":[64]}],[1,"ion-content",{"color":[513],"fullscreen":[4],"forceOverscroll":[1028,"force-overscroll"],"scrollX":[4,"scroll-x"],"scrollY":[4,"scroll-y"],"scrollEvents":[4,"scroll-events"],"getScrollElement":[64],"getBackgroundElement":[64],"scrollToTop":[64],"scrollToBottom":[64],"scrollByPoint":[64],"scrollToPoint":[64]},[[8,"appload","onAppLoad"]]],[36,"ion-footer",{"collapse":[1],"translucent":[4],"keyboardVisible":[32]}],[36,"ion-header",{"collapse":[1],"translucent":[4]}],[1,"ion-router-outlet",{"mode":[1025],"delegate":[16],"animated":[4],"animation":[16],"swipeHandler":[16],"commit":[64],"setRouteId":[64],"getRouteId":[64]}],[33,"ion-title",{"color":[513],"size":[1]}],[33,"ion-toolbar",{"color":[513]},[[0,"ionStyle","childrenStyle"]]],[34,"ion-buttons",{"collapse":[4]}]]],["ion-spinner",[[1,"ion-spinner",{"color":[513],"duration":[2],"name":[1],"paused":[4]}]]],["ion-item_8",[[33,"ion-item-divider",{"color":[513],"sticky":[4]}],[32,"ion-item-group"],[1,"ion-skeleton-text",{"animated":[4]}],[32,"ion-list",{"lines":[1],"inset":[4],"closeSlidingItems":[64]}],[33,"ion-list-header",{"color":[513],"lines":[1]}],[49,"ion-item",{"color":[513],"button":[4],"detail":[4],"detailIcon":[1,"detail-icon"],"disabled":[4],"download":[1],"fill":[1],"shape":[1],"href":[1],"rel":[1],"lines":[1],"counter":[4],"routerAnimation":[16],"routerDirection":[1,"router-direction"],"target":[1],"type":[1],"counterFormatter":[16],"multipleInputs":[32],"focusable":[32],"counterString":[32]},[[0,"ionChange","handleIonChange"],[0,"ionColor","labelColorChanged"],[0,"ionStyle","itemStyle"]]],[34,"ion-label",{"color":[513],"position":[1],"noAnimate":[32]}],[33,"ion-note",{"color":[513]}]]]]'),x))))(0,{exclude:["ion-tabs","ion-tab"],syncQueue:!0,raf:bn,jmp:Qe=>y.runOutsideAngular(Qe),ael(Qe,kt,$t,In){Qe[te](kt,$t,In)},rel(Qe,kt,$t,In){Qe.removeEventListener(kt,$t,In)}}))}};let M=(()=>{class f{static forRoot(y){return{ngModule:f,providers:[{provide:eo,useValue:y},{provide:a.ip1,useFactory:Ni,multi:!0,deps:[eo,Fe.K0,a.R0b]}]}}}return f.\u0275fac=function(y){return new(y||f)},f.\u0275mod=a.oAB({type:f}),f.\u0275inj=a.cJS({providers:[Wi,xo,yo],imports:[[Fe.ez]]}),f})()},5942:(Pt,Ze,$)=>{"use strict";$.d(Ze,{c:()=>$e});var a=$(5730),X=$(3457);let B;const Te=_e=>_e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),ce=_e=>{if(void 0===B){const Je=void 0!==_e.style.webkitAnimationName;B=void 0===_e.style.animationName&&Je?"-webkit-":""}return B},he=(_e,De,Je)=>{const ee=De.startsWith("animation")?ce(_e):"";_e.style.setProperty(ee+De,Je)},be=(_e,De)=>{const Je=De.startsWith("animation")?ce(_e):"";_e.style.removeProperty(Je+De)},re=[],ot=(_e=[],De)=>{if(void 0!==De){const Je=Array.isArray(De)?De:[De];return[..._e,...Je]}return _e},$e=_e=>{let De,Je,ee,nt,Be,ct,le,We,Fe,Ne,Ue,Lt,Rt,Pe=[],st=[],de=[],ye=!1,W={},Y=[],Q=[],Ie={},ze=0,pt=!1,He=!1,Ve=!0,ft=!1,et=!0,xn=!1;const zt=_e,Kn=[],bn=[],Mn=[],$n=[],Jn=[],er=[],Dr=[],yn=[],Rr=[],cr=[],Ci="function"==typeof AnimationEffect||void 0!==X.w&&"function"==typeof X.w.AnimationEffect,lr="function"==typeof Element&&"function"==typeof Element.prototype.animate&&Ci,Cr=()=>cr,rr=(ue,je)=>((null!=je&&je.oneTimeCallback?bn:Kn).push({c:ue,o:je}),Rt),tr=()=>{if(lr)cr.forEach(ue=>{ue.cancel()}),cr.length=0;else{const ue=Mn.slice();(0,a.r)(()=>{ue.forEach(je=>{be(je,"animation-name"),be(je,"animation-duration"),be(je,"animation-timing-function"),be(je,"animation-iteration-count"),be(je,"animation-delay"),be(je,"animation-play-state"),be(je,"animation-fill-mode"),be(je,"animation-direction")})})}},nr=()=>{Jn.forEach(ue=>{null!=ue&&ue.parentNode&&ue.parentNode.removeChild(ue)}),Jn.length=0},pn=()=>void 0!==Be?Be:le?le.getFill():"both",Oe=()=>void 0!==Fe?Fe:void 0!==ct?ct:le?le.getDirection():"normal",we=()=>pt?"linear":void 0!==ee?ee:le?le.getEasing():"linear",ke=()=>He?0:void 0!==Ne?Ne:void 0!==Je?Je:le?le.getDuration():0,mt=()=>void 0!==nt?nt:le?le.getIterations():1,rt=()=>void 0!==Ue?Ue:void 0!==De?De:le?le.getDelay():0,zn=()=>{0!==ze&&(ze--,0===ze&&((()=>{di(),yn.forEach(bt=>bt()),Rr.forEach(bt=>bt());const ue=Ve?1:0,je=Y,it=Q,dt=Ie;Mn.forEach(bt=>{const Bt=bt.classList;je.forEach(Qt=>Bt.add(Qt)),it.forEach(Qt=>Bt.remove(Qt));for(const Qt in dt)dt.hasOwnProperty(Qt)&&he(bt,Qt,dt[Qt])}),Kn.forEach(bt=>bt.c(ue,Rt)),bn.forEach(bt=>bt.c(ue,Rt)),bn.length=0,et=!0,Ve&&(ft=!0),Ve=!0})(),le&&le.animationFinish()))},si=(ue=!0)=>{nr();const je=(_e=>(_e.forEach(De=>{for(const Je in De)if(De.hasOwnProperty(Je)){const ee=De[Je];if("easing"===Je)De["animation-timing-function"]=ee,delete De[Je];else{const nt=Te(Je);nt!==Je&&(De[nt]=ee,delete De[Je])}}}),_e))(Pe);Mn.forEach(it=>{if(je.length>0){const dt=((_e=[])=>_e.map(De=>{const Je=De.offset,ee=[];for(const nt in De)De.hasOwnProperty(nt)&&"offset"!==nt&&ee.push(`${nt}: ${De[nt]};`);return`${100*Je}% { ${ee.join(" ")} }`}).join(" "))(je);Lt=void 0!==_e?_e:(_e=>{let De=re.indexOf(_e);return De<0&&(De=re.push(_e)-1),`ion-animation-${De}`})(dt);const bt=((_e,De,Je)=>{var ee;const nt=(_e=>{const De=void 0!==_e.getRootNode?_e.getRootNode():_e;return De.head||De})(Je),Be=ce(Je),ct=nt.querySelector("#"+_e);if(ct)return ct;const Pe=(null!==(ee=Je.ownerDocument)&&void 0!==ee?ee:document).createElement("style");return Pe.id=_e,Pe.textContent=`@${Be}keyframes ${_e} { ${De} } @${Be}keyframes ${_e}-alt { ${De} }`,nt.appendChild(Pe),Pe})(Lt,dt,it);Jn.push(bt),he(it,"animation-duration",`${ke()}ms`),he(it,"animation-timing-function",we()),he(it,"animation-delay",`${rt()}ms`),he(it,"animation-fill-mode",pn()),he(it,"animation-direction",Oe());const Bt=mt()===1/0?"infinite":mt().toString();he(it,"animation-iteration-count",Bt),he(it,"animation-play-state","paused"),ue&&he(it,"animation-name",`${bt.id}-alt`),(0,a.r)(()=>{he(it,"animation-name",bt.id||null)})}})},Ut=(ue=!0)=>{(()=>{er.forEach(dt=>dt()),Dr.forEach(dt=>dt());const ue=st,je=de,it=W;Mn.forEach(dt=>{const bt=dt.classList;ue.forEach(Bt=>bt.add(Bt)),je.forEach(Bt=>bt.remove(Bt));for(const Bt in it)it.hasOwnProperty(Bt)&&he(dt,Bt,it[Bt])})})(),Pe.length>0&&(lr?(Mn.forEach(ue=>{const je=ue.animate(Pe,{id:zt,delay:rt(),duration:ke(),easing:we(),iterations:mt(),fill:pn(),direction:Oe()});je.pause(),cr.push(je)}),cr.length>0&&(cr[0].onfinish=()=>{zn()})):si(ue)),ye=!0},Cn=ue=>{if(ue=Math.min(Math.max(ue,0),.9999),lr)cr.forEach(je=>{je.currentTime=je.effect.getComputedTiming().delay+ke()*ue,je.pause()});else{const je=`-${ke()*ue}ms`;Mn.forEach(it=>{Pe.length>0&&(he(it,"animation-delay",je),he(it,"animation-play-state","paused"))})}},Ln=ue=>{cr.forEach(je=>{je.effect.updateTiming({delay:rt(),duration:ke(),easing:we(),iterations:mt(),fill:pn(),direction:Oe()})}),void 0!==ue&&Cn(ue)},xr=(ue=!0,je)=>{(0,a.r)(()=>{Mn.forEach(it=>{he(it,"animation-name",Lt||null),he(it,"animation-duration",`${ke()}ms`),he(it,"animation-timing-function",we()),he(it,"animation-delay",void 0!==je?`-${je*ke()}ms`:`${rt()}ms`),he(it,"animation-fill-mode",pn()||null),he(it,"animation-direction",Oe()||null);const dt=mt()===1/0?"infinite":mt().toString();he(it,"animation-iteration-count",dt),ue&&he(it,"animation-name",`${Lt}-alt`),(0,a.r)(()=>{he(it,"animation-name",Lt||null)})})})},Fr=(ue=!1,je=!0,it)=>(ue&&$n.forEach(dt=>{dt.update(ue,je,it)}),lr?Ln(it):xr(je,it),Rt),oi=()=>{ye&&(lr?cr.forEach(ue=>{ue.pause()}):Mn.forEach(ue=>{he(ue,"animation-play-state","paused")}),xn=!0)},En=()=>{We=void 0,zn()},di=()=>{We&&clearTimeout(We)},Z=ue=>new Promise(je=>{null!=ue&&ue.sync&&(He=!0,rr(()=>He=!1,{oneTimeCallback:!0})),ye||Ut(),ft&&(lr?(Cn(0),Ln()):xr(),ft=!1),et&&(ze=$n.length+1,et=!1),rr(()=>je(),{oneTimeCallback:!0}),$n.forEach(it=>{it.play()}),lr?(cr.forEach(ue=>{ue.play()}),(0===Pe.length||0===Mn.length)&&zn()):(()=>{if(di(),(0,a.r)(()=>{Mn.forEach(ue=>{Pe.length>0&&he(ue,"animation-play-state","running")})}),0===Pe.length||0===Mn.length)zn();else{const ue=rt()||0,je=ke()||0,it=mt()||1;isFinite(it)&&(We=setTimeout(En,ue+je*it+100)),((_e,De)=>{let Je;const ee={passive:!0},Be=ct=>{_e===ct.target&&(Je&&Je(),di(),(0,a.r)(()=>{Mn.forEach(ue=>{be(ue,"animation-duration"),be(ue,"animation-delay"),be(ue,"animation-play-state")}),(0,a.r)(zn)}))};_e&&(_e.addEventListener("webkitAnimationEnd",Be,ee),_e.addEventListener("animationend",Be,ee),Je=()=>{_e.removeEventListener("webkitAnimationEnd",Be,ee),_e.removeEventListener("animationend",Be,ee)})})(Mn[0])}})(),xn=!1}),Le=(ue,je)=>{const it=Pe[0];return void 0===it||void 0!==it.offset&&0!==it.offset?Pe=[{offset:0,[ue]:je},...Pe]:it[ue]=je,Rt};return Rt={parentAnimation:le,elements:Mn,childAnimations:$n,id:zt,animationFinish:zn,from:Le,to:(ue,je)=>{const it=Pe[Pe.length-1];return void 0===it||void 0!==it.offset&&1!==it.offset?Pe=[...Pe,{offset:1,[ue]:je}]:it[ue]=je,Rt},fromTo:(ue,je,it)=>Le(ue,je).to(ue,it),parent:ue=>(le=ue,Rt),play:Z,pause:()=>($n.forEach(ue=>{ue.pause()}),oi(),Rt),stop:()=>{$n.forEach(ue=>{ue.stop()}),ye&&(tr(),ye=!1),pt=!1,He=!1,et=!0,Fe=void 0,Ne=void 0,Ue=void 0,ze=0,ft=!1,Ve=!0,xn=!1},destroy:ue=>($n.forEach(je=>{je.destroy(ue)}),(ue=>{tr(),ue&&nr()})(ue),Mn.length=0,$n.length=0,Pe.length=0,Kn.length=0,bn.length=0,ye=!1,et=!0,Rt),keyframes:ue=>{const je=Pe!==ue;return Pe=ue,je&&(ue=>{lr?Cr().forEach(je=>{if(je.effect.setKeyframes)je.effect.setKeyframes(ue);else{const it=new KeyframeEffect(je.effect.target,ue,je.effect.getTiming());je.effect=it}}):si()})(Pe),Rt},addAnimation:ue=>{if(null!=ue)if(Array.isArray(ue))for(const je of ue)je.parent(Rt),$n.push(je);else ue.parent(Rt),$n.push(ue);return Rt},addElement:ue=>{if(null!=ue)if(1===ue.nodeType)Mn.push(ue);else if(ue.length>=0)for(let je=0;je<ue.length;je++)Mn.push(ue[je]);else console.error("Invalid addElement value");return Rt},update:Fr,fill:ue=>(Be=ue,Fr(!0),Rt),direction:ue=>(ct=ue,Fr(!0),Rt),iterations:ue=>(nt=ue,Fr(!0),Rt),duration:ue=>(!lr&&0===ue&&(ue=1),Je=ue,Fr(!0),Rt),easing:ue=>(ee=ue,Fr(!0),Rt),delay:ue=>(De=ue,Fr(!0),Rt),getWebAnimations:Cr,getKeyframes:()=>Pe,getFill:pn,getDirection:Oe,getDelay:rt,getIterations:mt,getEasing:we,getDuration:ke,afterAddRead:ue=>(yn.push(ue),Rt),afterAddWrite:ue=>(Rr.push(ue),Rt),afterClearStyles:(ue=[])=>{for(const je of ue)Ie[je]="";return Rt},afterStyles:(ue={})=>(Ie=ue,Rt),afterRemoveClass:ue=>(Q=ot(Q,ue),Rt),afterAddClass:ue=>(Y=ot(Y,ue),Rt),beforeAddRead:ue=>(er.push(ue),Rt),beforeAddWrite:ue=>(Dr.push(ue),Rt),beforeClearStyles:(ue=[])=>{for(const je of ue)W[je]="";return Rt},beforeStyles:(ue={})=>(W=ue,Rt),beforeRemoveClass:ue=>(de=ot(de,ue),Rt),beforeAddClass:ue=>(st=ot(st,ue),Rt),onFinish:rr,isRunning:()=>0!==ze&&!xn,progressStart:(ue=!1,je)=>($n.forEach(it=>{it.progressStart(ue,je)}),oi(),pt=ue,ye||Ut(),Fr(!1,!0,je),Rt),progressStep:ue=>($n.forEach(je=>{je.progressStep(ue)}),Cn(ue),Rt),progressEnd:(ue,je,it)=>(pt=!1,$n.forEach(dt=>{dt.progressEnd(ue,je,it)}),void 0!==it&&(Ne=it),ft=!1,Ve=!0,0===ue?(Fe="reverse"===Oe()?"normal":"reverse","reverse"===Fe&&(Ve=!1),lr?(Fr(),Cn(1-je)):(Ue=(1-je)*ke()*-1,Fr(!1,!1))):1===ue&&(lr?(Fr(),Cn(je)):(Ue=je*ke()*-1,Fr(!1,!1))),void 0!==ue&&(rr(()=>{Ne=void 0,Fe=void 0,Ue=void 0},{oneTimeCallback:!0}),le||Z()),Rt)}}},4349:(Pt,Ze,$)=>{"use strict";$.d(Ze,{G:()=>Te});class X{constructor(he,be,me,se,re){this.id=be,this.name=me,this.disableScroll=re,this.priority=1e6*se+be,this.ctrl=he}canStart(){return!!this.ctrl&&this.ctrl.canStart(this.name)}start(){return!!this.ctrl&&this.ctrl.start(this.name,this.id,this.priority)}capture(){if(!this.ctrl)return!1;const he=this.ctrl.capture(this.name,this.id,this.priority);return he&&this.disableScroll&&this.ctrl.disableScroll(this.id),he}release(){this.ctrl&&(this.ctrl.release(this.id),this.disableScroll&&this.ctrl.enableScroll(this.id))}destroy(){this.release(),this.ctrl=void 0}}class B{constructor(he,be,me,se){this.id=be,this.disable=me,this.disableScroll=se,this.ctrl=he}block(){if(this.ctrl){if(this.disable)for(const he of this.disable)this.ctrl.disableGesture(he,this.id);this.disableScroll&&this.ctrl.disableScroll(this.id)}}unblock(){if(this.ctrl){if(this.disable)for(const he of this.disable)this.ctrl.enableGesture(he,this.id);this.disableScroll&&this.ctrl.enableScroll(this.id)}}destroy(){this.unblock(),this.ctrl=void 0}}const Ce="backdrop-no-scroll",Te=new class a{constructor(){this.gestureId=0,this.requestedStart=new Map,this.disabledGestures=new Map,this.disabledScroll=new Set}createGesture(he){var be;return new X(this,this.newID(),he.name,null!==(be=he.priority)&&void 0!==be?be:0,!!he.disableScroll)}createBlocker(he={}){return new B(this,this.newID(),he.disable,!!he.disableScroll)}start(he,be,me){return this.canStart(he)?(this.requestedStart.set(be,me),!0):(this.requestedStart.delete(be),!1)}capture(he,be,me){if(!this.start(he,be,me))return!1;const se=this.requestedStart;let re=-1e4;if(se.forEach(ae=>{re=Math.max(re,ae)}),re===me){this.capturedId=be,se.clear();const ae=new CustomEvent("ionGestureCaptured",{detail:{gestureName:he}});return document.dispatchEvent(ae),!0}return se.delete(be),!1}release(he){this.requestedStart.delete(he),this.capturedId===he&&(this.capturedId=void 0)}disableGesture(he,be){let me=this.disabledGestures.get(he);void 0===me&&(me=new Set,this.disabledGestures.set(he,me)),me.add(be)}enableGesture(he,be){const me=this.disabledGestures.get(he);void 0!==me&&me.delete(be)}disableScroll(he){this.disabledScroll.add(he),1===this.disabledScroll.size&&document.body.classList.add(Ce)}enableScroll(he){this.disabledScroll.delete(he),0===this.disabledScroll.size&&document.body.classList.remove(Ce)}canStart(he){return!(void 0!==this.capturedId||this.isDisabled(he))}isCaptured(){return void 0!==this.capturedId}isScrollDisabled(){return this.disabledScroll.size>0}isDisabled(he){const be=this.disabledGestures.get(he);return!!(be&&be.size>0)}newID(){return this.gestureId++,this.gestureId}}},7593:(Pt,Ze,$)=>{"use strict";$.r(Ze),$.d(Ze,{MENU_BACK_BUTTON_PRIORITY:()=>Te,OVERLAY_BACK_BUTTON_PRIORITY:()=>Ce,blockHardwareBackButton:()=>X,startHardwareBackButton:()=>B});var a=$(5861);const X=()=>{document.addEventListener("backbutton",()=>{})},B=()=>{const ce=document;let he=!1;ce.addEventListener("backbutton",()=>{if(he)return;let be=0,me=[];const se=new CustomEvent("ionBackButton",{bubbles:!1,detail:{register(ie,Re){me.push({priority:ie,handler:Re,id:be++})}}});ce.dispatchEvent(se);const re=function(){var ie=(0,a.Z)(function*(Re){try{if(null!=Re&&Re.handler){const ot=Re.handler(ae);null!=ot&&(yield ot)}}catch(ot){console.error(ot)}});return function(ot){return ie.apply(this,arguments)}}(),ae=()=>{if(me.length>0){let ie={priority:Number.MIN_SAFE_INTEGER,handler:()=>{},id:-1};me.forEach(Re=>{Re.priority>=ie.priority&&(ie=Re)}),he=!0,me=me.filter(Re=>Re.id!==ie.id),re(ie).then(()=>he=!1)}};ae()})},Ce=100,Te=99},5730:(Pt,Ze,$)=>{"use strict";$.d(Ze,{a:()=>he,b:()=>be,c:()=>B,d:()=>Re,e:()=>ot,f:()=>ie,g:()=>me,h:()=>nt,i:()=>ce,j:()=>Ce,k:()=>ae,l:()=>$e,m:()=>re,n:()=>_e,o:()=>ee,p:()=>Je,q:()=>Be,r:()=>se,s:()=>ct,t:()=>a,u:()=>De});const a=(Pe,st=0)=>new Promise(de=>{X(Pe,st,de)}),X=(Pe,st=0,de)=>{let ye,le;const W={passive:!0},Q=()=>{ye&&ye()},Ie=ze=>{(void 0===ze||Pe===ze.target)&&(Q(),de(ze))};return Pe&&(Pe.addEventListener("webkitTransitionEnd",Ie,W),Pe.addEventListener("transitionend",Ie,W),le=setTimeout(Ie,st+500),ye=()=>{le&&(clearTimeout(le),le=void 0),Pe.removeEventListener("webkitTransitionEnd",Ie,W),Pe.removeEventListener("transitionend",Ie,W)}),Q},B=(Pe,st)=>{Pe.componentOnReady?Pe.componentOnReady().then(de=>st(de)):se(()=>st(Pe))},Ce=(Pe,st=[])=>{const de={};return st.forEach(ye=>{Pe.hasAttribute(ye)&&(null!==Pe.getAttribute(ye)&&(de[ye]=Pe.getAttribute(ye)),Pe.removeAttribute(ye))}),de},Te=["role","aria-activedescendant","aria-atomic","aria-autocomplete","aria-braillelabel","aria-brailleroledescription","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colindextext","aria-colspan","aria-controls","aria-current","aria-describedby","aria-description","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowindextext","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext"],ce=(Pe,st)=>{let de=Te;return st&&st.length>0&&(de=de.filter(ye=>!st.includes(ye))),Ce(Pe,de)},he=(Pe,st,de,ye)=>{var le;if("undefined"!=typeof window){const W=window,Y=null===(le=null==W?void 0:W.Ionic)||void 0===le?void 0:le.config;if(Y){const Q=Y.get("_ael");if(Q)return Q(Pe,st,de,ye);if(Y._ael)return Y._ael(Pe,st,de,ye)}}return Pe.addEventListener(st,de,ye)},be=(Pe,st,de,ye)=>{var le;if("undefined"!=typeof window){const W=window,Y=null===(le=null==W?void 0:W.Ionic)||void 0===le?void 0:le.config;if(Y){const Q=Y.get("_rel");if(Q)return Q(Pe,st,de,ye);if(Y._rel)return Y._rel(Pe,st,de,ye)}}return Pe.removeEventListener(st,de,ye)},me=(Pe,st=Pe)=>Pe.shadowRoot||st,se=Pe=>"function"==typeof __zone_symbol__requestAnimationFrame?__zone_symbol__requestAnimationFrame(Pe):"function"==typeof requestAnimationFrame?requestAnimationFrame(Pe):setTimeout(Pe),re=Pe=>!!Pe.shadowRoot&&!!Pe.attachShadow,ae=Pe=>{const st=Pe.closest("ion-item");return st?st.querySelector("ion-label"):null},ie=Pe=>{if(Pe.focus(),Pe.classList.contains("ion-focusable")){const st=Pe.closest("ion-app");st&&st.setFocus([Pe])}},Re=(Pe,st)=>{let de;const ye=Pe.getAttribute("aria-labelledby"),le=Pe.id;let W=null!==ye&&""!==ye.trim()?ye:st+"-lbl",Y=null!==ye&&""!==ye.trim()?document.getElementById(ye):ae(Pe);return Y?(null===ye&&(Y.id=W),de=Y.textContent,Y.setAttribute("aria-hidden","true")):""!==le.trim()&&(Y=document.querySelector(`label[for="${le}"]`),Y&&(""!==Y.id?W=Y.id:Y.id=W=`${le}-lbl`,de=Y.textContent)),{label:Y,labelId:W,labelText:de}},ot=(Pe,st,de,ye,le)=>{if(Pe||re(st)){let W=st.querySelector("input.aux-input");W||(W=st.ownerDocument.createElement("input"),W.type="hidden",W.classList.add("aux-input"),st.appendChild(W)),W.disabled=le,W.name=de,W.value=ye||""}},$e=(Pe,st,de)=>Math.max(Pe,Math.min(st,de)),_e=(Pe,st)=>{if(!Pe){const de="ASSERT: "+st;throw console.error(de),new Error(de)}},De=Pe=>Pe.timeStamp||Date.now(),Je=Pe=>{if(Pe){const st=Pe.changedTouches;if(st&&st.length>0){const de=st[0];return{x:de.clientX,y:de.clientY}}if(void 0!==Pe.pageX)return{x:Pe.pageX,y:Pe.pageY}}return{x:0,y:0}},ee=Pe=>{const st="rtl"===document.dir;switch(Pe){case"start":return st;case"end":return!st;default:throw new Error(`"${Pe}" is not a valid value for [side]. Use "start" or "end" instead.`)}},nt=(Pe,st)=>{const de=Pe._original||Pe;return{_original:Pe,emit:Be(de.emit.bind(de),st)}},Be=(Pe,st=0)=>{let de;return(...ye)=>{clearTimeout(de),de=setTimeout(Pe,st,...ye)}},ct=(Pe,st)=>{if(null!=Pe||(Pe={}),null!=st||(st={}),Pe===st)return!0;const de=Object.keys(Pe);if(de.length!==Object.keys(st).length)return!1;for(const ye of de)if(!(ye in st)||Pe[ye]!==st[ye])return!1;return!0}},3457:(Pt,Ze,$)=>{"use strict";$.d(Ze,{w:()=>a});const a="undefined"!=typeof window?window:void 0},385:(Pt,Ze,$)=>{"use strict";$.d(Ze,{m:()=>re});var a=$(5861),X=$(7593),B=$(5730),Ce=$(9658),Te=$(5942);const ce=ae=>(0,Te.c)().duration(ae?400:300),he=ae=>{let ie,Re;const ot=ae.width+8,$e=(0,Te.c)(),_e=(0,Te.c)();ae.isEndSide?(ie=ot+"px",Re="0px"):(ie=-ot+"px",Re="0px"),$e.addElement(ae.menuInnerEl).fromTo("transform",`translateX(${ie})`,`translateX(${Re})`);const Je="ios"===(0,Ce.b)(ae),ee=Je?.2:.25;return _e.addElement(ae.backdropEl).fromTo("opacity",.01,ee),ce(Je).addAnimation([$e,_e])},be=ae=>{let ie,Re;const ot=(0,Ce.b)(ae),$e=ae.width;ae.isEndSide?(ie=-$e+"px",Re=$e+"px"):(ie=$e+"px",Re=-$e+"px");const _e=(0,Te.c)().addElement(ae.menuInnerEl).fromTo("transform",`translateX(${Re})`,"translateX(0px)"),De=(0,Te.c)().addElement(ae.contentEl).fromTo("transform","translateX(0px)",`translateX(${ie})`),Je=(0,Te.c)().addElement(ae.backdropEl).fromTo("opacity",.01,.32);return ce("ios"===ot).addAnimation([_e,De,Je])},me=ae=>{const ie=(0,Ce.b)(ae),Re=ae.width*(ae.isEndSide?-1:1)+"px",ot=(0,Te.c)().addElement(ae.contentEl).fromTo("transform","translateX(0px)",`translateX(${Re})`);return ce("ios"===ie).addAnimation(ot)},re=(()=>{const ae=new Map,ie=[],Re=function(){var We=(0,a.Z)(function*(Fe){const Ne=yield nt(Fe);return!!Ne&&Ne.open()});return function(Ne){return We.apply(this,arguments)}}(),ot=function(){var We=(0,a.Z)(function*(Fe){const Ne=yield void 0!==Fe?nt(Fe):Be();return void 0!==Ne&&Ne.close()});return function(Ne){return We.apply(this,arguments)}}(),$e=function(){var We=(0,a.Z)(function*(Fe){const Ne=yield nt(Fe);return!!Ne&&Ne.toggle()});return function(Ne){return We.apply(this,arguments)}}(),_e=function(){var We=(0,a.Z)(function*(Fe,Ne){const Ue=yield nt(Ne);return Ue&&(Ue.disabled=!Fe),Ue});return function(Ne,Ue){return We.apply(this,arguments)}}(),De=function(){var We=(0,a.Z)(function*(Fe,Ne){const Ue=yield nt(Ne);return Ue&&(Ue.swipeGesture=Fe),Ue});return function(Ne,Ue){return We.apply(this,arguments)}}(),Je=function(){var We=(0,a.Z)(function*(Fe){if(null!=Fe){const Ne=yield nt(Fe);return void 0!==Ne&&Ne.isOpen()}return void 0!==(yield Be())});return function(Ne){return We.apply(this,arguments)}}(),ee=function(){var We=(0,a.Z)(function*(Fe){const Ne=yield nt(Fe);return!!Ne&&!Ne.disabled});return function(Ne){return We.apply(this,arguments)}}(),nt=function(){var We=(0,a.Z)(function*(Fe){return yield He(),"start"===Fe||"end"===Fe?pt(Ve=>Ve.side===Fe&&!Ve.disabled)||pt(Ve=>Ve.side===Fe):null!=Fe?pt(Ue=>Ue.menuId===Fe):pt(Ue=>!Ue.disabled)||(ie.length>0?ie[0].el:void 0)});return function(Ne){return We.apply(this,arguments)}}(),Be=function(){var We=(0,a.Z)(function*(){return yield He(),Q()});return function(){return We.apply(this,arguments)}}(),ct=function(){var We=(0,a.Z)(function*(){return yield He(),Ie()});return function(){return We.apply(this,arguments)}}(),Pe=function(){var We=(0,a.Z)(function*(){return yield He(),ze()});return function(){return We.apply(this,arguments)}}(),st=(We,Fe)=>{ae.set(We,Fe)},le=We=>{const Fe=We.side;ie.filter(Ne=>Ne.side===Fe&&Ne!==We).forEach(Ne=>Ne.disabled=!0)},W=function(){var We=(0,a.Z)(function*(Fe,Ne,Ue){if(ze())return!1;if(Ne){const Ve=yield Be();Ve&&Fe.el!==Ve&&(yield Ve.setOpen(!1,!1))}return Fe._setOpen(Ne,Ue)});return function(Ne,Ue,Ve){return We.apply(this,arguments)}}(),Q=()=>pt(We=>We._isOpen),Ie=()=>ie.map(We=>We.el),ze=()=>ie.some(We=>We.isAnimating),pt=We=>{const Fe=ie.find(We);if(void 0!==Fe)return Fe.el},He=()=>Promise.all(Array.from(document.querySelectorAll("ion-menu")).map(We=>new Promise(Fe=>(0,B.c)(We,Fe))));return st("reveal",me),st("push",be),st("overlay",he),"undefined"!=typeof document&&document.addEventListener("ionBackButton",We=>{const Fe=Q();Fe&&We.detail.register(X.MENU_BACK_BUTTON_PRIORITY,()=>Fe.close())}),{registerAnimation:st,get:nt,getMenus:ct,getOpen:Be,isEnabled:ee,swipeGesture:De,isAnimating:Pe,isOpen:Je,enable:_e,toggle:$e,close:ot,open:Re,_getOpenSync:Q,_createAnimation:(We,Fe)=>{const Ne=ae.get(We);if(!Ne)throw new Error("animation not registered");return Ne(Fe)},_register:We=>{ie.indexOf(We)<0&&(We.disabled||le(We),ie.push(We))},_unregister:We=>{const Fe=ie.indexOf(We);Fe>-1&&ie.splice(Fe,1)},_setOpen:W,_setActiveMenu:le}})()},1308:(Pt,Ze,$)=>{"use strict";$.d(Ze,{B:()=>br,H:()=>Mn,a:()=>Ve,b:()=>Sr,c:()=>Ti,e:()=>Dn,f:()=>Si,g:()=>ft,h:()=>Kn,i:()=>an,j:()=>Oe,k:()=>sr,p:()=>$e,r:()=>Wn,s:()=>Re});var a=$(5861);let B,Ce,Te,ce=!1,he=!1,be=!1,me=!1,se=!1;const re="undefined"!=typeof window?window:{},ae=re.document||{head:{}},ie={$flags$:0,$resourcesUrl$:"",jmp:Z=>Z(),raf:Z=>requestAnimationFrame(Z),ael:(Z,pe,Le,Ke)=>Z.addEventListener(pe,Le,Ke),rel:(Z,pe,Le,Ke)=>Z.removeEventListener(pe,Le,Ke),ce:(Z,pe)=>new CustomEvent(Z,pe)},Re=Z=>{Object.assign(ie,Z)},$e=Z=>Promise.resolve(Z),_e=(()=>{try{return new CSSStyleSheet,"function"==typeof(new CSSStyleSheet).replaceSync}catch(Z){}return!1})(),De=(Z,pe,Le,Ke)=>{Le&&Le.map(([lt,ue,je])=>{const it=ee(Z,lt),dt=Je(pe,je),bt=nt(lt);ie.ael(it,ue,dt,bt),(pe.$rmListeners$=pe.$rmListeners$||[]).push(()=>ie.rel(it,ue,dt,bt))})},Je=(Z,pe)=>Le=>{try{256&Z.$flags$?Z.$lazyInstance$[pe](Le):(Z.$queuedListeners$=Z.$queuedListeners$||[]).push([pe,Le])}catch(Ke){Ln(Ke)}},ee=(Z,pe)=>4&pe?ae:8&pe?re:16&pe?ae.body:Z,nt=Z=>0!=(2&Z),de="s-id",ye="sty-id",Y="http://www.w3.org/1999/xlink",ze=new WeakMap,pt=(Z,pe,Le)=>{let Ke=_r.get(Z);_e&&Le?(Ke=Ke||new CSSStyleSheet,"string"==typeof Ke?Ke=pe:Ke.replaceSync(pe)):Ke=pe,_r.set(Z,Ke)},He=(Z,pe,Le,Ke)=>{let lt=Fe(pe,Le);const ue=_r.get(lt);if(Z=11===Z.nodeType?Z:ae,ue)if("string"==typeof ue){let it,je=ze.get(Z=Z.head||Z);je||ze.set(Z,je=new Set),je.has(lt)||(Z.host&&(it=Z.querySelector(`[${ye}="${lt}"]`))?it.innerHTML=ue:(it=ae.createElement("style"),it.innerHTML=ue,Z.insertBefore(it,Z.querySelector("link"))),je&&je.add(lt))}else Z.adoptedStyleSheets.includes(ue)||(Z.adoptedStyleSheets=[...Z.adoptedStyleSheets,ue]);return lt},Fe=(Z,pe)=>"sc-"+(pe&&32&Z.$flags$?Z.$tagName$+"-"+pe:Z.$tagName$),Ne=Z=>Z.replace(/\/\*!@([^\/]+)\*\/[^\{]+\{/g,"$1{"),Ve=Z=>ei.push(Z),ft=Z=>si(Z).$modeName$,et={},zt=Z=>"object"==(Z=typeof Z)||"function"===Z,Kn=(Z,pe,...Le)=>{let Ke=null,lt=null,ue=null,je=!1,it=!1;const dt=[],bt=Qt=>{for(let An=0;An<Qt.length;An++)Ke=Qt[An],Array.isArray(Ke)?bt(Ke):null!=Ke&&"boolean"!=typeof Ke&&((je="function"!=typeof Z&&!zt(Ke))&&(Ke=String(Ke)),je&&it?dt[dt.length-1].$text$+=Ke:dt.push(je?bn(null,Ke):Ke),it=je)};if(bt(Le),pe){pe.key&&(lt=pe.key),pe.name&&(ue=pe.name);{const Qt=pe.className||pe.class;Qt&&(pe.class="object"!=typeof Qt?Qt:Object.keys(Qt).filter(An=>Qt[An]).join(" "))}}if("function"==typeof Z)return Z(null===pe?{}:pe,dt,Jn);const Bt=bn(Z,null);return Bt.$attrs$=pe,dt.length>0&&(Bt.$children$=dt),Bt.$key$=lt,Bt.$name$=ue,Bt},bn=(Z,pe)=>({$flags$:0,$tag$:Z,$text$:pe,$elm$:null,$children$:null,$attrs$:null,$key$:null,$name$:null}),Mn={},Jn={forEach:(Z,pe)=>Z.map(er).forEach(pe),map:(Z,pe)=>Z.map(er).map(pe).map(Dr)},er=Z=>({vattrs:Z.$attrs$,vchildren:Z.$children$,vkey:Z.$key$,vname:Z.$name$,vtag:Z.$tag$,vtext:Z.$text$}),Dr=Z=>{if("function"==typeof Z.vtag){const Le=Object.assign({},Z.vattrs);return Z.vkey&&(Le.key=Z.vkey),Z.vname&&(Le.name=Z.vname),Kn(Z.vtag,Le,...Z.vchildren||[])}const pe=bn(Z.vtag,Z.vtext);return pe.$attrs$=Z.vattrs,pe.$children$=Z.vchildren,pe.$key$=Z.vkey,pe.$name$=Z.vname,pe},yn=(Z,pe,Le,Ke,lt,ue)=>{if(Le!==Ke){let je=Cn(Z,pe),it=pe.toLowerCase();if("class"===pe){const dt=Z.classList,bt=cr(Le),Bt=cr(Ke);dt.remove(...bt.filter(Qt=>Qt&&!Bt.includes(Qt))),dt.add(...Bt.filter(Qt=>Qt&&!bt.includes(Qt)))}else if("style"===pe){for(const dt in Le)(!Ke||null==Ke[dt])&&(dt.includes("-")?Z.style.removeProperty(dt):Z.style[dt]="");for(const dt in Ke)(!Le||Ke[dt]!==Le[dt])&&(dt.includes("-")?Z.style.setProperty(dt,Ke[dt]):Z.style[dt]=Ke[dt])}else if("key"!==pe)if("ref"===pe)Ke&&Ke(Z);else if(je||"o"!==pe[0]||"n"!==pe[1]){const dt=zt(Ke);if((je||dt&&null!==Ke)&&!lt)try{if(Z.tagName.includes("-"))Z[pe]=Ke;else{const Bt=null==Ke?"":Ke;"list"===pe?je=!1:(null==Le||Z[pe]!=Bt)&&(Z[pe]=Bt)}}catch(Bt){}let bt=!1;it!==(it=it.replace(/^xlink\:?/,""))&&(pe=it,bt=!0),null==Ke||!1===Ke?(!1!==Ke||""===Z.getAttribute(pe))&&(bt?Z.removeAttributeNS(Y,pe):Z.removeAttribute(pe)):(!je||4&ue||lt)&&!dt&&(Ke=!0===Ke?"":Ke,bt?Z.setAttributeNS(Y,pe,Ke):Z.setAttribute(pe,Ke))}else pe="-"===pe[2]?pe.slice(3):Cn(re,it)?it.slice(2):it[2]+pe.slice(3),Le&&ie.rel(Z,pe,Le,!1),Ke&&ie.ael(Z,pe,Ke,!1)}},Rr=/\s/,cr=Z=>Z?Z.split(Rr):[],Ci=(Z,pe,Le,Ke)=>{const lt=11===pe.$elm$.nodeType&&pe.$elm$.host?pe.$elm$.host:pe.$elm$,ue=Z&&Z.$attrs$||et,je=pe.$attrs$||et;for(Ke in ue)Ke in je||yn(lt,Ke,ue[Ke],void 0,Le,pe.$flags$);for(Ke in je)yn(lt,Ke,ue[Ke],je[Ke],Le,pe.$flags$)},lr=(Z,pe,Le,Ke)=>{const lt=pe.$children$[Le];let je,it,dt,ue=0;if(ce||(be=!0,"slot"===lt.$tag$&&(B&&Ke.classList.add(B+"-s"),lt.$flags$|=lt.$children$?2:1)),null!==lt.$text$)je=lt.$elm$=ae.createTextNode(lt.$text$);else if(1&lt.$flags$)je=lt.$elm$=ae.createTextNode("");else{if(me||(me="svg"===lt.$tag$),je=lt.$elm$=ae.createElementNS(me?"http://www.w3.org/2000/svg":"http://www.w3.org/1999/xhtml",2&lt.$flags$?"slot-fb":lt.$tag$),me&&"foreignObject"===lt.$tag$&&(me=!1),Ci(null,lt,me),(Z=>null!=Z)(B)&&je["s-si"]!==B&&je.classList.add(je["s-si"]=B),lt.$children$)for(ue=0;ue<lt.$children$.length;++ue)it=lr(Z,lt,ue,je),it&&je.appendChild(it);"svg"===lt.$tag$?me=!1:"foreignObject"===je.tagName&&(me=!0)}return je["s-hn"]=Te,3&lt.$flags$&&(je["s-sr"]=!0,je["s-cr"]=Ce,je["s-sn"]=lt.$name$||"",dt=Z&&Z.$children$&&Z.$children$[Le],dt&&dt.$tag$===lt.$tag$&&Z.$elm$&&en(Z.$elm$,!1)),je},en=(Z,pe)=>{ie.$flags$|=1;const Le=Z.childNodes;for(let Ke=Le.length-1;Ke>=0;Ke--){const lt=Le[Ke];lt["s-hn"]!==Te&&lt["s-ol"]&&(rr(lt).insertBefore(lt,yt(lt)),lt["s-ol"].remove(),lt["s-ol"]=void 0,be=!0),pe&&en(lt,pe)}ie.$flags$&=-2},Cr=(Z,pe,Le,Ke,lt,ue)=>{let it,je=Z["s-cr"]&&Z["s-cr"].parentNode||Z;for(je.shadowRoot&&je.tagName===Te&&(je=je.shadowRoot);lt<=ue;++lt)Ke[lt]&&(it=lr(null,Le,lt,Z),it&&(Ke[lt].$elm$=it,je.insertBefore(it,yt(pe))))},zr=(Z,pe,Le,Ke,lt)=>{for(;pe<=Le;++pe)(Ke=Z[pe])&&(lt=Ke.$elm$,jn(Ke),he=!0,lt["s-ol"]?lt["s-ol"].remove():en(lt,!0),lt.remove())},Xt=(Z,pe)=>Z.$tag$===pe.$tag$&&("slot"===Z.$tag$?Z.$name$===pe.$name$:Z.$key$===pe.$key$),yt=Z=>Z&&Z["s-ol"]||Z,rr=Z=>(Z["s-ol"]?Z["s-ol"]:Z).parentNode,Un=(Z,pe)=>{const Le=pe.$elm$=Z.$elm$,Ke=Z.$children$,lt=pe.$children$,ue=pe.$tag$,je=pe.$text$;let it;null===je?(me="svg"===ue||"foreignObject"!==ue&&me,"slot"===ue||Ci(Z,pe,me),null!==Ke&&null!==lt?((Z,pe,Le,Ke)=>{let Zn,ti,lt=0,ue=0,je=0,it=0,dt=pe.length-1,bt=pe[0],Bt=pe[dt],Qt=Ke.length-1,An=Ke[0],mn=Ke[Qt];for(;lt<=dt&&ue<=Qt;)if(null==bt)bt=pe[++lt];else if(null==Bt)Bt=pe[--dt];else if(null==An)An=Ke[++ue];else if(null==mn)mn=Ke[--Qt];else if(Xt(bt,An))Un(bt,An),bt=pe[++lt],An=Ke[++ue];else if(Xt(Bt,mn))Un(Bt,mn),Bt=pe[--dt],mn=Ke[--Qt];else if(Xt(bt,mn))("slot"===bt.$tag$||"slot"===mn.$tag$)&&en(bt.$elm$.parentNode,!1),Un(bt,mn),Z.insertBefore(bt.$elm$,Bt.$elm$.nextSibling),bt=pe[++lt],mn=Ke[--Qt];else if(Xt(Bt,An))("slot"===bt.$tag$||"slot"===mn.$tag$)&&en(Bt.$elm$.parentNode,!1),Un(Bt,An),Z.insertBefore(Bt.$elm$,bt.$elm$),Bt=pe[--dt],An=Ke[++ue];else{for(je=-1,it=lt;it<=dt;++it)if(pe[it]&&null!==pe[it].$key$&&pe[it].$key$===An.$key$){je=it;break}je>=0?(ti=pe[je],ti.$tag$!==An.$tag$?Zn=lr(pe&&pe[ue],Le,je,Z):(Un(ti,An),pe[je]=void 0,Zn=ti.$elm$),An=Ke[++ue]):(Zn=lr(pe&&pe[ue],Le,ue,Z),An=Ke[++ue]),Zn&&rr(bt.$elm$).insertBefore(Zn,yt(bt.$elm$))}lt>dt?Cr(Z,null==Ke[Qt+1]?null:Ke[Qt+1].$elm$,Le,Ke,ue,Qt):ue>Qt&&zr(pe,lt,dt)})(Le,Ke,pe,lt):null!==lt?(null!==Z.$text$&&(Le.textContent=""),Cr(Le,null,pe,lt,0,lt.length-1)):null!==Ke&&zr(Ke,0,Ke.length-1),me&&"svg"===ue&&(me=!1)):(it=Le["s-cr"])?it.parentNode.textContent=je:Z.$text$!==je&&(Le.data=je)},tr=Z=>{const pe=Z.childNodes;let Le,Ke,lt,ue,je,it;for(Ke=0,lt=pe.length;Ke<lt;Ke++)if(Le=pe[Ke],1===Le.nodeType){if(Le["s-sr"])for(je=Le["s-sn"],Le.hidden=!1,ue=0;ue<lt;ue++)if(it=pe[ue].nodeType,pe[ue]["s-hn"]!==Le["s-hn"]||""!==je){if(1===it&&je===pe[ue].getAttribute("slot")){Le.hidden=!0;break}}else if(1===it||3===it&&""!==pe[ue].textContent.trim()){Le.hidden=!0;break}tr(Le)}},nr=[],fr=Z=>{let pe,Le,Ke,lt,ue,je,it=0;const dt=Z.childNodes,bt=dt.length;for(;it<bt;it++){if(pe=dt[it],pe["s-sr"]&&(Le=pe["s-cr"])&&Le.parentNode)for(Ke=Le.parentNode.childNodes,lt=pe["s-sn"],je=Ke.length-1;je>=0;je--)Le=Ke[je],!Le["s-cn"]&&!Le["s-nr"]&&Le["s-hn"]!==pe["s-hn"]&&(ir(Le,lt)?(ue=nr.find(Bt=>Bt.$nodeToRelocate$===Le),he=!0,Le["s-sn"]=Le["s-sn"]||lt,ue?ue.$slotRefNode$=pe:nr.push({$slotRefNode$:pe,$nodeToRelocate$:Le}),Le["s-sr"]&&nr.map(Bt=>{ir(Bt.$nodeToRelocate$,Le["s-sn"])&&(ue=nr.find(Qt=>Qt.$nodeToRelocate$===Le),ue&&!Bt.$slotRefNode$&&(Bt.$slotRefNode$=ue.$slotRefNode$))})):nr.some(Bt=>Bt.$nodeToRelocate$===Le)||nr.push({$nodeToRelocate$:Le}));1===pe.nodeType&&fr(pe)}},ir=(Z,pe)=>1===Z.nodeType?null===Z.getAttribute("slot")&&""===pe||Z.getAttribute("slot")===pe:Z["s-sn"]===pe||""===pe,jn=Z=>{Z.$attrs$&&Z.$attrs$.ref&&Z.$attrs$.ref(null),Z.$children$&&Z.$children$.map(jn)},an=Z=>si(Z).$hostElement$,Dn=(Z,pe,Le)=>{const Ke=an(Z);return{emit:lt=>jr(Ke,pe,{bubbles:!!(4&Le),composed:!!(2&Le),cancelable:!!(1&Le),detail:lt})}},jr=(Z,pe,Le)=>{const Ke=ie.ce(pe,Le);return Z.dispatchEvent(Ke),Ke},Wt=(Z,pe)=>{pe&&!Z.$onRenderResolve$&&pe["s-p"]&&pe["s-p"].push(new Promise(Le=>Z.$onRenderResolve$=Le))},wt=(Z,pe)=>{if(Z.$flags$|=16,!(4&Z.$flags$))return Wt(Z,Z.$ancestorComponent$),Ti(()=>Gt(Z,pe));Z.$flags$|=512},Gt=(Z,pe)=>{const Ke=Z.$lazyInstance$;let lt;return pe&&(Z.$flags$|=256,Z.$queuedListeners$&&(Z.$queuedListeners$.map(([ue,je])=>ke(Ke,ue,je)),Z.$queuedListeners$=null),lt=ke(Ke,"componentWillLoad")),lt=mt(lt,()=>ke(Ke,"componentWillRender")),mt(lt,()=>on(Z,Ke,pe))},on=function(){var Z=(0,a.Z)(function*(pe,Le,Ke){const lt=pe.$hostElement$,je=lt["s-rc"];Ke&&(Z=>{const pe=Z.$cmpMeta$,Le=Z.$hostElement$,Ke=pe.$flags$,ue=He(Le.shadowRoot?Le.shadowRoot:Le.getRootNode(),pe,Z.$modeName$);10&Ke&&(Le["s-sc"]=ue,Le.classList.add(ue+"-h"),2&Ke&&Le.classList.add(ue+"-s"))})(pe);cn(pe,Le),je&&(je.map(dt=>dt()),lt["s-rc"]=void 0);{const dt=lt["s-p"],bt=()=>pn(pe);0===dt.length?bt():(Promise.all(dt).then(bt),pe.$flags$|=4,dt.length=0)}});return function(Le,Ke,lt){return Z.apply(this,arguments)}}(),cn=(Z,pe,Le)=>{try{pe=pe.render&&pe.render(),Z.$flags$&=-17,Z.$flags$|=2,((Z,pe)=>{const Le=Z.$hostElement$,Ke=Z.$cmpMeta$,lt=Z.$vnode$||bn(null,null),ue=(Z=>Z&&Z.$tag$===Mn)(pe)?pe:Kn(null,null,pe);if(Te=Le.tagName,Ke.$attrsToReflect$&&(ue.$attrs$=ue.$attrs$||{},Ke.$attrsToReflect$.map(([je,it])=>ue.$attrs$[it]=Le[je])),ue.$tag$=null,ue.$flags$|=4,Z.$vnode$=ue,ue.$elm$=lt.$elm$=Le.shadowRoot||Le,B=Le["s-sc"],Ce=Le["s-cr"],ce=0!=(1&Ke.$flags$),he=!1,Un(lt,ue),ie.$flags$|=1,be){fr(ue.$elm$);let je,it,dt,bt,Bt,Qt,An=0;for(;An<nr.length;An++)je=nr[An],it=je.$nodeToRelocate$,it["s-ol"]||(dt=ae.createTextNode(""),dt["s-nr"]=it,it.parentNode.insertBefore(it["s-ol"]=dt,it));for(An=0;An<nr.length;An++)if(je=nr[An],it=je.$nodeToRelocate$,je.$slotRefNode$){for(bt=je.$slotRefNode$.parentNode,Bt=je.$slotRefNode$.nextSibling,dt=it["s-ol"];dt=dt.previousSibling;)if(Qt=dt["s-nr"],Qt&&Qt["s-sn"]===it["s-sn"]&&bt===Qt.parentNode&&(Qt=Qt.nextSibling,!Qt||!Qt["s-nr"])){Bt=Qt;break}(!Bt&&bt!==it.parentNode||it.nextSibling!==Bt)&&it!==Bt&&(!it["s-hn"]&&it["s-ol"]&&(it["s-hn"]=it["s-ol"].parentNode.nodeName),bt.insertBefore(it,Bt))}else 1===it.nodeType&&(it.hidden=!0)}he&&tr(ue.$elm$),ie.$flags$&=-2,nr.length=0})(Z,pe)}catch(Ke){Ln(Ke,Z.$hostElement$)}return null},pn=Z=>{const Le=Z.$hostElement$,lt=Z.$lazyInstance$,ue=Z.$ancestorComponent$;ke(lt,"componentDidRender"),64&Z.$flags$?ke(lt,"componentDidUpdate"):(Z.$flags$|=64,rt(Le),ke(lt,"componentDidLoad"),Z.$onReadyResolve$(Le),ue||we()),Z.$onInstanceResolve$(Le),Z.$onRenderResolve$&&(Z.$onRenderResolve$(),Z.$onRenderResolve$=void 0),512&Z.$flags$&&Hr(()=>wt(Z,!1)),Z.$flags$&=-517},Oe=Z=>{{const pe=si(Z),Le=pe.$hostElement$.isConnected;return Le&&2==(18&pe.$flags$)&&wt(pe,!1),Le}},we=Z=>{rt(ae.documentElement),Hr(()=>jr(re,"appload",{detail:{namespace:"ionic"}}))},ke=(Z,pe,Le)=>{if(Z&&Z[pe])try{return Z[pe](Le)}catch(Ke){Ln(Ke)}},mt=(Z,pe)=>Z&&Z.then?Z.then(pe):pe(),rt=Z=>Z.classList.add("hydrated"),gn=(Z,pe,Le,Ke,lt,ue,je)=>{let it,dt,bt,Bt;if(1===ue.nodeType){for(it=ue.getAttribute("c-id"),it&&(dt=it.split("."),(dt[0]===je||"0"===dt[0])&&(bt={$flags$:0,$hostId$:dt[0],$nodeId$:dt[1],$depth$:dt[2],$index$:dt[3],$tag$:ue.tagName.toLowerCase(),$elm$:ue,$attrs$:null,$children$:null,$key$:null,$name$:null,$text$:null},pe.push(bt),ue.removeAttribute("c-id"),Z.$children$||(Z.$children$=[]),Z.$children$[bt.$index$]=bt,Z=bt,Ke&&"0"===bt.$depth$&&(Ke[bt.$index$]=bt.$elm$))),Bt=ue.childNodes.length-1;Bt>=0;Bt--)gn(Z,pe,Le,Ke,lt,ue.childNodes[Bt],je);if(ue.shadowRoot)for(Bt=ue.shadowRoot.childNodes.length-1;Bt>=0;Bt--)gn(Z,pe,Le,Ke,lt,ue.shadowRoot.childNodes[Bt],je)}else if(8===ue.nodeType)dt=ue.nodeValue.split("."),(dt[1]===je||"0"===dt[1])&&(it=dt[0],bt={$flags$:0,$hostId$:dt[1],$nodeId$:dt[2],$depth$:dt[3],$index$:dt[4],$elm$:ue,$attrs$:null,$children$:null,$key$:null,$name$:null,$tag$:null,$text$:null},"t"===it?(bt.$elm$=ue.nextSibling,bt.$elm$&&3===bt.$elm$.nodeType&&(bt.$text$=bt.$elm$.textContent,pe.push(bt),ue.remove(),Z.$children$||(Z.$children$=[]),Z.$children$[bt.$index$]=bt,Ke&&"0"===bt.$depth$&&(Ke[bt.$index$]=bt.$elm$))):bt.$hostId$===je&&("s"===it?(bt.$tag$="slot",ue["s-sn"]=dt[5]?bt.$name$=dt[5]:"",ue["s-sr"]=!0,Ke&&(bt.$elm$=ae.createElement(bt.$tag$),bt.$name$&&bt.$elm$.setAttribute("name",bt.$name$),ue.parentNode.insertBefore(bt.$elm$,ue),ue.remove(),"0"===bt.$depth$&&(Ke[bt.$index$]=bt.$elm$)),Le.push(bt),Z.$children$||(Z.$children$=[]),Z.$children$[bt.$index$]=bt):"r"===it&&(Ke?ue.remove():(lt["s-cr"]=ue,ue["s-cn"]=!0))));else if(Z&&"style"===Z.$tag$){const Qt=bn(null,ue.textContent);Qt.$elm$=ue,Qt.$index$="0",Z.$children$=[Qt]}},Gn=(Z,pe)=>{if(1===Z.nodeType){let Le=0;for(;Le<Z.childNodes.length;Le++)Gn(Z.childNodes[Le],pe);if(Z.shadowRoot)for(Le=0;Le<Z.shadowRoot.childNodes.length;Le++)Gn(Z.shadowRoot.childNodes[Le],pe)}else if(8===Z.nodeType){const Le=Z.nodeValue.split(".");"o"===Le[0]&&(pe.set(Le[1]+"."+Le[2],Z),Z.nodeValue="",Z["s-en"]=Le[3])}},Se=(Z,pe,Le)=>{if(pe.$members$){Z.watchers&&(pe.$watchers$=Z.watchers);const Ke=Object.entries(pe.$members$),lt=Z.prototype;if(Ke.map(([ue,[je]])=>{31&je||2&Le&&32&je?Object.defineProperty(lt,ue,{get(){return((Z,pe)=>si(this).$instanceValues$.get(pe))(0,ue)},set(it){((Z,pe,Le,Ke)=>{const lt=si(Z),ue=lt.$hostElement$,je=lt.$instanceValues$.get(pe),it=lt.$flags$,dt=lt.$lazyInstance$;Le=((Z,pe)=>null==Z||zt(Z)?Z:4&pe?"false"!==Z&&(""===Z||!!Z):2&pe?parseFloat(Z):1&pe?String(Z):Z)(Le,Ke.$members$[pe][0]);const bt=Number.isNaN(je)&&Number.isNaN(Le);if((!(8&it)||void 0===je)&&Le!==je&&!bt&&(lt.$instanceValues$.set(pe,Le),dt)){if(Ke.$watchers$&&128&it){const Qt=Ke.$watchers$[pe];Qt&&Qt.map(An=>{try{dt[An](Le,je,pe)}catch(mn){Ln(mn,ue)}})}2==(18&it)&&wt(lt,!1)}})(this,ue,it,pe)},configurable:!0,enumerable:!0}):1&Le&&64&je&&Object.defineProperty(lt,ue,{value(...it){const dt=si(this);return dt.$onInstancePromise$.then(()=>dt.$lazyInstance$[ue](...it))}})}),1&Le){const ue=new Map;lt.attributeChangedCallback=function(je,it,dt){ie.jmp(()=>{const bt=ue.get(je);if(this.hasOwnProperty(bt))dt=this[bt],delete this[bt];else if(lt.hasOwnProperty(bt)&&"number"==typeof this[bt]&&this[bt]==dt)return;this[bt]=(null!==dt||"boolean"!=typeof this[bt])&&dt})},Z.observedAttributes=Ke.filter(([je,it])=>15&it[0]).map(([je,it])=>{const dt=it[1]||je;return ue.set(dt,je),512&it[0]&&pe.$attrsToReflect$.push([je,dt]),dt})}}return Z},Ee=function(){var Z=(0,a.Z)(function*(pe,Le,Ke,lt,ue){if(0==(32&Le.$flags$)){{if(Le.$flags$|=32,(ue=Fr(Ke)).then){const bt=()=>{};ue=yield ue,bt()}ue.isProxied||(Ke.$watchers$=ue.watchers,Se(ue,Ke,2),ue.isProxied=!0);const dt=()=>{};Le.$flags$|=8;try{new ue(Le)}catch(bt){Ln(bt)}Le.$flags$&=-9,Le.$flags$|=128,dt(),tt(Le.$lazyInstance$)}if(ue.style){let dt=ue.style;"string"!=typeof dt&&(dt=dt[Le.$modeName$=(Z=>ei.map(pe=>pe(Z)).find(pe=>!!pe))(pe)]);const bt=Fe(Ke,Le.$modeName$);if(!_r.has(bt)){const Bt=()=>{};pt(bt,dt,!!(1&Ke.$flags$)),Bt()}}}const je=Le.$ancestorComponent$,it=()=>wt(Le,!0);je&&je["s-rc"]?je["s-rc"].push(it):it()});return function(Le,Ke,lt,ue,je){return Z.apply(this,arguments)}}(),tt=Z=>{ke(Z,"connectedCallback")},qt=Z=>{const pe=Z["s-cr"]=ae.createComment("");pe["s-cn"]=!0,Z.insertBefore(pe,Z.firstChild)},Sr=(Z,pe={})=>{const Ke=[],lt=pe.exclude||[],ue=re.customElements,je=ae.head,it=je.querySelector("meta[charset]"),dt=ae.createElement("style"),bt=[],Bt=ae.querySelectorAll(`[${ye}]`);let Qt,An=!0,mn=0;for(Object.assign(ie,pe),ie.$resourcesUrl$=new URL(pe.resourcesUrl||"./",ae.baseURI).href,ie.$flags$|=2;mn<Bt.length;mn++)pt(Bt[mn].getAttribute(ye),Ne(Bt[mn].innerHTML),!0);Z.map(Zn=>{Zn[1].map(ti=>{const hi={$flags$:ti[0],$tagName$:ti[1],$members$:ti[2],$listeners$:ti[3]};hi.$members$=ti[2],hi.$listeners$=ti[3],hi.$attrsToReflect$=[],hi.$watchers$={};const gi=hi.$tagName$,Ns=class extends HTMLElement{constructor(us){super(us),Ut(us=this,hi),1&hi.$flags$&&us.attachShadow({mode:"open",delegatesFocus:!!(16&hi.$flags$)})}connectedCallback(){Qt&&(clearTimeout(Qt),Qt=null),An?bt.push(this):ie.jmp(()=>(Z=>{if(0==(1&ie.$flags$)){const pe=si(Z),Le=pe.$cmpMeta$,Ke=()=>{};if(1&pe.$flags$)De(Z,pe,Le.$listeners$),tt(pe.$lazyInstance$);else{let lt;if(pe.$flags$|=1,lt=Z.getAttribute(de),lt){if(1&Le.$flags$){const ue=He(Z.shadowRoot,Le,Z.getAttribute("s-mode"));Z.classList.remove(ue+"-h",ue+"-s")}((Z,pe,Le,Ke)=>{const ue=Z.shadowRoot,je=[],dt=ue?[]:null,bt=Ke.$vnode$=bn(pe,null);ie.$orgLocNodes$||Gn(ae.body,ie.$orgLocNodes$=new Map),Z[de]=Le,Z.removeAttribute(de),gn(bt,je,[],dt,Z,Z,Le),je.map(Bt=>{const Qt=Bt.$hostId$+"."+Bt.$nodeId$,An=ie.$orgLocNodes$.get(Qt),mn=Bt.$elm$;An&&""===An["s-en"]&&An.parentNode.insertBefore(mn,An.nextSibling),ue||(mn["s-hn"]=pe,An&&(mn["s-ol"]=An,mn["s-ol"]["s-nr"]=mn)),ie.$orgLocNodes$.delete(Qt)}),ue&&dt.map(Bt=>{Bt&&ue.appendChild(Bt)})})(Z,Le.$tagName$,lt,pe)}lt||12&Le.$flags$&&qt(Z);{let ue=Z;for(;ue=ue.parentNode||ue.host;)if(1===ue.nodeType&&ue.hasAttribute("s-id")&&ue["s-p"]||ue["s-p"]){Wt(pe,pe.$ancestorComponent$=ue);break}}Le.$members$&&Object.entries(Le.$members$).map(([ue,[je]])=>{if(31&je&&Z.hasOwnProperty(ue)){const it=Z[ue];delete Z[ue],Z[ue]=it}}),Hr(()=>Ee(Z,pe,Le))}Ke()}})(this))}disconnectedCallback(){ie.jmp(()=>(Z=>{if(0==(1&ie.$flags$)){const pe=si(this),Le=pe.$lazyInstance$;pe.$rmListeners$&&(pe.$rmListeners$.map(Ke=>Ke()),pe.$rmListeners$=void 0),ke(Le,"disconnectedCallback")}})())}componentOnReady(){return si(this).$onReadyPromise$}};hi.$lazyBundleId$=Zn[0],!lt.includes(gi)&&!ue.get(gi)&&(Ke.push(gi),ue.define(gi,Se(Ns,hi,1)))})}),dt.innerHTML=Ke+"{visibility:hidden}.hydrated{visibility:inherit}",dt.setAttribute("data-styles",""),je.insertBefore(dt,it?it.nextSibling:je.firstChild),An=!1,bt.length?bt.map(Zn=>Zn.connectedCallback()):ie.jmp(()=>Qt=setTimeout(we,30))},sr=Z=>{const pe=new URL(Z,ie.$resourcesUrl$);return pe.origin!==re.location.origin?pe.href:pe.pathname},zn=new WeakMap,si=Z=>zn.get(Z),Wn=(Z,pe)=>zn.set(pe.$lazyInstance$=Z,pe),Ut=(Z,pe)=>{const Le={$flags$:0,$hostElement$:Z,$cmpMeta$:pe,$instanceValues$:new Map};return Le.$onInstancePromise$=new Promise(Ke=>Le.$onInstanceResolve$=Ke),Le.$onReadyPromise$=new Promise(Ke=>Le.$onReadyResolve$=Ke),Z["s-p"]=[],Z["s-rc"]=[],De(Z,Le,pe.$listeners$),zn.set(Z,Le)},Cn=(Z,pe)=>pe in Z,Ln=(Z,pe)=>(0,console.error)(Z,pe),xr=new Map,Fr=(Z,pe,Le)=>{const Ke=Z.$tagName$.replace(/-/g,"_"),lt=Z.$lazyBundleId$,ue=xr.get(lt);return ue?ue[Ke]:$(863)(`./${lt}.entry.js`).then(je=>(xr.set(lt,je),je[Ke]),Ln)},_r=new Map,ei=[],Vn=[],oi=[],vi=(Z,pe)=>Le=>{Z.push(Le),se||(se=!0,pe&&4&ie.$flags$?Hr(di):ie.raf(di))},En=Z=>{for(let pe=0;pe<Z.length;pe++)try{Z[pe](performance.now())}catch(Le){Ln(Le)}Z.length=0},di=()=>{En(Vn),En(oi),(se=Vn.length>0)&&ie.raf(di)},Hr=Z=>$e().then(Z),Si=vi(Vn,!1),Ti=vi(oi,!0),br={isDev:!1,isBrowser:!0,isServer:!1,isTesting:!1}},664:(Pt,Ze,$)=>{"use strict";$.d(Ze,{L:()=>Ce,a:()=>Te,b:()=>ce,c:()=>he,d:()=>be,e:()=>st,g:()=>le,l:()=>ct,s:()=>de,t:()=>re});var a=$(5861),X=$(1308),B=$(5730);const Ce="ionViewWillEnter",Te="ionViewDidEnter",ce="ionViewWillLeave",he="ionViewDidLeave",be="ionViewWillUnload",re=W=>new Promise((Y,Q)=>{(0,X.c)(()=>{ae(W),ie(W).then(Ie=>{Ie.animation&&Ie.animation.destroy(),Re(W),Y(Ie)},Ie=>{Re(W),Q(Ie)})})}),ae=W=>{const Y=W.enteringEl,Q=W.leavingEl;ye(Y,Q,W.direction),W.showGoBack?Y.classList.add("can-go-back"):Y.classList.remove("can-go-back"),de(Y,!1),Y.style.setProperty("pointer-events","none"),Q&&(de(Q,!1),Q.style.setProperty("pointer-events","none"))},ie=function(){var W=(0,a.Z)(function*(Y){const Q=yield ot(Y);return Q&&X.B.isBrowser?$e(Q,Y):_e(Y)});return function(Q){return W.apply(this,arguments)}}(),Re=W=>{const Y=W.enteringEl,Q=W.leavingEl;Y.classList.remove("ion-page-invisible"),Y.style.removeProperty("pointer-events"),void 0!==Q&&(Q.classList.remove("ion-page-invisible"),Q.style.removeProperty("pointer-events"))},ot=function(){var W=(0,a.Z)(function*(Y){return Y.leavingEl&&Y.animated&&0!==Y.duration?Y.animationBuilder?Y.animationBuilder:"ios"===Y.mode?(yield Promise.resolve().then($.bind($,129))).iosTransitionAnimation:(yield Promise.resolve().then($.bind($,1369))).mdTransitionAnimation:void 0});return function(Q){return W.apply(this,arguments)}}(),$e=function(){var W=(0,a.Z)(function*(Y,Q){yield De(Q,!0);const Ie=Y(Q.baseEl,Q);nt(Q.enteringEl,Q.leavingEl);const ze=yield ee(Ie,Q);return Q.progressCallback&&Q.progressCallback(void 0),ze&&Be(Q.enteringEl,Q.leavingEl),{hasCompleted:ze,animation:Ie}});return function(Q,Ie){return W.apply(this,arguments)}}(),_e=function(){var W=(0,a.Z)(function*(Y){const Q=Y.enteringEl,Ie=Y.leavingEl;return yield De(Y,!1),nt(Q,Ie),Be(Q,Ie),{hasCompleted:!0}});return function(Q){return W.apply(this,arguments)}}(),De=function(){var W=(0,a.Z)(function*(Y,Q){const ze=(void 0!==Y.deepWait?Y.deepWait:Q)?[st(Y.enteringEl),st(Y.leavingEl)]:[Pe(Y.enteringEl),Pe(Y.leavingEl)];yield Promise.all(ze),yield Je(Y.viewIsReady,Y.enteringEl)});return function(Q,Ie){return W.apply(this,arguments)}}(),Je=function(){var W=(0,a.Z)(function*(Y,Q){Y&&(yield Y(Q))});return function(Q,Ie){return W.apply(this,arguments)}}(),ee=(W,Y)=>{const Q=Y.progressCallback,Ie=new Promise(ze=>{W.onFinish(pt=>ze(1===pt))});return Q?(W.progressStart(!0),Q(W)):W.play(),Ie},nt=(W,Y)=>{ct(Y,ce),ct(W,Ce)},Be=(W,Y)=>{ct(W,Te),ct(Y,he)},ct=(W,Y)=>{if(W){const Q=new CustomEvent(Y,{bubbles:!1,cancelable:!1});W.dispatchEvent(Q)}},Pe=W=>W?new Promise(Y=>(0,B.c)(W,Y)):Promise.resolve(),st=function(){var W=(0,a.Z)(function*(Y){const Q=Y;if(Q){if(null!=Q.componentOnReady){if(null!=(yield Q.componentOnReady()))return}else if(null!=Q.__registerHost)return void(yield new Promise(ze=>(0,B.r)(ze)));yield Promise.all(Array.from(Q.children).map(st))}});return function(Q){return W.apply(this,arguments)}}(),de=(W,Y)=>{Y?(W.setAttribute("aria-hidden","true"),W.classList.add("ion-page-hidden")):(W.hidden=!1,W.removeAttribute("aria-hidden"),W.classList.remove("ion-page-hidden"))},ye=(W,Y,Q)=>{void 0!==W&&(W.style.zIndex="back"===Q?"99":"101"),void 0!==Y&&(Y.style.zIndex="100")},le=W=>W.classList.contains("ion-page")?W:W.querySelector(":scope > .ion-page, :scope > ion-nav, :scope > ion-tabs")||W},1911:(Pt,Ze,$)=>{"use strict";$.r(Ze),$.d(Ze,{GESTURE_CONTROLLER:()=>a.G,createGesture:()=>me});var a=$(4349);const X=(ie,Re,ot,$e)=>{const _e=B(ie)?{capture:!!$e.capture,passive:!!$e.passive}:!!$e.capture;let De,Je;return ie.__zone_symbol__addEventListener?(De="__zone_symbol__addEventListener",Je="__zone_symbol__removeEventListener"):(De="addEventListener",Je="removeEventListener"),ie[De](Re,ot,_e),()=>{ie[Je](Re,ot,_e)}},B=ie=>{if(void 0===Ce)try{const Re=Object.defineProperty({},"passive",{get:()=>{Ce=!0}});ie.addEventListener("optsTest",()=>{},Re)}catch(Re){Ce=!1}return!!Ce};let Ce;const he=ie=>ie instanceof Document?ie:ie.ownerDocument,me=ie=>{let Re=!1,ot=!1,$e=!0,_e=!1;const De=Object.assign({disableScroll:!1,direction:"x",gesturePriority:0,passive:!0,maxAngle:40,threshold:10},ie),Je=De.canStart,ee=De.onWillStart,nt=De.onStart,Be=De.onEnd,ct=De.notCaptured,Pe=De.onMove,st=De.threshold,de=De.passive,ye=De.blurOnStart,le={type:"pan",startX:0,startY:0,startTime:0,currentX:0,currentY:0,velocityX:0,velocityY:0,deltaX:0,deltaY:0,currentTime:0,event:void 0,data:void 0},W=((ie,Re,ot)=>{const $e=ot*(Math.PI/180),_e="x"===ie,De=Math.cos($e),Je=Re*Re;let ee=0,nt=0,Be=!1,ct=0;return{start(Pe,st){ee=Pe,nt=st,ct=0,Be=!0},detect(Pe,st){if(!Be)return!1;const de=Pe-ee,ye=st-nt,le=de*de+ye*ye;if(le<Je)return!1;const W=Math.sqrt(le),Y=(_e?de:ye)/W;return ct=Y>De?1:Y<-De?-1:0,Be=!1,!0},isGesture:()=>0!==ct,getDirection:()=>ct}})(De.direction,De.threshold,De.maxAngle),Y=a.G.createGesture({name:ie.gestureName,priority:ie.gesturePriority,disableScroll:ie.disableScroll}),ze=()=>{!Re||(_e=!1,Pe&&Pe(le))},pt=()=>!!Y.capture()&&(Re=!0,$e=!1,le.startX=le.currentX,le.startY=le.currentY,le.startTime=le.currentTime,ee?ee(le).then(We):We(),!0),We=()=>{ye&&(()=>{if("undefined"!=typeof document){const ft=document.activeElement;null!=ft&&ft.blur&&ft.blur()}})(),nt&&nt(le),$e=!0},Fe=()=>{Re=!1,ot=!1,_e=!1,$e=!0,Y.release()},Ne=ft=>{const et=Re,Lt=$e;if(Fe(),Lt){if(se(le,ft),et)return void(Be&&Be(le));ct&&ct(le)}},Ue=((ie,Re,ot,$e,_e)=>{let De,Je,ee,nt,Be,ct,Pe,st=0;const de=He=>{st=Date.now()+2e3,Re(He)&&(!Je&&ot&&(Je=X(ie,"touchmove",ot,_e)),ee||(ee=X(He.target,"touchend",le,_e)),nt||(nt=X(He.target,"touchcancel",le,_e)))},ye=He=>{st>Date.now()||!Re(He)||(!ct&&ot&&(ct=X(he(ie),"mousemove",ot,_e)),Pe||(Pe=X(he(ie),"mouseup",W,_e)))},le=He=>{Y(),$e&&$e(He)},W=He=>{Q(),$e&&$e(He)},Y=()=>{Je&&Je(),ee&&ee(),nt&&nt(),Je=ee=nt=void 0},Q=()=>{ct&&ct(),Pe&&Pe(),ct=Pe=void 0},Ie=()=>{Y(),Q()},ze=(He=!0)=>{He?(De||(De=X(ie,"touchstart",de,_e)),Be||(Be=X(ie,"mousedown",ye,_e))):(De&&De(),Be&&Be(),De=Be=void 0,Ie())};return{enable:ze,stop:Ie,destroy:()=>{ze(!1),$e=ot=Re=void 0}}})(De.el,ft=>{const et=ae(ft);return!(ot||!$e||(re(ft,le),le.startX=le.currentX,le.startY=le.currentY,le.startTime=le.currentTime=et,le.velocityX=le.velocityY=le.deltaX=le.deltaY=0,le.event=ft,Je&&!1===Je(le))||(Y.release(),!Y.start()))&&(ot=!0,0===st?pt():(W.start(le.startX,le.startY),!0))},ft=>{Re?!_e&&$e&&(_e=!0,se(le,ft),requestAnimationFrame(ze)):(se(le,ft),W.detect(le.currentX,le.currentY)&&(!W.isGesture()||!pt())&&Ve())},Ne,{capture:!1,passive:de}),Ve=()=>{Fe(),Ue.stop(),ct&&ct(le)};return{enable(ft=!0){ft||(Re&&Ne(void 0),Fe()),Ue.enable(ft)},destroy(){Y.destroy(),Ue.destroy()}}},se=(ie,Re)=>{if(!Re)return;const ot=ie.currentX,$e=ie.currentY,_e=ie.currentTime;re(Re,ie);const De=ie.currentX,Je=ie.currentY,nt=(ie.currentTime=ae(Re))-_e;if(nt>0&&nt<100){const ct=(Je-$e)/nt;ie.velocityX=(De-ot)/nt*.7+.3*ie.velocityX,ie.velocityY=.7*ct+.3*ie.velocityY}ie.deltaX=De-ie.startX,ie.deltaY=Je-ie.startY,ie.event=Re},re=(ie,Re)=>{let ot=0,$e=0;if(ie){const _e=ie.changedTouches;if(_e&&_e.length>0){const De=_e[0];ot=De.clientX,$e=De.clientY}else void 0!==ie.pageX&&(ot=ie.pageX,$e=ie.pageY)}Re.currentX=ot,Re.currentY=$e},ae=ie=>ie.timeStamp||Date.now()},9658:(Pt,Ze,$)=>{"use strict";$.d(Ze,{a:()=>re,b:()=>ze,c:()=>B,g:()=>se,i:()=>pt});var a=$(1308);class X{constructor(){this.m=new Map}reset(We){this.m=new Map(Object.entries(We))}get(We,Fe){const Ne=this.m.get(We);return void 0!==Ne?Ne:Fe}getBoolean(We,Fe=!1){const Ne=this.m.get(We);return void 0===Ne?Fe:"string"==typeof Ne?"true"===Ne:!!Ne}getNumber(We,Fe){const Ne=parseFloat(this.m.get(We));return isNaN(Ne)?void 0!==Fe?Fe:NaN:Ne}set(We,Fe){this.m.set(We,Fe)}}const B=new X,me="ionic-persist-config",se=He=>ae(He),re=(He,We)=>("string"==typeof He&&(We=He,He=void 0),se(He).includes(We)),ae=(He=window)=>{if(void 0===He)return[];He.Ionic=He.Ionic||{};let We=He.Ionic.platforms;return null==We&&(We=He.Ionic.platforms=ie(He),We.forEach(Fe=>He.document.documentElement.classList.add(`plt-${Fe}`))),We},ie=He=>{const We=B.get("platform");return Object.keys(Q).filter(Fe=>{const Ne=null==We?void 0:We[Fe];return"function"==typeof Ne?Ne(He):Q[Fe](He)})},ot=He=>!!(W(He,/iPad/i)||W(He,/Macintosh/i)&&Be(He)),De=He=>W(He,/android|sink/i),Be=He=>Y(He,"(any-pointer:coarse)"),Pe=He=>st(He)||de(He),st=He=>!!(He.cordova||He.phonegap||He.PhoneGap),de=He=>{const We=He.Capacitor;return!(null==We||!We.isNative)},W=(He,We)=>We.test(He.navigator.userAgent),Y=(He,We)=>{var Fe;return null===(Fe=He.matchMedia)||void 0===Fe?void 0:Fe.call(He,We).matches},Q={ipad:ot,iphone:He=>W(He,/iPhone/i),ios:He=>W(He,/iPhone|iPod/i)||ot(He),android:De,phablet:He=>{const We=He.innerWidth,Fe=He.innerHeight,Ne=Math.min(We,Fe),Ue=Math.max(We,Fe);return Ne>390&&Ne<520&&Ue>620&&Ue<800},tablet:He=>{const We=He.innerWidth,Fe=He.innerHeight,Ne=Math.min(We,Fe),Ue=Math.max(We,Fe);return ot(He)||(He=>De(He)&&!W(He,/mobile/i))(He)||Ne>460&&Ne<820&&Ue>780&&Ue<1400},cordova:st,capacitor:de,electron:He=>W(He,/electron/i),pwa:He=>{var We;return!(!(null===(We=He.matchMedia)||void 0===We?void 0:We.call(He,"(display-mode: standalone)").matches)&&!He.navigator.standalone)},mobile:Be,mobileweb:He=>Be(He)&&!Pe(He),desktop:He=>!Be(He),hybrid:Pe};let Ie;const ze=He=>He&&(0,a.g)(He)||Ie,pt=(He={})=>{if("undefined"==typeof window)return;const We=window.document,Fe=window,Ne=Fe.Ionic=Fe.Ionic||{},Ue={};He._ael&&(Ue.ael=He._ael),He._rel&&(Ue.rel=He._rel),He._ce&&(Ue.ce=He._ce),(0,a.s)(Ue);const Ve=Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},(He=>{try{const We=He.sessionStorage.getItem(me);return null!==We?JSON.parse(We):{}}catch(We){return{}}})(Fe)),{persistConfig:!1}),Ne.config),(He=>{const We={};return He.location.search.slice(1).split("&").map(Fe=>Fe.split("=")).map(([Fe,Ne])=>[decodeURIComponent(Fe),decodeURIComponent(Ne)]).filter(([Fe])=>((He,We)=>He.substr(0,We.length)===We)(Fe,"ionic:")).map(([Fe,Ne])=>[Fe.slice("ionic:".length),Ne]).forEach(([Fe,Ne])=>{We[Fe]=Ne}),We})(Fe)),He);B.reset(Ve),B.getBoolean("persistConfig")&&((He,We)=>{try{He.sessionStorage.setItem(me,JSON.stringify(We))}catch(Fe){return}})(Fe,Ve),ae(Fe),Ne.config=B,Ne.mode=Ie=B.get("mode",We.documentElement.getAttribute("mode")||(re(Fe,"ios")?"ios":"md")),B.set("mode",Ie),We.documentElement.setAttribute("mode",Ie),We.documentElement.classList.add(Ie),B.getBoolean("_testing")&&B.set("animated",!1);const ft=Lt=>{var Rt;return null===(Rt=Lt.tagName)||void 0===Rt?void 0:Rt.startsWith("ION-")},et=Lt=>["ios","md"].includes(Lt);(0,a.a)(Lt=>{for(;Lt;){const Rt=Lt.mode||Lt.getAttribute("mode");if(Rt){if(et(Rt))return Rt;ft(Lt)&&console.warn('Invalid ionic mode: "'+Rt+'", expected: "ios" or "md"')}Lt=Lt.parentElement}return Ie})}},129:(Pt,Ze,$)=>{"use strict";$.r(Ze),$.d(Ze,{iosTransitionAnimation:()=>ie,shadow:()=>he});var a=$(5942),X=$(664);$(3457),$(1308);const ce=Re=>document.querySelector(`${Re}.ion-cloned-element`),he=Re=>Re.shadowRoot||Re,be=Re=>{const ot="ION-TABS"===Re.tagName?Re:Re.querySelector("ion-tabs"),$e="ion-content ion-header:not(.header-collapse-condense-inactive) ion-title.title-large";if(null!=ot){const _e=ot.querySelector("ion-tab:not(.tab-hidden), .ion-page:not(.ion-page-hidden)");return null!=_e?_e.querySelector($e):null}return Re.querySelector($e)},me=(Re,ot)=>{const $e="ION-TABS"===Re.tagName?Re:Re.querySelector("ion-tabs");let _e=[];if(null!=$e){const De=$e.querySelector("ion-tab:not(.tab-hidden), .ion-page:not(.ion-page-hidden)");null!=De&&(_e=De.querySelectorAll("ion-buttons"))}else _e=Re.querySelectorAll("ion-buttons");for(const De of _e){const Je=De.closest("ion-header"),ee=Je&&!Je.classList.contains("header-collapse-condense-inactive"),nt=De.querySelector("ion-back-button"),Be=De.classList.contains("buttons-collapse"),ct="start"===De.slot||""===De.slot;if(null!==nt&&ct&&(Be&&ee&&ot||!Be))return nt}return null},re=(Re,ot,$e,_e,De,Je)=>{const ee=ot?`calc(100% - ${Je.right+4}px)`:Je.left-4+"px",nt=ot?"7px":"-7px",Be=ot?"-4px":"4px",ct=ot?"-4px":"4px",Pe=ot?"right":"left",st=ot?"left":"right",le=$e?[{offset:0,opacity:1,transform:`translate3d(${Be}, ${Je.top-46}px, 0) scale(1)`},{offset:.6,opacity:0},{offset:1,opacity:0,transform:`translate3d(${nt}, ${De.top-40}px, 0) scale(2.1)`}]:[{offset:0,opacity:0,transform:`translate3d(${nt}, ${De.top-40}px, 0) scale(2.1)`},{offset:1,opacity:1,transform:`translate3d(${Be}, ${Je.top-46}px, 0) scale(1)`}],Q=$e?[{offset:0,opacity:1,transform:`translate3d(${ct}, ${Je.top-46}px, 0) scale(1)`},{offset:.2,opacity:0,transform:`translate3d(${ct}, ${Je.top-41}px, 0) scale(0.6)`},{offset:1,opacity:0,transform:`translate3d(${ct}, ${Je.top-41}px, 0) scale(0.6)`}]:[{offset:0,opacity:0,transform:`translate3d(${ct}, ${Je.top-41}px, 0) scale(0.6)`},{offset:1,opacity:1,transform:`translate3d(${ct}, ${Je.top-46}px, 0) scale(1)`}],Ie=(0,a.c)(),ze=(0,a.c)(),pt=ce("ion-back-button"),He=he(pt).querySelector(".button-text"),We=he(pt).querySelector("ion-icon");pt.text=_e.text,pt.mode=_e.mode,pt.icon=_e.icon,pt.color=_e.color,pt.disabled=_e.disabled,pt.style.setProperty("display","block"),pt.style.setProperty("position","fixed"),ze.addElement(We),Ie.addElement(He),Ie.beforeStyles({"transform-origin":`${Pe} center`}).beforeAddWrite(()=>{_e.style.setProperty("display","none"),pt.style.setProperty(Pe,ee)}).afterAddWrite(()=>{_e.style.setProperty("display",""),pt.style.setProperty("display","none"),pt.style.removeProperty(Pe)}).keyframes(le),ze.beforeStyles({"transform-origin":`${st} center`}).keyframes(Q),Re.addAnimation([Ie,ze])},ae=(Re,ot,$e,_e,De,Je)=>{const ee=ot?`calc(100% - ${De.right}px)`:`${De.left}px`,nt=ot?"-18px":"18px",Be=ot?"right":"left",st=$e?[{offset:0,opacity:0,transform:`translate3d(${nt}, ${Je.top-4}px, 0) scale(0.49)`},{offset:.1,opacity:0},{offset:1,opacity:1,transform:`translate3d(0, ${De.top-2}px, 0) scale(1)`}]:[{offset:0,opacity:.99,transform:`translate3d(0, ${De.top-2}px, 0) scale(1)`},{offset:.6,opacity:0},{offset:1,opacity:0,transform:`translate3d(${nt}, ${Je.top-4}px, 0) scale(0.5)`}],de=ce("ion-title"),ye=(0,a.c)();de.innerText=_e.innerText,de.size=_e.size,de.color=_e.color,ye.addElement(de),ye.beforeStyles({"transform-origin":`${Be} center`,height:"46px",display:"",position:"relative",[Be]:ee}).beforeAddWrite(()=>{_e.style.setProperty("display","none")}).afterAddWrite(()=>{_e.style.setProperty("display",""),de.style.setProperty("display","none")}).keyframes(st),Re.addAnimation(ye)},ie=(Re,ot)=>{var $e;try{const _e="cubic-bezier(0.32,0.72,0,1)",De="opacity",Je="transform",ee="0%",Be="rtl"===Re.ownerDocument.dir,ct=Be?"-99.5%":"99.5%",Pe=Be?"33%":"-33%",st=ot.enteringEl,de=ot.leavingEl,ye="back"===ot.direction,le=st.querySelector(":scope > ion-content"),W=st.querySelectorAll(":scope > ion-header > *:not(ion-toolbar), :scope > ion-footer > *"),Y=st.querySelectorAll(":scope > ion-header > ion-toolbar"),Q=(0,a.c)(),Ie=(0,a.c)();if(Q.addElement(st).duration((null!==($e=ot.duration)&&void 0!==$e?$e:0)||540).easing(ot.easing||_e).fill("both").beforeRemoveClass("ion-page-invisible"),de&&null!=Re){const We=(0,a.c)();We.addElement(Re),Q.addAnimation(We)}if(le||0!==Y.length||0!==W.length?(Ie.addElement(le),Ie.addElement(W)):Ie.addElement(st.querySelector(":scope > .ion-page, :scope > ion-nav, :scope > ion-tabs")),Q.addAnimation(Ie),ye?Ie.beforeClearStyles([De]).fromTo("transform",`translateX(${Pe})`,`translateX(${ee})`).fromTo(De,.8,1):Ie.beforeClearStyles([De]).fromTo("transform",`translateX(${ct})`,`translateX(${ee})`),le){const We=he(le).querySelector(".transition-effect");if(We){const Fe=We.querySelector(".transition-cover"),Ne=We.querySelector(".transition-shadow"),Ue=(0,a.c)(),Ve=(0,a.c)(),ft=(0,a.c)();Ue.addElement(We).beforeStyles({opacity:"1",display:"block"}).afterStyles({opacity:"",display:""}),Ve.addElement(Fe).beforeClearStyles([De]).fromTo(De,0,.1),ft.addElement(Ne).beforeClearStyles([De]).fromTo(De,.03,.7),Ue.addAnimation([Ve,ft]),Ie.addAnimation([Ue])}}const ze=st.querySelector("ion-header.header-collapse-condense"),{forward:pt,backward:He}=((Re,ot,$e,_e,De)=>{const Je=me(_e,$e),ee=be(De),nt=be(_e),Be=me(De,$e),ct=null!==Je&&null!==ee&&!$e,Pe=null!==nt&&null!==Be&&$e;if(ct){const st=ee.getBoundingClientRect(),de=Je.getBoundingClientRect();ae(Re,ot,$e,ee,st,de),re(Re,ot,$e,Je,st,de)}else if(Pe){const st=nt.getBoundingClientRect(),de=Be.getBoundingClientRect();ae(Re,ot,$e,nt,st,de),re(Re,ot,$e,Be,st,de)}return{forward:ct,backward:Pe}})(Q,Be,ye,st,de);if(Y.forEach(We=>{const Fe=(0,a.c)();Fe.addElement(We),Q.addAnimation(Fe);const Ne=(0,a.c)();Ne.addElement(We.querySelector("ion-title"));const Ue=(0,a.c)(),Ve=Array.from(We.querySelectorAll("ion-buttons,[menuToggle]")),ft=We.closest("ion-header"),et=null==ft?void 0:ft.classList.contains("header-collapse-condense-inactive");let Lt;Lt=Ve.filter(ye?bn=>{const Mn=bn.classList.contains("buttons-collapse");return Mn&&!et||!Mn}:bn=>!bn.classList.contains("buttons-collapse")),Ue.addElement(Lt);const Rt=(0,a.c)();Rt.addElement(We.querySelectorAll(":scope > *:not(ion-title):not(ion-buttons):not([menuToggle])"));const xn=(0,a.c)();xn.addElement(he(We).querySelector(".toolbar-background"));const zt=(0,a.c)(),Kn=We.querySelector("ion-back-button");if(Kn&&zt.addElement(Kn),Fe.addAnimation([Ne,Ue,Rt,xn,zt]),Ue.fromTo(De,.01,1),Rt.fromTo(De,.01,1),ye)et||Ne.fromTo("transform",`translateX(${Pe})`,`translateX(${ee})`).fromTo(De,.01,1),Rt.fromTo("transform",`translateX(${Pe})`,`translateX(${ee})`),zt.fromTo(De,.01,1);else if(ze||Ne.fromTo("transform",`translateX(${ct})`,`translateX(${ee})`).fromTo(De,.01,1),Rt.fromTo("transform",`translateX(${ct})`,`translateX(${ee})`),xn.beforeClearStyles([De,"transform"]),(null==ft?void 0:ft.translucent)?xn.fromTo("transform",Be?"translateX(-100%)":"translateX(100%)","translateX(0px)"):xn.fromTo(De,.01,"var(--opacity)"),pt||zt.fromTo(De,.01,1),Kn&&!pt){const Mn=(0,a.c)();Mn.addElement(he(Kn).querySelector(".button-text")).fromTo("transform",Be?"translateX(-100px)":"translateX(100px)","translateX(0px)"),Fe.addAnimation(Mn)}}),de){const We=(0,a.c)(),Fe=de.querySelector(":scope > ion-content"),Ne=de.querySelectorAll(":scope > ion-header > ion-toolbar"),Ue=de.querySelectorAll(":scope > ion-header > *:not(ion-toolbar), :scope > ion-footer > *");if(Fe||0!==Ne.length||0!==Ue.length?(We.addElement(Fe),We.addElement(Ue)):We.addElement(de.querySelector(":scope > .ion-page, :scope > ion-nav, :scope > ion-tabs")),Q.addAnimation(We),ye){We.beforeClearStyles([De]).fromTo("transform",`translateX(${ee})`,Be?"translateX(-100%)":"translateX(100%)");const Ve=(0,X.g)(de);Q.afterAddWrite(()=>{"normal"===Q.getDirection()&&Ve.style.setProperty("display","none")})}else We.fromTo("transform",`translateX(${ee})`,`translateX(${Pe})`).fromTo(De,1,.8);if(Fe){const Ve=he(Fe).querySelector(".transition-effect");if(Ve){const ft=Ve.querySelector(".transition-cover"),et=Ve.querySelector(".transition-shadow"),Lt=(0,a.c)(),Rt=(0,a.c)(),xn=(0,a.c)();Lt.addElement(Ve).beforeStyles({opacity:"1",display:"block"}).afterStyles({opacity:"",display:""}),Rt.addElement(ft).beforeClearStyles([De]).fromTo(De,.1,0),xn.addElement(et).beforeClearStyles([De]).fromTo(De,.7,.03),Lt.addAnimation([Rt,xn]),We.addAnimation([Lt])}}Ne.forEach(Ve=>{const ft=(0,a.c)();ft.addElement(Ve);const et=(0,a.c)();et.addElement(Ve.querySelector("ion-title"));const Lt=(0,a.c)(),Rt=Ve.querySelectorAll("ion-buttons,[menuToggle]"),xn=Ve.closest("ion-header"),zt=null==xn?void 0:xn.classList.contains("header-collapse-condense-inactive"),Kn=Array.from(Rt).filter(Dr=>{const yn=Dr.classList.contains("buttons-collapse");return yn&&!zt||!yn});Lt.addElement(Kn);const bn=(0,a.c)(),Mn=Ve.querySelectorAll(":scope > *:not(ion-title):not(ion-buttons):not([menuToggle])");Mn.length>0&&bn.addElement(Mn);const $n=(0,a.c)();$n.addElement(he(Ve).querySelector(".toolbar-background"));const Jn=(0,a.c)(),er=Ve.querySelector("ion-back-button");if(er&&Jn.addElement(er),ft.addAnimation([et,Lt,bn,Jn,$n]),Q.addAnimation(ft),Jn.fromTo(De,.99,0),Lt.fromTo(De,.99,0),bn.fromTo(De,.99,0),ye){if(zt||et.fromTo("transform",`translateX(${ee})`,Be?"translateX(-100%)":"translateX(100%)").fromTo(De,.99,0),bn.fromTo("transform",`translateX(${ee})`,Be?"translateX(-100%)":"translateX(100%)"),$n.beforeClearStyles([De,"transform"]),(null==xn?void 0:xn.translucent)?$n.fromTo("transform","translateX(0px)",Be?"translateX(-100%)":"translateX(100%)"):$n.fromTo(De,"var(--opacity)",0),er&&!He){const yn=(0,a.c)();yn.addElement(he(er).querySelector(".button-text")).fromTo("transform",`translateX(${ee})`,`translateX(${(Be?-124:124)+"px"})`),ft.addAnimation(yn)}}else zt||et.fromTo("transform",`translateX(${ee})`,`translateX(${Pe})`).fromTo(De,.99,0).afterClearStyles([Je,De]),bn.fromTo("transform",`translateX(${ee})`,`translateX(${Pe})`).afterClearStyles([Je,De]),Jn.afterClearStyles([De]),et.afterClearStyles([De]),Lt.afterClearStyles([De])})}return Q}catch(_e){throw _e}}},1369:(Pt,Ze,$)=>{"use strict";$.r(Ze),$.d(Ze,{mdTransitionAnimation:()=>Te});var a=$(5942),X=$(664);$(3457),$(1308);const Te=(ce,he)=>{var be,me,se;const ie="back"===he.direction,ot=he.leavingEl,$e=(0,X.g)(he.enteringEl),_e=$e.querySelector("ion-toolbar"),De=(0,a.c)();if(De.addElement($e).fill("both").beforeRemoveClass("ion-page-invisible"),ie?De.duration((null!==(be=he.duration)&&void 0!==be?be:0)||200).easing("cubic-bezier(0.47,0,0.745,0.715)"):De.duration((null!==(me=he.duration)&&void 0!==me?me:0)||280).easing("cubic-bezier(0.36,0.66,0.04,1)").fromTo("transform","translateY(40px)","translateY(0px)").fromTo("opacity",.01,1),_e){const Je=(0,a.c)();Je.addElement(_e),De.addAnimation(Je)}if(ot&&ie){De.duration((null!==(se=he.duration)&&void 0!==se?se:0)||200).easing("cubic-bezier(0.47,0,0.745,0.715)");const Je=(0,a.c)();Je.addElement((0,X.g)(ot)).onFinish(ee=>{1===ee&&Je.elements.length>0&&Je.elements[0].style.setProperty("display","none")}).fromTo("transform","translateY(0px)","translateY(40px)").fromTo("opacity",1,0),De.addAnimation(Je)}return De}},4414:(Pt,Ze,$)=>{"use strict";$.d(Ze,{B:()=>Fe,a:()=>be,b:()=>me,c:()=>ie,d:()=>ye,e:()=>ot,f:()=>W,g:()=>Ie,h:()=>ce,i:()=>pt,j:()=>De,k:()=>st,m:()=>re,s:()=>We});var a=$(5861),X=$(9658),B=$(7593),Ce=$(5730);let Te=0;const ce=new WeakMap,he=Ne=>({create:Ue=>$e(Ne,Ue),dismiss:(Ue,Ve,ft)=>ct(document,Ue,Ve,Ne,ft),getTop:()=>(0,a.Z)(function*(){return st(document,Ne)})()}),be=he("ion-alert"),me=he("ion-action-sheet"),re=he("ion-modal"),ie=he("ion-popover"),ot=Ne=>{"undefined"!=typeof document&&Be(document);const Ue=Te++;Ne.overlayIndex=Ue,Ne.hasAttribute("id")||(Ne.id=`ion-overlay-${Ue}`)},$e=(Ne,Ue)=>"undefined"!=typeof window&&void 0!==window.customElements?window.customElements.whenDefined(Ne).then(()=>{const Ve=document.createElement(Ne);return Ve.classList.add("overlay-hidden"),Object.assign(Ve,Object.assign(Object.assign({},Ue),{hasController:!0})),Y(document).appendChild(Ve),new Promise(ft=>(0,Ce.c)(Ve,ft))}):Promise.resolve(),_e='[tabindex]:not([tabindex^="-"]):not([hidden]):not([disabled]), input:not([type=hidden]):not([tabindex^="-"]):not([hidden]):not([disabled]), textarea:not([tabindex^="-"]):not([hidden]):not([disabled]), button:not([tabindex^="-"]):not([hidden]):not([disabled]), select:not([tabindex^="-"]):not([hidden]):not([disabled]), .ion-focusable:not([tabindex^="-"]):not([hidden]):not([disabled]), .ion-focusable[disabled="false"]:not([tabindex^="-"]):not([hidden])',De=(Ne,Ue)=>{let Ve=Ne.querySelector(_e);const ft=null==Ve?void 0:Ve.shadowRoot;ft&&(Ve=ft.querySelector(_e)||Ve),Ve?(0,Ce.f)(Ve):Ue.focus()},ee=(Ne,Ue)=>{const Ve=Array.from(Ne.querySelectorAll(_e));let ft=Ve.length>0?Ve[Ve.length-1]:null;const et=null==ft?void 0:ft.shadowRoot;et&&(ft=et.querySelector(_e)||ft),ft?ft.focus():Ue.focus()},Be=Ne=>{0===Te&&(Te=1,Ne.addEventListener("focus",Ue=>{((Ne,Ue)=>{const Ve=st(Ue,"ion-alert,ion-action-sheet,ion-loading,ion-modal,ion-picker,ion-popover"),ft=Ne.target;Ve&&ft&&!Ve.classList.contains("ion-disable-focus-trap")&&(Ve.shadowRoot?(()=>{if(Ve.contains(ft))Ve.lastFocus=ft;else{const Rt=Ve.lastFocus;De(Ve,Ve),Rt===Ue.activeElement&&ee(Ve,Ve),Ve.lastFocus=Ue.activeElement}})():(()=>{if(Ve===ft)Ve.lastFocus=void 0;else{const Rt=(0,Ce.g)(Ve);if(!Rt.contains(ft))return;const xn=Rt.querySelector(".ion-overlay-wrapper");if(!xn)return;if(xn.contains(ft))Ve.lastFocus=ft;else{const zt=Ve.lastFocus;De(xn,Ve),zt===Ue.activeElement&&ee(xn,Ve),Ve.lastFocus=Ue.activeElement}}})())})(Ue,Ne)},!0),Ne.addEventListener("ionBackButton",Ue=>{const Ve=st(Ne);null!=Ve&&Ve.backdropDismiss&&Ue.detail.register(B.OVERLAY_BACK_BUTTON_PRIORITY,()=>Ve.dismiss(void 0,Fe))}),Ne.addEventListener("keyup",Ue=>{if("Escape"===Ue.key){const Ve=st(Ne);null!=Ve&&Ve.backdropDismiss&&Ve.dismiss(void 0,Fe)}}))},ct=(Ne,Ue,Ve,ft,et)=>{const Lt=st(Ne,ft,et);return Lt?Lt.dismiss(Ue,Ve):Promise.reject("overlay does not exist")},st=(Ne,Ue,Ve)=>{const ft=((Ne,Ue)=>(void 0===Ue&&(Ue="ion-alert,ion-action-sheet,ion-loading,ion-modal,ion-picker,ion-popover,ion-toast"),Array.from(Ne.querySelectorAll(Ue)).filter(Ve=>Ve.overlayIndex>0)))(Ne,Ue).filter(et=>!(Ne=>Ne.classList.contains("overlay-hidden"))(et));return void 0===Ve?ft[ft.length-1]:ft.find(et=>et.id===Ve)},de=(Ne=!1)=>{const Ve=Y(document).querySelector("ion-router-outlet, ion-nav, #ion-view-container-root");!Ve||(Ne?Ve.setAttribute("aria-hidden","true"):Ve.removeAttribute("aria-hidden"))},ye=function(){var Ne=(0,a.Z)(function*(Ue,Ve,ft,et,Lt){var Rt,xn;if(Ue.presented)return;de(!0),Ue.presented=!0,Ue.willPresent.emit(),null===(Rt=Ue.willPresentShorthand)||void 0===Rt||Rt.emit();const zt=(0,X.b)(Ue),Kn=Ue.enterAnimation?Ue.enterAnimation:X.c.get(Ve,"ios"===zt?ft:et);(yield Q(Ue,Kn,Ue.el,Lt))&&(Ue.didPresent.emit(),null===(xn=Ue.didPresentShorthand)||void 0===xn||xn.emit()),"ION-TOAST"!==Ue.el.tagName&&le(Ue.el),Ue.keyboardClose&&(null===document.activeElement||!Ue.el.contains(document.activeElement))&&Ue.el.focus()});return function(Ve,ft,et,Lt,Rt){return Ne.apply(this,arguments)}}(),le=function(){var Ne=(0,a.Z)(function*(Ue){let Ve=document.activeElement;if(!Ve)return;const ft=null==Ve?void 0:Ve.shadowRoot;ft&&(Ve=ft.querySelector(_e)||Ve),yield Ue.onDidDismiss(),Ve.focus()});return function(Ve){return Ne.apply(this,arguments)}}(),W=function(){var Ne=(0,a.Z)(function*(Ue,Ve,ft,et,Lt,Rt,xn){var zt,Kn;if(!Ue.presented)return!1;de(!1),Ue.presented=!1;try{Ue.el.style.setProperty("pointer-events","none"),Ue.willDismiss.emit({data:Ve,role:ft}),null===(zt=Ue.willDismissShorthand)||void 0===zt||zt.emit({data:Ve,role:ft});const bn=(0,X.b)(Ue),Mn=Ue.leaveAnimation?Ue.leaveAnimation:X.c.get(et,"ios"===bn?Lt:Rt);"gesture"!==ft&&(yield Q(Ue,Mn,Ue.el,xn)),Ue.didDismiss.emit({data:Ve,role:ft}),null===(Kn=Ue.didDismissShorthand)||void 0===Kn||Kn.emit({data:Ve,role:ft}),ce.delete(Ue),Ue.el.classList.add("overlay-hidden"),Ue.el.style.removeProperty("pointer-events")}catch(bn){console.error(bn)}return Ue.el.remove(),!0});return function(Ve,ft,et,Lt,Rt,xn,zt){return Ne.apply(this,arguments)}}(),Y=Ne=>Ne.querySelector("ion-app")||Ne.body,Q=function(){var Ne=(0,a.Z)(function*(Ue,Ve,ft,et){ft.classList.remove("overlay-hidden");const Rt=Ve(Ue.el,et);(!Ue.animated||!X.c.getBoolean("animated",!0))&&Rt.duration(0),Ue.keyboardClose&&Rt.beforeAddWrite(()=>{const zt=ft.ownerDocument.activeElement;null!=zt&&zt.matches("input,ion-input, ion-textarea")&&zt.blur()});const xn=ce.get(Ue)||[];return ce.set(Ue,[...xn,Rt]),yield Rt.play(),!0});return function(Ve,ft,et,Lt){return Ne.apply(this,arguments)}}(),Ie=(Ne,Ue)=>{let Ve;const ft=new Promise(et=>Ve=et);return ze(Ne,Ue,et=>{Ve(et.detail)}),ft},ze=(Ne,Ue,Ve)=>{const ft=et=>{(0,Ce.b)(Ne,Ue,ft),Ve(et)};(0,Ce.a)(Ne,Ue,ft)},pt=Ne=>"cancel"===Ne||Ne===Fe,He=Ne=>Ne(),We=(Ne,Ue)=>{if("function"==typeof Ne)return X.c.get("_zoneGate",He)(()=>{try{return Ne(Ue)}catch(ft){throw ft}})},Fe="backdrop"},3543:(Pt,Ze,$)=>{"use strict";var a=$(2313),X=$(6435),B=$(1115),Ce=$(4153),Te=$(4598);let ce=(()=>{class ie{constructor(){}}return ie.\u0275fac=function(ot){return new(ot||ie)},ie.\u0275cmp=X.Xpm({type:ie,selectors:[["app-root"]],decls:2,vars:0,template:function(ot,$e){1&ot&&(X.TgZ(0,"ion-app"),X._UZ(1,"ion-router-outlet"),X.qZA())},dependencies:[Ce.dr,Ce.jP]}),ie})();const he=[{path:"home",loadChildren:()=>$.e(4042).then($.bind($,4042)).then(ie=>ie.HomePageModule)},{path:"",redirectTo:"home",pathMatch:"full"}];let be=(()=>{class ie{}return ie.\u0275fac=function(ot){return new(ot||ie)},ie.\u0275mod=X.oAB({type:ie}),ie.\u0275inj=X.cJS({imports:[B.Bz.forRoot(he,{preloadingStrategy:B.wm}),B.Bz]}),ie})();const me_firebase={apiKey:"AIzaSyDE1-ier5SJ9qQglRC3AcBHx0WceX9RO0o",authDomain:"testbed-dashboard-15011.firebaseapp.com",projectId:"testbed-dashboard-15011",storageBucket:"testbed-dashboard-15011.appspot.com",messagingSenderId:"833449035509",appId:"1:833449035509:web:4a4835d15deb733aeee7bc",measurementId:"G-KL6KCTPBWL"};var se=$(2011),re=$(7591);let ae=(()=>{class ie{}return ie.\u0275fac=function(ot){return new(ot||ie)},ie.\u0275mod=X.oAB({type:ie,bootstrap:[ce]}),ie.\u0275inj=X.cJS({providers:[Te.A,{provide:B.wN,useClass:Ce.r4}],imports:[a.b2,Ce.Pc.forRoot(),be,se.hO.initializeApp(me_firebase),re.yb]}),ie})();(0,X.G48)(),a.q6().bootstrapModule(ae).catch(ie=>console.log(ie))},591:(Pt,Ze,$)=>{"use strict";$.d(Ze,{X:()=>B});var a=$(8929),X=$(5279);class B extends a.xQ{constructor(Te){super(),this._value=Te}get value(){return this.getValue()}_subscribe(Te){const ce=super._subscribe(Te);return ce&&!ce.closed&&Te.next(this._value),ce}getValue(){if(this.hasError)throw this.thrownError;if(this.closed)throw new X.N;return this._value}next(Te){super.next(this._value=Te)}}},6498:(Pt,Ze,$)=>{"use strict";$.d(Ze,{y:()=>me});var a=$(3489),B=$(7668),Ce=$(3292),ce=$(3821),he=$(4843),be=$(2830);let me=(()=>{class re{constructor(ie){this._isScalar=!1,ie&&(this._subscribe=ie)}lift(ie){const Re=new re;return Re.source=this,Re.operator=ie,Re}subscribe(ie,Re,ot){const{operator:$e}=this,_e=function Te(re,ae,ie){if(re){if(re instanceof a.L)return re;if(re[B.b])return re[B.b]()}return re||ae||ie?new a.L(re,ae,ie):new a.L(Ce.c)}(ie,Re,ot);if(_e.add($e?$e.call(_e,this.source):this.source||be.v.useDeprecatedSynchronousErrorHandling&&!_e.syncErrorThrowable?this._subscribe(_e):this._trySubscribe(_e)),be.v.useDeprecatedSynchronousErrorHandling&&_e.syncErrorThrowable&&(_e.syncErrorThrowable=!1,_e.syncErrorThrown))throw _e.syncErrorValue;return _e}_trySubscribe(ie){try{return this._subscribe(ie)}catch(Re){be.v.useDeprecatedSynchronousErrorHandling&&(ie.syncErrorThrown=!0,ie.syncErrorValue=Re),function X(re){for(;re;){const{closed:ae,destination:ie,isStopped:Re}=re;if(ae||Re)return!1;re=ie&&ie instanceof a.L?ie:null}return!0}(ie)?ie.error(Re):console.warn(Re)}}forEach(ie,Re){return new(Re=se(Re))((ot,$e)=>{let _e;_e=this.subscribe(De=>{try{ie(De)}catch(Je){$e(Je),_e&&_e.unsubscribe()}},$e,ot)})}_subscribe(ie){const{source:Re}=this;return Re&&Re.subscribe(ie)}[ce.L](){return this}pipe(...ie){return 0===ie.length?this:(0,he.U)(ie)(this)}toPromise(ie){return new(ie=se(ie))((Re,ot)=>{let $e;this.subscribe(_e=>$e=_e,_e=>ot(_e),()=>Re($e))})}}return re.create=ae=>new re(ae),re})();function se(re){if(re||(re=be.v.Promise||Promise),!re)throw new Error("no Promise impl found");return re}},3292:(Pt,Ze,$)=>{"use strict";$.d(Ze,{c:()=>B});var a=$(2830),X=$(2782);const B={closed:!0,next(Ce){},error(Ce){if(a.v.useDeprecatedSynchronousErrorHandling)throw Ce;(0,X.z)(Ce)},complete(){}}},8929:(Pt,Ze,$)=>{"use strict";$.d(Ze,{Yc:()=>he,xQ:()=>be});var a=$(6498),X=$(3489),B=$(2654),Ce=$(5279),Te=$(5283),ce=$(7668);class he extends X.L{constructor(re){super(re),this.destination=re}}let be=(()=>{class se extends a.y{constructor(){super(),this.observers=[],this.closed=!1,this.isStopped=!1,this.hasError=!1,this.thrownError=null}[ce.b](){return new he(this)}lift(ae){const ie=new me(this,this);return ie.operator=ae,ie}next(ae){if(this.closed)throw new Ce.N;if(!this.isStopped){const{observers:ie}=this,Re=ie.length,ot=ie.slice();for(let $e=0;$e<Re;$e++)ot[$e].next(ae)}}error(ae){if(this.closed)throw new Ce.N;this.hasError=!0,this.thrownError=ae,this.isStopped=!0;const{observers:ie}=this,Re=ie.length,ot=ie.slice();for(let $e=0;$e<Re;$e++)ot[$e].error(ae);this.observers.length=0}complete(){if(this.closed)throw new Ce.N;this.isStopped=!0;const{observers:ae}=this,ie=ae.length,Re=ae.slice();for(let ot=0;ot<ie;ot++)Re[ot].complete();this.observers.length=0}unsubscribe(){this.isStopped=!0,this.closed=!0,this.observers=null}_trySubscribe(ae){if(this.closed)throw new Ce.N;return super._trySubscribe(ae)}_subscribe(ae){if(this.closed)throw new Ce.N;return this.hasError?(ae.error(this.thrownError),B.w.EMPTY):this.isStopped?(ae.complete(),B.w.EMPTY):(this.observers.push(ae),new Te.W(this,ae))}asObservable(){const ae=new a.y;return ae.source=this,ae}}return se.create=(re,ae)=>new me(re,ae),se})();class me extends be{constructor(re,ae){super(),this.destination=re,this.source=ae}next(re){const{destination:ae}=this;ae&&ae.next&&ae.next(re)}error(re){const{destination:ae}=this;ae&&ae.error&&this.destination.error(re)}complete(){const{destination:re}=this;re&&re.complete&&this.destination.complete()}_subscribe(re){const{source:ae}=this;return ae?this.source.subscribe(re):B.w.EMPTY}}},5283:(Pt,Ze,$)=>{"use strict";$.d(Ze,{W:()=>X});var a=$(2654);class X extends a.w{constructor(Ce,Te){super(),this.subject=Ce,this.subscriber=Te,this.closed=!1}unsubscribe(){if(this.closed)return;this.closed=!0;const Ce=this.subject,Te=Ce.observers;if(this.subject=null,!Te||0===Te.length||Ce.isStopped||Ce.closed)return;const ce=Te.indexOf(this.subscriber);-1!==ce&&Te.splice(ce,1)}}},3489:(Pt,Ze,$)=>{"use strict";$.d(Ze,{L:()=>he});var a=$(7043),X=$(3292),B=$(2654),Ce=$(7668),Te=$(2830),ce=$(2782);class he extends B.w{constructor(se,re,ae){switch(super(),this.syncErrorValue=null,this.syncErrorThrown=!1,this.syncErrorThrowable=!1,this.isStopped=!1,arguments.length){case 0:this.destination=X.c;break;case 1:if(!se){this.destination=X.c;break}if("object"==typeof se){se instanceof he?(this.syncErrorThrowable=se.syncErrorThrowable,this.destination=se,se.add(this)):(this.syncErrorThrowable=!0,this.destination=new be(this,se));break}default:this.syncErrorThrowable=!0,this.destination=new be(this,se,re,ae)}}[Ce.b](){return this}static create(se,re,ae){const ie=new he(se,re,ae);return ie.syncErrorThrowable=!1,ie}next(se){this.isStopped||this._next(se)}error(se){this.isStopped||(this.isStopped=!0,this._error(se))}complete(){this.isStopped||(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe())}_next(se){this.destination.next(se)}_error(se){this.destination.error(se),this.unsubscribe()}_complete(){this.destination.complete(),this.unsubscribe()}_unsubscribeAndRecycle(){const{_parentOrParents:se}=this;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=se,this}}class be extends he{constructor(se,re,ae,ie){super(),this._parentSubscriber=se;let Re,ot=this;(0,a.m)(re)?Re=re:re&&(Re=re.next,ae=re.error,ie=re.complete,re!==X.c&&(ot=Object.create(re),(0,a.m)(ot.unsubscribe)&&this.add(ot.unsubscribe.bind(ot)),ot.unsubscribe=this.unsubscribe.bind(this))),this._context=ot,this._next=Re,this._error=ae,this._complete=ie}next(se){if(!this.isStopped&&this._next){const{_parentSubscriber:re}=this;Te.v.useDeprecatedSynchronousErrorHandling&&re.syncErrorThrowable?this.__tryOrSetError(re,this._next,se)&&this.unsubscribe():this.__tryOrUnsub(this._next,se)}}error(se){if(!this.isStopped){const{_parentSubscriber:re}=this,{useDeprecatedSynchronousErrorHandling:ae}=Te.v;if(this._error)ae&&re.syncErrorThrowable?(this.__tryOrSetError(re,this._error,se),this.unsubscribe()):(this.__tryOrUnsub(this._error,se),this.unsubscribe());else if(re.syncErrorThrowable)ae?(re.syncErrorValue=se,re.syncErrorThrown=!0):(0,ce.z)(se),this.unsubscribe();else{if(this.unsubscribe(),ae)throw se;(0,ce.z)(se)}}}complete(){if(!this.isStopped){const{_parentSubscriber:se}=this;if(this._complete){const re=()=>this._complete.call(this._context);Te.v.useDeprecatedSynchronousErrorHandling&&se.syncErrorThrowable?(this.__tryOrSetError(se,re),this.unsubscribe()):(this.__tryOrUnsub(re),this.unsubscribe())}else this.unsubscribe()}}__tryOrUnsub(se,re){try{se.call(this._context,re)}catch(ae){if(this.unsubscribe(),Te.v.useDeprecatedSynchronousErrorHandling)throw ae;(0,ce.z)(ae)}}__tryOrSetError(se,re,ae){if(!Te.v.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{re.call(this._context,ae)}catch(ie){return Te.v.useDeprecatedSynchronousErrorHandling?(se.syncErrorValue=ie,se.syncErrorThrown=!0,!0):((0,ce.z)(ie),!0)}return!1}_unsubscribe(){const{_parentSubscriber:se}=this;this._context=null,this._parentSubscriber=null,se.unsubscribe()}}},2654:(Pt,Ze,$)=>{"use strict";$.d(Ze,{w:()=>ce});var a=$(6688),X=$(7830),B=$(7043);const Te=(()=>{function be(me){return Error.call(this),this.message=me?`${me.length} errors occurred during unsubscription:\n${me.map((se,re)=>`${re+1}) ${se.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=me,this}return be.prototype=Object.create(Error.prototype),be})();class ce{constructor(me){this.closed=!1,this._parentOrParents=null,this._subscriptions=null,me&&(this._ctorUnsubscribe=!0,this._unsubscribe=me)}unsubscribe(){let me;if(this.closed)return;let{_parentOrParents:se,_ctorUnsubscribe:re,_unsubscribe:ae,_subscriptions:ie}=this;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,se instanceof ce)se.remove(this);else if(null!==se)for(let Re=0;Re<se.length;++Re)se[Re].remove(this);if((0,B.m)(ae)){re&&(this._unsubscribe=void 0);try{ae.call(this)}catch(Re){me=Re instanceof Te?he(Re.errors):[Re]}}if((0,a.k)(ie)){let Re=-1,ot=ie.length;for(;++Re<ot;){const $e=ie[Re];if((0,X.K)($e))try{$e.unsubscribe()}catch(_e){me=me||[],_e instanceof Te?me=me.concat(he(_e.errors)):me.push(_e)}}}if(me)throw new Te(me)}add(me){let se=me;if(!me)return ce.EMPTY;switch(typeof me){case"function":se=new ce(me);case"object":if(se===this||se.closed||"function"!=typeof se.unsubscribe)return se;if(this.closed)return se.unsubscribe(),se;if(!(se instanceof ce)){const ie=se;se=new ce,se._subscriptions=[ie]}break;default:throw new Error("unrecognized teardown "+me+" added to Subscription.")}let{_parentOrParents:re}=se;if(null===re)se._parentOrParents=this;else if(re instanceof ce){if(re===this)return se;se._parentOrParents=[re,this]}else{if(-1!==re.indexOf(this))return se;re.push(this)}const ae=this._subscriptions;return null===ae?this._subscriptions=[se]:ae.push(se),se}remove(me){const se=this._subscriptions;if(se){const re=se.indexOf(me);-1!==re&&se.splice(re,1)}}}var be;function he(be){return be.reduce((me,se)=>me.concat(se instanceof Te?se.errors:se),[])}ce.EMPTY=((be=new ce).closed=!0,be)},2830:(Pt,Ze,$)=>{"use strict";$.d(Ze,{v:()=>X});let a=!1;const X={Promise:void 0,set useDeprecatedSynchronousErrorHandling(B){if(B){const Ce=new Error;console.warn("DEPRECATED! RxJS was set to use deprecated synchronous error handling behavior by code at: \n"+Ce.stack)}else a&&console.log("RxJS: Back to a better error behavior. Thank you. <3");a=B},get useDeprecatedSynchronousErrorHandling(){return a}}},1177:(Pt,Ze,$)=>{"use strict";$.d(Ze,{Ds:()=>ce,IY:()=>Ce,ft:()=>be});var a=$(3489),X=$(6498),B=$(9249);class Ce extends a.L{constructor(se){super(),this.parent=se}_next(se){this.parent.notifyNext(se)}_error(se){this.parent.notifyError(se),this.unsubscribe()}_complete(){this.parent.notifyComplete(),this.unsubscribe()}}class ce extends a.L{notifyNext(se){this.destination.next(se)}notifyError(se){this.destination.error(se)}notifyComplete(){this.destination.complete()}}function be(me,se){if(se.closed)return;if(me instanceof X.y)return me.subscribe(se);let re;try{re=(0,B.s)(me)(se)}catch(ae){se.error(ae)}return re}},1762:(Pt,Ze,$)=>{"use strict";$.d(Ze,{N:()=>ce,c:()=>Te});var a=$(8929),X=$(6498),B=$(2654),Ce=$(4327);class Te extends X.y{constructor(re,ae){super(),this.source=re,this.subjectFactory=ae,this._refCount=0,this._isComplete=!1}_subscribe(re){return this.getSubject().subscribe(re)}getSubject(){const re=this._subject;return(!re||re.isStopped)&&(this._subject=this.subjectFactory()),this._subject}connect(){let re=this._connection;return re||(this._isComplete=!1,re=this._connection=new B.w,re.add(this.source.subscribe(new he(this.getSubject(),this))),re.closed&&(this._connection=null,re=B.w.EMPTY)),re}refCount(){return(0,Ce.x)()(this)}}const ce=(()=>{const se=Te.prototype;return{operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:se._subscribe},_isComplete:{value:se._isComplete,writable:!0},getSubject:{value:se.getSubject},connect:{value:se.connect},refCount:{value:se.refCount}}})();class he extends a.Yc{constructor(re,ae){super(re),this.connectable=ae}_error(re){this._unsubscribe(),super._error(re)}_complete(){this.connectable._isComplete=!0,this._unsubscribe(),super._complete()}_unsubscribe(){const re=this.connectable;if(re){this.connectable=null;const ae=re._connection;re._refCount=0,re._subject=null,re._connection=null,ae&&ae.unsubscribe()}}}},1221:(Pt,Ze,$)=>{"use strict";$.d(Ze,{z:()=>Ce});var a=$(1086),X=$(9146);function Ce(...Te){return function B(){return(0,X.J)(1)}()((0,a.of)(...Te))}},8896:(Pt,Ze,$)=>{"use strict";$.d(Ze,{E:()=>X,c:()=>B});var a=$(6498);const X=new a.y(Te=>Te.complete());function B(Te){return Te?function Ce(Te){return new a.y(ce=>Te.schedule(()=>ce.complete()))}(Te):X}},5254:(Pt,Ze,$)=>{"use strict";$.d(Ze,{D:()=>ot});var a=$(6498),X=$(9249),B=$(2654),Ce=$(3821),he=$(6454),be=$(5430),re=$(8955),ae=$(8515);function ot($e,_e){return _e?function Re($e,_e){if(null!=$e){if(function se($e){return $e&&"function"==typeof $e[Ce.L]}($e))return function Te($e,_e){return new a.y(De=>{const Je=new B.w;return Je.add(_e.schedule(()=>{const ee=$e[Ce.L]();Je.add(ee.subscribe({next(nt){Je.add(_e.schedule(()=>De.next(nt)))},error(nt){Je.add(_e.schedule(()=>De.error(nt)))},complete(){Je.add(_e.schedule(()=>De.complete()))}}))})),Je})}($e,_e);if((0,re.t)($e))return function ce($e,_e){return new a.y(De=>{const Je=new B.w;return Je.add(_e.schedule(()=>$e.then(ee=>{Je.add(_e.schedule(()=>{De.next(ee),Je.add(_e.schedule(()=>De.complete()))}))},ee=>{Je.add(_e.schedule(()=>De.error(ee)))}))),Je})}($e,_e);if((0,ae.z)($e))return(0,he.r)($e,_e);if(function ie($e){return $e&&"function"==typeof $e[be.hZ]}($e)||"string"==typeof $e)return function me($e,_e){if(!$e)throw new Error("Iterable cannot be null");return new a.y(De=>{const Je=new B.w;let ee;return Je.add(()=>{ee&&"function"==typeof ee.return&&ee.return()}),Je.add(_e.schedule(()=>{ee=$e[be.hZ](),Je.add(_e.schedule(function(){if(De.closed)return;let nt,Be;try{const ct=ee.next();nt=ct.value,Be=ct.done}catch(ct){return void De.error(ct)}Be?De.complete():(De.next(nt),this.schedule())}))})),Je})}($e,_e)}throw new TypeError((null!==$e&&typeof $e||$e)+" is not observable")}($e,_e):$e instanceof a.y?$e:new a.y((0,X.s)($e))}},3009:(Pt,Ze,$)=>{"use strict";$.d(Ze,{n:()=>Ce});var a=$(6498),X=$(3650),B=$(6454);function Ce(Te,ce){return ce?(0,B.r)(Te,ce):new a.y((0,X.V)(Te))}},6787:(Pt,Ze,$)=>{"use strict";$.d(Ze,{T:()=>Te});var a=$(6498),X=$(2866),B=$(9146),Ce=$(3009);function Te(...ce){let he=Number.POSITIVE_INFINITY,be=null,me=ce[ce.length-1];return(0,X.K)(me)?(be=ce.pop(),ce.length>1&&"number"==typeof ce[ce.length-1]&&(he=ce.pop())):"number"==typeof me&&(he=ce.pop()),null===be&&1===ce.length&&ce[0]instanceof a.y?ce[0]:(0,B.J)(he)((0,Ce.n)(ce,be))}},1086:(Pt,Ze,$)=>{"use strict";$.d(Ze,{of:()=>Ce});var a=$(2866),X=$(3009),B=$(6454);function Ce(...Te){let ce=Te[Te.length-1];return(0,a.K)(ce)?(Te.pop(),(0,B.r)(Te,ce)):(0,X.n)(Te)}},1737:(Pt,Ze,$)=>{"use strict";$.d(Ze,{_:()=>X});var a=$(6498);function X(Ce,Te){return new a.y(Te?ce=>Te.schedule(B,0,{error:Ce,subscriber:ce}):ce=>ce.error(Ce))}function B({error:Ce,subscriber:Te}){Te.error(Ce)}},1406:(Pt,Ze,$)=>{"use strict";$.d(Ze,{b:()=>X});var a=$(1709);function X(B,Ce){return(0,a.zg)(B,Ce,1)}},7314:(Pt,Ze,$)=>{"use strict";$.d(Ze,{d:()=>X});var a=$(3489);function X(Te=null){return ce=>ce.lift(new B(Te))}class B{constructor(ce){this.defaultValue=ce}call(ce,he){return he.subscribe(new Ce(ce,this.defaultValue))}}class Ce extends a.L{constructor(ce,he){super(ce),this.defaultValue=he,this.isEmpty=!0}_next(ce){this.isEmpty=!1,this.destination.next(ce)}_complete(){this.isEmpty&&this.destination.next(this.defaultValue),this.destination.complete()}}},5778:(Pt,Ze,$)=>{"use strict";$.d(Ze,{x:()=>X});var a=$(3489);function X(Te,ce){return he=>he.lift(new B(Te,ce))}class B{constructor(ce,he){this.compare=ce,this.keySelector=he}call(ce,he){return he.subscribe(new Ce(ce,this.compare,this.keySelector))}}class Ce extends a.L{constructor(ce,he,be){super(ce),this.keySelector=be,this.hasKey=!1,"function"==typeof he&&(this.compare=he)}compare(ce,he){return ce===he}_next(ce){let he;try{const{keySelector:me}=this;he=me?me(ce):ce}catch(me){return this.destination.error(me)}let be=!1;if(this.hasKey)try{const{compare:me}=this;be=me(this.key,he)}catch(me){return this.destination.error(me)}else this.hasKey=!0;be||(this.key=he,this.destination.next(ce))}}},2198:(Pt,Ze,$)=>{"use strict";$.d(Ze,{h:()=>X});var a=$(3489);function X(Te,ce){return function(be){return be.lift(new B(Te,ce))}}class B{constructor(ce,he){this.predicate=ce,this.thisArg=he}call(ce,he){return he.subscribe(new Ce(ce,this.predicate,this.thisArg))}}class Ce extends a.L{constructor(ce,he,be){super(ce),this.predicate=he,this.thisArg=be,this.count=0}_next(ce){let he;try{he=this.predicate.call(this.thisArg,ce,this.count++)}catch(be){return void this.destination.error(be)}he&&this.destination.next(ce)}}},7224:(Pt,Ze,$)=>{"use strict";$.d(Ze,{P:()=>he});var a=$(4450),X=$(2198),B=$(2986),Ce=$(7314),Te=$(4907),ce=$(5379);function he(be,me){const se=arguments.length>=2;return re=>re.pipe(be?(0,X.h)((ae,ie)=>be(ae,ie,re)):ce.y,(0,B.q)(1),se?(0,Ce.d)(me):(0,Te.T)(()=>new a.K))}},4850:(Pt,Ze,$)=>{"use strict";$.d(Ze,{U:()=>X});var a=$(3489);function X(Te,ce){return function(be){if("function"!=typeof Te)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return be.lift(new B(Te,ce))}}class B{constructor(ce,he){this.project=ce,this.thisArg=he}call(ce,he){return he.subscribe(new Ce(ce,this.project,this.thisArg))}}class Ce extends a.L{constructor(ce,he,be){super(ce),this.project=he,this.count=0,this.thisArg=be||this}_next(ce){let he;try{he=this.project.call(this.thisArg,ce,this.count++)}catch(be){return void this.destination.error(be)}this.destination.next(he)}}},9146:(Pt,Ze,$)=>{"use strict";$.d(Ze,{J:()=>B});var a=$(1709),X=$(5379);function B(Ce=Number.POSITIVE_INFINITY){return(0,a.zg)(X.y,Ce)}},1709:(Pt,Ze,$)=>{"use strict";$.d(Ze,{zg:()=>Ce});var a=$(4850),X=$(5254),B=$(1177);function Ce(be,me,se=Number.POSITIVE_INFINITY){return"function"==typeof me?re=>re.pipe(Ce((ae,ie)=>(0,X.D)(be(ae,ie)).pipe((0,a.U)((Re,ot)=>me(ae,Re,ie,ot))),se)):("number"==typeof me&&(se=me),re=>re.lift(new Te(be,se)))}class Te{constructor(me,se=Number.POSITIVE_INFINITY){this.project=me,this.concurrent=se}call(me,se){return se.subscribe(new ce(me,this.project,this.concurrent))}}class ce extends B.Ds{constructor(me,se,re=Number.POSITIVE_INFINITY){super(me),this.project=se,this.concurrent=re,this.hasCompleted=!1,this.buffer=[],this.active=0,this.index=0}_next(me){this.active<this.concurrent?this._tryNext(me):this.buffer.push(me)}_tryNext(me){let se;const re=this.index++;try{se=this.project(me,re)}catch(ae){return void this.destination.error(ae)}this.active++,this._innerSub(se)}_innerSub(me){const se=new B.IY(this),re=this.destination;re.add(se);const ae=(0,B.ft)(me,se);ae!==se&&re.add(ae)}_complete(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete(),this.unsubscribe()}notifyNext(me){this.destination.next(me)}notifyComplete(){const me=this.buffer;this.active--,me.length>0?this._next(me.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()}}},2102:(Pt,Ze,$)=>{"use strict";$.d(Ze,{ht:()=>me,QV:()=>he});var a=$(3489),X=$(8896),B=$(1086),Ce=$(1737);class ce{constructor(ae,ie,Re){this.kind=ae,this.value=ie,this.error=Re,this.hasValue="N"===ae}observe(ae){switch(this.kind){case"N":return ae.next&&ae.next(this.value);case"E":return ae.error&&ae.error(this.error);case"C":return ae.complete&&ae.complete()}}do(ae,ie,Re){switch(this.kind){case"N":return ae&&ae(this.value);case"E":return ie&&ie(this.error);case"C":return Re&&Re()}}accept(ae,ie,Re){return ae&&"function"==typeof ae.next?this.observe(ae):this.do(ae,ie,Re)}toObservable(){switch(this.kind){case"N":return(0,B.of)(this.value);case"E":return(0,Ce._)(this.error);case"C":return(0,X.c)()}throw new Error("unexpected notification kind value")}static createNext(ae){return void 0!==ae?new ce("N",ae):ce.undefinedValueNotification}static createError(ae){return new ce("E",void 0,ae)}static createComplete(){return ce.completeNotification}}function he(re,ae=0){return function(Re){return Re.lift(new be(re,ae))}}ce.completeNotification=new ce("C"),ce.undefinedValueNotification=new ce("N",void 0);class be{constructor(ae,ie=0){this.scheduler=ae,this.delay=ie}call(ae,ie){return ie.subscribe(new me(ae,this.scheduler,this.delay))}}class me extends a.L{constructor(ae,ie,Re=0){super(ae),this.scheduler=ie,this.delay=Re}static dispatch(ae){const{notification:ie,destination:Re}=ae;ie.observe(Re),this.unsubscribe()}scheduleMessage(ae){this.destination.add(this.scheduler.schedule(me.dispatch,this.delay,new se(ae,this.destination)))}_next(ae){this.scheduleMessage(ce.createNext(ae))}_error(ae){this.scheduleMessage(ce.createError(ae)),this.unsubscribe()}_complete(){this.scheduleMessage(ce.createComplete()),this.unsubscribe()}}class se{constructor(ae,ie){this.notification=ae,this.destination=ie}}},4327:(Pt,Ze,$)=>{"use strict";$.d(Ze,{x:()=>X});var a=$(3489);function X(){return function(ce){return ce.lift(new B(ce))}}class B{constructor(ce){this.connectable=ce}call(ce,he){const{connectable:be}=this;be._refCount++;const me=new Ce(ce,be),se=he.subscribe(me);return me.closed||(me.connection=be.connect()),se}}class Ce extends a.L{constructor(ce,he){super(ce),this.connectable=he}_unsubscribe(){const{connectable:ce}=this;if(!ce)return void(this.connection=null);this.connectable=null;const he=ce._refCount;if(he<=0)return void(this.connection=null);if(ce._refCount=he-1,he>1)return void(this.connection=null);const{connection:be}=this,me=ce._connection;this.connection=null,me&&(!be||me===be)&&me.unsubscribe()}}},2014:(Pt,Ze,$)=>{"use strict";$.d(Ze,{R:()=>X});var a=$(3489);function X(Te,ce){let he=!1;return arguments.length>=2&&(he=!0),function(me){return me.lift(new B(Te,ce,he))}}class B{constructor(ce,he,be=!1){this.accumulator=ce,this.seed=he,this.hasSeed=be}call(ce,he){return he.subscribe(new Ce(ce,this.accumulator,this.seed,this.hasSeed))}}class Ce extends a.L{constructor(ce,he,be,me){super(ce),this.accumulator=he,this._seed=be,this.hasSeed=me,this.index=0}get seed(){return this._seed}set seed(ce){this.hasSeed=!0,this._seed=ce}_next(ce){if(this.hasSeed)return this._tryNext(ce);this.seed=ce,this.destination.next(ce)}_tryNext(ce){const he=this.index++;let be;try{be=this.accumulator(this.seed,ce,he)}catch(me){this.destination.error(me)}this.seed=be,this.destination.next(be)}}},1059:(Pt,Ze,$)=>{"use strict";$.d(Ze,{O:()=>B});var a=$(1221),X=$(2866);function B(...Ce){const Te=Ce[Ce.length-1];return(0,X.K)(Te)?(Ce.pop(),ce=>(0,a.z)(Ce,ce,Te)):ce=>(0,a.z)(Ce,ce)}},8915:(Pt,Ze,$)=>{"use strict";$.d(Ze,{R:()=>_e});var a=$(6498);let X=1;const B=Promise.resolve(),Ce={};function Te(Je){return Je in Ce&&(delete Ce[Je],!0)}const ce={setImmediate(Je){const ee=X++;return Ce[ee]=!0,B.then(()=>Te(ee)&&Je()),ee},clearImmediate(Je){Te(Je)}};var be=$(6686),se=$(2268);const ie=new class re extends se.v{flush(ee){this.active=!0,this.scheduled=void 0;const{actions:nt}=this;let Be,ct=-1,Pe=nt.length;ee=ee||nt.shift();do{if(Be=ee.execute(ee.state,ee.delay))break}while(++ct<Pe&&(ee=nt.shift()));if(this.active=!1,Be){for(;++ct<Pe&&(ee=nt.shift());)ee.unsubscribe();throw Be}}}(class me extends be.o{constructor(ee,nt){super(ee,nt),this.scheduler=ee,this.work=nt}requestAsyncId(ee,nt,Be=0){return null!==Be&&Be>0?super.requestAsyncId(ee,nt,Be):(ee.actions.push(this),ee.scheduled||(ee.scheduled=ce.setImmediate(ee.flush.bind(ee,null))))}recycleAsyncId(ee,nt,Be=0){if(null!==Be&&Be>0||null===Be&&this.delay>0)return super.recycleAsyncId(ee,nt,Be);0===ee.actions.length&&(ce.clearImmediate(nt),ee.scheduled=void 0)}});var Re=$(6688);class $e extends a.y{constructor(ee,nt=0,Be=ie){super(),this.source=ee,this.delayTime=nt,this.scheduler=Be,(!function ot(Je){return!(0,Re.k)(Je)&&Je-parseFloat(Je)+1>=0}(nt)||nt<0)&&(this.delayTime=0),(!Be||"function"!=typeof Be.schedule)&&(this.scheduler=ie)}static create(ee,nt=0,Be=ie){return new $e(ee,nt,Be)}static dispatch(ee){const{source:nt,subscriber:Be}=ee;return this.add(nt.subscribe(Be))}_subscribe(ee){return this.scheduler.schedule($e.dispatch,this.delayTime,{source:this.source,subscriber:ee})}}function _e(Je,ee=0){return function(Be){return Be.lift(new De(Je,ee))}}class De{constructor(ee,nt){this.scheduler=ee,this.delay=nt}call(ee,nt){return new $e(nt,this.delay,this.scheduler).subscribe(ee)}}},7545:(Pt,Ze,$)=>{"use strict";$.d(Ze,{w:()=>Ce});var a=$(4850),X=$(5254),B=$(1177);function Ce(he,be){return"function"==typeof be?me=>me.pipe(Ce((se,re)=>(0,X.D)(he(se,re)).pipe((0,a.U)((ae,ie)=>be(se,ae,re,ie))))):me=>me.lift(new Te(he))}class Te{constructor(be){this.project=be}call(be,me){return me.subscribe(new ce(be,this.project))}}class ce extends B.Ds{constructor(be,me){super(be),this.project=me,this.index=0}_next(be){let me;const se=this.index++;try{me=this.project(be,se)}catch(re){return void this.destination.error(re)}this._innerSub(me)}_innerSub(be){const me=this.innerSubscription;me&&me.unsubscribe();const se=new B.IY(this),re=this.destination;re.add(se),this.innerSubscription=(0,B.ft)(be,se),this.innerSubscription!==se&&re.add(this.innerSubscription)}_complete(){const{innerSubscription:be}=this;(!be||be.closed)&&super._complete(),this.unsubscribe()}_unsubscribe(){this.innerSubscription=void 0}notifyComplete(){this.innerSubscription=void 0,this.isStopped&&super._complete()}notifyNext(be){this.destination.next(be)}}},2986:(Pt,Ze,$)=>{"use strict";$.d(Ze,{q:()=>Ce});var a=$(3489),X=$(4231),B=$(8896);function Ce(he){return be=>0===he?(0,B.c)():be.lift(new Te(he))}class Te{constructor(be){if(this.total=be,this.total<0)throw new X.W}call(be,me){return me.subscribe(new ce(be,this.total))}}class ce extends a.L{constructor(be,me){super(be),this.total=me,this.count=0}_next(be){const me=this.total,se=++this.count;se<=me&&(this.destination.next(be),se===me&&(this.destination.complete(),this.unsubscribe()))}}},2868:(Pt,Ze,$)=>{"use strict";$.d(Ze,{b:()=>Ce});var a=$(3489);function X(){}var B=$(7043);function Ce(he,be,me){return function(re){return re.lift(new Te(he,be,me))}}class Te{constructor(be,me,se){this.nextOrObserver=be,this.error=me,this.complete=se}call(be,me){return me.subscribe(new ce(be,this.nextOrObserver,this.error,this.complete))}}class ce extends a.L{constructor(be,me,se,re){super(be),this._tapNext=X,this._tapError=X,this._tapComplete=X,this._tapError=se||X,this._tapComplete=re||X,(0,B.m)(me)?(this._context=this,this._tapNext=me):me&&(this._context=me,this._tapNext=me.next||X,this._tapError=me.error||X,this._tapComplete=me.complete||X)}_next(be){try{this._tapNext.call(this._context,be)}catch(me){return void this.destination.error(me)}this.destination.next(be)}_error(be){try{this._tapError.call(this._context,be)}catch(me){return void this.destination.error(me)}this.destination.error(be)}_complete(){try{this._tapComplete.call(this._context)}catch(be){return void this.destination.error(be)}return this.destination.complete()}}},4907:(Pt,Ze,$)=>{"use strict";$.d(Ze,{T:()=>B});var a=$(4450),X=$(3489);function B(he=ce){return be=>be.lift(new Ce(he))}class Ce{constructor(be){this.errorFactory=be}call(be,me){return me.subscribe(new Te(be,this.errorFactory))}}class Te extends X.L{constructor(be,me){super(be),this.errorFactory=me,this.hasValue=!1}_next(be){this.hasValue=!0,this.destination.next(be)}_complete(){if(this.hasValue)return this.destination.complete();{let be;try{be=this.errorFactory()}catch(me){be=me}this.destination.error(be)}}}function ce(){return new a.K}},6454:(Pt,Ze,$)=>{"use strict";$.d(Ze,{r:()=>B});var a=$(6498),X=$(2654);function B(Ce,Te){return new a.y(ce=>{const he=new X.w;let be=0;return he.add(Te.schedule(function(){be!==Ce.length?(ce.next(Ce[be++]),ce.closed||he.add(this.schedule())):ce.complete()})),he})}},6686:(Pt,Ze,$)=>{"use strict";$.d(Ze,{o:()=>B});var a=$(2654);class X extends a.w{constructor(Te,ce){super()}schedule(Te,ce=0){return this}}class B extends X{constructor(Te,ce){super(Te,ce),this.scheduler=Te,this.work=ce,this.pending=!1}schedule(Te,ce=0){if(this.closed)return this;this.state=Te;const he=this.id,be=this.scheduler;return null!=he&&(this.id=this.recycleAsyncId(be,he,ce)),this.pending=!0,this.delay=ce,this.id=this.id||this.requestAsyncId(be,this.id,ce),this}requestAsyncId(Te,ce,he=0){return setInterval(Te.flush.bind(Te,this),he)}recycleAsyncId(Te,ce,he=0){if(null!==he&&this.delay===he&&!1===this.pending)return ce;clearInterval(ce)}execute(Te,ce){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const he=this._execute(Te,ce);if(he)return he;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(Te,ce){let be,he=!1;try{this.work(Te)}catch(me){he=!0,be=!!me&&me||new Error(me)}if(he)return this.unsubscribe(),be}_unsubscribe(){const Te=this.id,ce=this.scheduler,he=ce.actions,be=he.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,-1!==be&&he.splice(be,1),null!=Te&&(this.id=this.recycleAsyncId(ce,Te,null)),this.delay=null}}},2268:(Pt,Ze,$)=>{"use strict";$.d(Ze,{v:()=>X});let a=(()=>{class B{constructor(Te,ce=B.now){this.SchedulerAction=Te,this.now=ce}schedule(Te,ce=0,he){return new this.SchedulerAction(this,Te).schedule(he,ce)}}return B.now=()=>Date.now(),B})();class X extends a{constructor(Ce,Te=a.now){super(Ce,()=>X.delegate&&X.delegate!==this?X.delegate.now():Te()),this.actions=[],this.active=!1,this.scheduled=void 0}schedule(Ce,Te=0,ce){return X.delegate&&X.delegate!==this?X.delegate.schedule(Ce,Te,ce):super.schedule(Ce,Te,ce)}flush(Ce){const{actions:Te}=this;if(this.active)return void Te.push(Ce);let ce;this.active=!0;do{if(ce=Ce.execute(Ce.state,Ce.delay))break}while(Ce=Te.shift());if(this.active=!1,ce){for(;Ce=Te.shift();)Ce.unsubscribe();throw ce}}}},353:(Pt,Ze,$)=>{"use strict";$.d(Ze,{z:()=>B});var a=$(6686);const B=new($(2268).v)(a.o)},341:(Pt,Ze,$)=>{"use strict";$.d(Ze,{c:()=>ce,N:()=>Te});var a=$(6686),B=$(2268);const Te=new class Ce extends B.v{}(class X extends a.o{constructor(be,me){super(be,me),this.scheduler=be,this.work=me}schedule(be,me=0){return me>0?super.schedule(be,me):(this.delay=me,this.state=be,this.scheduler.flush(this),this)}execute(be,me){return me>0||this.closed?super.execute(be,me):this._execute(be,me)}requestAsyncId(be,me,se=0){return null!==se&&se>0||null===se&&this.delay>0?super.requestAsyncId(be,me,se):be.flush(this)}}),ce=Te},5430:(Pt,Ze,$)=>{"use strict";$.d(Ze,{hZ:()=>X});const X=function a(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},3821:(Pt,Ze,$)=>{"use strict";$.d(Ze,{L:()=>a});const a="function"==typeof Symbol&&Symbol.observable||"@@observable"},7668:(Pt,Ze,$)=>{"use strict";$.d(Ze,{b:()=>a});const a="function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random()},4231:(Pt,Ze,$)=>{"use strict";$.d(Ze,{W:()=>X});const X=(()=>{function B(){return Error.call(this),this.message="argument out of range",this.name="ArgumentOutOfRangeError",this}return B.prototype=Object.create(Error.prototype),B})()},4450:(Pt,Ze,$)=>{"use strict";$.d(Ze,{K:()=>X});const X=(()=>{function B(){return Error.call(this),this.message="no elements in sequence",this.name="EmptyError",this}return B.prototype=Object.create(Error.prototype),B})()},5279:(Pt,Ze,$)=>{"use strict";$.d(Ze,{N:()=>X});const X=(()=>{function B(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}return B.prototype=Object.create(Error.prototype),B})()},2782:(Pt,Ze,$)=>{"use strict";function a(X){setTimeout(()=>{throw X},0)}$.d(Ze,{z:()=>a})},5379:(Pt,Ze,$)=>{"use strict";function a(X){return X}$.d(Ze,{y:()=>a})},6688:(Pt,Ze,$)=>{"use strict";$.d(Ze,{k:()=>a});const a=Array.isArray||(X=>X&&"number"==typeof X.length)},8515:(Pt,Ze,$)=>{"use strict";$.d(Ze,{z:()=>a});const a=X=>X&&"number"==typeof X.length&&"function"!=typeof X},7043:(Pt,Ze,$)=>{"use strict";function a(X){return"function"==typeof X}$.d(Ze,{m:()=>a})},7830:(Pt,Ze,$)=>{"use strict";function a(X){return null!==X&&"object"==typeof X}$.d(Ze,{K:()=>a})},8955:(Pt,Ze,$)=>{"use strict";function a(X){return!!X&&"function"!=typeof X.subscribe&&"function"==typeof X.then}$.d(Ze,{t:()=>a})},2866:(Pt,Ze,$)=>{"use strict";function a(X){return X&&"function"==typeof X.schedule}$.d(Ze,{K:()=>a})},4843:(Pt,Ze,$)=>{"use strict";$.d(Ze,{U:()=>B,z:()=>X});var a=$(5379);function X(...Ce){return B(Ce)}function B(Ce){return 0===Ce.length?a.y:1===Ce.length?Ce[0]:function(ce){return Ce.reduce((he,be)=>be(he),ce)}}},9249:(Pt,Ze,$)=>{"use strict";$.d(Ze,{s:()=>re});var a=$(3650),X=$(2782),Ce=$(5430),ce=$(3821),be=$(8515),me=$(8955),se=$(7830);const re=ae=>{if(ae&&"function"==typeof ae[ce.L])return(ae=>ie=>{const Re=ae[ce.L]();if("function"!=typeof Re.subscribe)throw new TypeError("Provided object does not correctly implement Symbol.observable");return Re.subscribe(ie)})(ae);if((0,be.z)(ae))return(0,a.V)(ae);if((0,me.t)(ae))return(ae=>ie=>(ae.then(Re=>{ie.closed||(ie.next(Re),ie.complete())},Re=>ie.error(Re)).then(null,X.z),ie))(ae);if(ae&&"function"==typeof ae[Ce.hZ])return(ae=>ie=>{const Re=ae[Ce.hZ]();for(;;){let ot;try{ot=Re.next()}catch($e){return ie.error($e),ie}if(ot.done){ie.complete();break}if(ie.next(ot.value),ie.closed)break}return"function"==typeof Re.return&&ie.add(()=>{Re.return&&Re.return()}),ie})(ae);{const Re=`You provided ${(0,se.K)(ae)?"an invalid object":`'${ae}'`} where a stream was expected. You can provide an Observable, Promise, Array, or Iterable.`;throw new TypeError(Re)}}},3650:(Pt,Ze,$)=>{"use strict";$.d(Ze,{V:()=>a});const a=X=>B=>{for(let Ce=0,Te=X.length;Ce<Te&&!B.closed;Ce++)B.next(X[Ce]);B.complete()}},863:(Pt,Ze,$)=>{var a={"./ion-accordion_2.entry.js":[9654,8592,9654],"./ion-action-sheet.entry.js":[3648,8592,3648],"./ion-alert.entry.js":[1118,8592,1118],"./ion-app_8.entry.js":[53,8592,3236],"./ion-avatar_3.entry.js":[4753,4753],"./ion-back-button.entry.js":[2073,8592,2073],"./ion-backdrop.entry.js":[8939,8939],"./ion-breadcrumb_2.entry.js":[7544,8592,7544],"./ion-button_2.entry.js":[5652,5652],"./ion-card_5.entry.js":[388,388],"./ion-checkbox.entry.js":[9922,9922],"./ion-chip.entry.js":[657,657],"./ion-col_3.entry.js":[9824,9824],"./ion-datetime-button.entry.js":[9230,1435,9230],"./ion-datetime_3.entry.js":[4959,1435,8592,4959],"./ion-fab_3.entry.js":[5836,8592,5836],"./ion-img.entry.js":[1033,1033],"./ion-infinite-scroll_2.entry.js":[8034,8592,5817],"./ion-input.entry.js":[1217,1217],"./ion-item-option_3.entry.js":[2933,8592,4651],"./ion-item_8.entry.js":[4711,8592,4711],"./ion-loading.entry.js":[9434,8592,9434],"./ion-menu_3.entry.js":[8136,8592,8136],"./ion-modal.entry.js":[2349,8592,2349],"./ion-nav_2.entry.js":[5349,8592,5349],"./ion-picker-column-internal.entry.js":[7602,8592,7602],"./ion-picker-internal.entry.js":[9016,9016],"./ion-popover.entry.js":[3804,8592,3804],"./ion-progress-bar.entry.js":[4174,4174],"./ion-radio_2.entry.js":[4432,4432],"./ion-range.entry.js":[3545,8592,1709],"./ion-refresher_2.entry.js":[3326,8592,2175],"./ion-reorder_2.entry.js":[3583,8592,1186],"./ion-ripple-effect.entry.js":[9958,9958],"./ion-route_4.entry.js":[4330,4330],"./ion-searchbar.entry.js":[8628,8592,8628],"./ion-segment_2.entry.js":[9325,8592,9325],"./ion-select_3.entry.js":[2773,2773],"./ion-slide_2.entry.js":[1650,1650],"./ion-spinner.entry.js":[4908,8592,4908],"./ion-split-pane.entry.js":[9536,9536],"./ion-tab-bar_2.entry.js":[438,8592,438],"./ion-tab_2.entry.js":[1536,8592,1536],"./ion-text.entry.js":[4376,4376],"./ion-textarea.entry.js":[6560,6560],"./ion-toast.entry.js":[6120,8592,6120],"./ion-toggle.entry.js":[5168,8592,5168],"./ion-virtual-scroll.entry.js":[2289,2289]};function X(B){if(!$.o(a,B))return Promise.resolve().then(()=>{var ce=new Error("Cannot find module '"+B+"'");throw ce.code="MODULE_NOT_FOUND",ce});var Ce=a[B],Te=Ce[0];return Promise.all(Ce.slice(1).map($.e)).then(()=>$(Te))}X.keys=()=>Object.keys(a),X.id=863,Pt.exports=X},655:(Pt,Ze,$)=>{"use strict";$.d(Ze,{ZT:()=>X,_T:()=>Ce,gn:()=>Te,mG:()=>be});var a=function(le,W){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(Y,Q){Y.__proto__=Q}||function(Y,Q){for(var Ie in Q)Object.prototype.hasOwnProperty.call(Q,Ie)&&(Y[Ie]=Q[Ie])})(le,W)};function X(le,W){if("function"!=typeof W&&null!==W)throw new TypeError("Class extends value "+String(W)+" is not a constructor or null");function Y(){this.constructor=le}a(le,W),le.prototype=null===W?Object.create(W):(Y.prototype=W.prototype,new Y)}function Ce(le,W){var Y={};for(var Q in le)Object.prototype.hasOwnProperty.call(le,Q)&&W.indexOf(Q)<0&&(Y[Q]=le[Q]);if(null!=le&&"function"==typeof Object.getOwnPropertySymbols){var Ie=0;for(Q=Object.getOwnPropertySymbols(le);Ie<Q.length;Ie++)W.indexOf(Q[Ie])<0&&Object.prototype.propertyIsEnumerable.call(le,Q[Ie])&&(Y[Q[Ie]]=le[Q[Ie]])}return Y}function Te(le,W,Y,Q){var pt,Ie=arguments.length,ze=Ie<3?W:null===Q?Q=Object.getOwnPropertyDescriptor(W,Y):Q;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)ze=Reflect.decorate(le,W,Y,Q);else for(var He=le.length-1;He>=0;He--)(pt=le[He])&&(ze=(Ie<3?pt(ze):Ie>3?pt(W,Y,ze):pt(W,Y))||ze);return Ie>3&&ze&&Object.defineProperty(W,Y,ze),ze}function be(le,W,Y,Q){return new(Y||(Y=Promise))(function(ze,pt){function He(Ne){try{Fe(Q.next(Ne))}catch(Ue){pt(Ue)}}function We(Ne){try{Fe(Q.throw(Ne))}catch(Ue){pt(Ue)}}function Fe(Ne){Ne.done?ze(Ne.value):function Ie(ze){return ze instanceof Y?ze:new Y(function(pt){pt(ze)})}(Ne.value).then(He,We)}Fe((Q=Q.apply(le,W||[])).next())})}},9808:(Pt,Ze,$)=>{"use strict";$.d(Ze,{Do:()=>ee,EM:()=>ts,HT:()=>Te,JF:()=>hs,K0:()=>he,Mx:()=>oi,O5:()=>pe,PM:()=>Wr,S$:()=>_e,V_:()=>se,Ye:()=>nt,b0:()=>Je,bD:()=>Yr,ez:()=>Ai,q:()=>B,sg:()=>Ti,tP:()=>An,w_:()=>ce});var a=$(6435);let X=null;function B(){return X}function Te(R){X||(X=R)}class ce{}const he=new a.OlP("DocumentToken");let be=(()=>{class R{historyGo(P){throw new Error("Not implemented")}}return R.\u0275fac=function(P){return new(P||R)},R.\u0275prov=a.Yz7({token:R,factory:function(){return function me(){return(0,a.LFG)(re)}()},providedIn:"platform"}),R})();const se=new a.OlP("Location Initialized");let re=(()=>{class R extends be{constructor(P){super(),this._doc=P,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return B().getBaseHref(this._doc)}onPopState(P){const K=B().getGlobalEventTarget(this._doc,"window");return K.addEventListener("popstate",P,!1),()=>K.removeEventListener("popstate",P)}onHashChange(P){const K=B().getGlobalEventTarget(this._doc,"window");return K.addEventListener("hashchange",P,!1),()=>K.removeEventListener("hashchange",P)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(P){this.location.pathname=P}pushState(P,K,Me){ae()?this._history.pushState(P,K,Me):this.location.hash=Me}replaceState(P,K,Me){ae()?this._history.replaceState(P,K,Me):this.location.hash=Me}forward(){this._history.forward()}back(){this._history.back()}historyGo(P=0){this._history.go(P)}getState(){return this._history.state}}return R.\u0275fac=function(P){return new(P||R)(a.LFG(he))},R.\u0275prov=a.Yz7({token:R,factory:function(){return function ie(){return new re((0,a.LFG)(he))}()},providedIn:"platform"}),R})();function ae(){return!!window.history.pushState}function Re(R,z){if(0==R.length)return z;if(0==z.length)return R;let P=0;return R.endsWith("/")&&P++,z.startsWith("/")&&P++,2==P?R+z.substring(1):1==P?R+z:R+"/"+z}function ot(R){const z=R.match(/#|\?|$/),P=z&&z.index||R.length;return R.slice(0,P-("/"===R[P-1]?1:0))+R.slice(P)}function $e(R){return R&&"?"!==R[0]?"?"+R:R}let _e=(()=>{class R{historyGo(P){throw new Error("Not implemented")}}return R.\u0275fac=function(P){return new(P||R)},R.\u0275prov=a.Yz7({token:R,factory:function(){return(0,a.f3M)(Je)},providedIn:"root"}),R})();const De=new a.OlP("appBaseHref");let Je=(()=>{class R extends _e{constructor(P,K){var Me,ht,Ct;super(),this._platformLocation=P,this._removeListenerFns=[],this._baseHref=null!==(Ct=null!==(Me=null!=K?K:this._platformLocation.getBaseHrefFromDOM())&&void 0!==Me?Me:null===(ht=(0,a.f3M)(he).location)||void 0===ht?void 0:ht.origin)&&void 0!==Ct?Ct:""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(P){this._removeListenerFns.push(this._platformLocation.onPopState(P),this._platformLocation.onHashChange(P))}getBaseHref(){return this._baseHref}prepareExternalUrl(P){return Re(this._baseHref,P)}path(P=!1){const K=this._platformLocation.pathname+$e(this._platformLocation.search),Me=this._platformLocation.hash;return Me&&P?`${K}${Me}`:K}pushState(P,K,Me,ht){const Ct=this.prepareExternalUrl(Me+$e(ht));this._platformLocation.pushState(P,K,Ct)}replaceState(P,K,Me,ht){const Ct=this.prepareExternalUrl(Me+$e(ht));this._platformLocation.replaceState(P,K,Ct)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(P=0){var K,Me;null===(Me=(K=this._platformLocation).historyGo)||void 0===Me||Me.call(K,P)}}return R.\u0275fac=function(P){return new(P||R)(a.LFG(be),a.LFG(De,8))},R.\u0275prov=a.Yz7({token:R,factory:R.\u0275fac,providedIn:"root"}),R})(),ee=(()=>{class R extends _e{constructor(P,K){super(),this._platformLocation=P,this._baseHref="",this._removeListenerFns=[],null!=K&&(this._baseHref=K)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(P){this._removeListenerFns.push(this._platformLocation.onPopState(P),this._platformLocation.onHashChange(P))}getBaseHref(){return this._baseHref}path(P=!1){let K=this._platformLocation.hash;return null==K&&(K="#"),K.length>0?K.substring(1):K}prepareExternalUrl(P){const K=Re(this._baseHref,P);return K.length>0?"#"+K:K}pushState(P,K,Me,ht){let Ct=this.prepareExternalUrl(Me+$e(ht));0==Ct.length&&(Ct=this._platformLocation.pathname),this._platformLocation.pushState(P,K,Ct)}replaceState(P,K,Me,ht){let Ct=this.prepareExternalUrl(Me+$e(ht));0==Ct.length&&(Ct=this._platformLocation.pathname),this._platformLocation.replaceState(P,K,Ct)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(P=0){var K,Me;null===(Me=(K=this._platformLocation).historyGo)||void 0===Me||Me.call(K,P)}}return R.\u0275fac=function(P){return new(P||R)(a.LFG(be),a.LFG(De,8))},R.\u0275prov=a.Yz7({token:R,factory:R.\u0275fac}),R})(),nt=(()=>{class R{constructor(P){this._subject=new a.vpe,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=P;const K=this._locationStrategy.getBaseHref();this._baseHref=ot(Pe(K)),this._locationStrategy.onPopState(Me=>{this._subject.emit({url:this.path(!0),pop:!0,state:Me.state,type:Me.type})})}ngOnDestroy(){var P;null===(P=this._urlChangeSubscription)||void 0===P||P.unsubscribe(),this._urlChangeListeners=[]}path(P=!1){return this.normalize(this._locationStrategy.path(P))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(P,K=""){return this.path()==this.normalize(P+$e(K))}normalize(P){return R.stripTrailingSlash(function ct(R,z){return R&&z.startsWith(R)?z.substring(R.length):z}(this._baseHref,Pe(P)))}prepareExternalUrl(P){return P&&"/"!==P[0]&&(P="/"+P),this._locationStrategy.prepareExternalUrl(P)}go(P,K="",Me=null){this._locationStrategy.pushState(Me,"",P,K),this._notifyUrlChangeListeners(this.prepareExternalUrl(P+$e(K)),Me)}replaceState(P,K="",Me=null){this._locationStrategy.replaceState(Me,"",P,K),this._notifyUrlChangeListeners(this.prepareExternalUrl(P+$e(K)),Me)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(P=0){var K,Me;null===(Me=(K=this._locationStrategy).historyGo)||void 0===Me||Me.call(K,P)}onUrlChange(P){return this._urlChangeListeners.push(P),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(K=>{this._notifyUrlChangeListeners(K.url,K.state)})),()=>{var K;const Me=this._urlChangeListeners.indexOf(P);this._urlChangeListeners.splice(Me,1),0===this._urlChangeListeners.length&&(null===(K=this._urlChangeSubscription)||void 0===K||K.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(P="",K){this._urlChangeListeners.forEach(Me=>Me(P,K))}subscribe(P,K,Me){return this._subject.subscribe({next:P,error:K,complete:Me})}}return R.normalizeQueryParams=$e,R.joinWithSlash=Re,R.stripTrailingSlash=ot,R.\u0275fac=function(P){return new(P||R)(a.LFG(_e))},R.\u0275prov=a.Yz7({token:R,factory:function(){return function Be(){return new nt((0,a.LFG)(_e))}()},providedIn:"root"}),R})();function Pe(R){return R.replace(/\/index.html$/,"")}function oi(R,z){z=encodeURIComponent(z);for(const P of R.split(";")){const K=P.indexOf("="),[Me,ht]=-1==K?[P,""]:[P.slice(0,K),P.slice(K+1)];if(Me.trim()===z)return decodeURIComponent(ht)}return null}class Si{constructor(z,P,K,Me){this.$implicit=z,this.ngForOf=P,this.index=K,this.count=Me}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let Ti=(()=>{class R{constructor(P,K,Me){this._viewContainer=P,this._template=K,this._differs=Me,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(P){this._ngForOf=P,this._ngForOfDirty=!0}set ngForTrackBy(P){this._trackByFn=P}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(P){P&&(this._template=P)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const P=this._ngForOf;!this._differ&&P&&(this._differ=this._differs.find(P).create(this.ngForTrackBy))}if(this._differ){const P=this._differ.diff(this._ngForOf);P&&this._applyChanges(P)}}_applyChanges(P){const K=this._viewContainer;P.forEachOperation((Me,ht,Ct)=>{if(null==Me.previousIndex)K.createEmbeddedView(this._template,new Si(Me.item,this._ngForOf,-1,-1),null===Ct?void 0:Ct);else if(null==Ct)K.remove(null===ht?void 0:ht);else if(null!==ht){const rn=K.get(ht);K.move(rn,Ct),br(rn,Me)}});for(let Me=0,ht=K.length;Me<ht;Me++){const rn=K.get(Me).context;rn.index=Me,rn.count=ht,rn.ngForOf=this._ngForOf}P.forEachIdentityChange(Me=>{br(K.get(Me.currentIndex),Me)})}static ngTemplateContextGuard(P,K){return!0}}return R.\u0275fac=function(P){return new(P||R)(a.Y36(a.s_b),a.Y36(a.Rgc),a.Y36(a.ZZ4))},R.\u0275dir=a.lG2({type:R,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0}),R})();function br(R,z){R.context.$implicit=z.item}let pe=(()=>{class R{constructor(P,K){this._viewContainer=P,this._context=new Le,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=K}set ngIf(P){this._context.$implicit=this._context.ngIf=P,this._updateView()}set ngIfThen(P){Ke("ngIfThen",P),this._thenTemplateRef=P,this._thenViewRef=null,this._updateView()}set ngIfElse(P){Ke("ngIfElse",P),this._elseTemplateRef=P,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(P,K){return!0}}return R.\u0275fac=function(P){return new(P||R)(a.Y36(a.s_b),a.Y36(a.Rgc))},R.\u0275dir=a.lG2({type:R,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0}),R})();class Le{constructor(){this.$implicit=null,this.ngIf=null}}function Ke(R,z){if(z&&!z.createEmbeddedView)throw new Error(`${R} must be a TemplateRef, but received '${(0,a.AaK)(z)}'.`)}let An=(()=>{class R{constructor(P){this._viewContainerRef=P,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null,this.ngTemplateOutletInjector=null}ngOnChanges(P){if(P.ngTemplateOutlet||P.ngTemplateOutletInjector){const K=this._viewContainerRef;if(this._viewRef&&K.remove(K.indexOf(this._viewRef)),this.ngTemplateOutlet){const{ngTemplateOutlet:Me,ngTemplateOutletContext:ht,ngTemplateOutletInjector:Ct}=this;this._viewRef=K.createEmbeddedView(Me,ht,Ct?{injector:Ct}:void 0)}else this._viewRef=null}else this._viewRef&&P.ngTemplateOutletContext&&this.ngTemplateOutletContext&&(this._viewRef.context=this.ngTemplateOutletContext)}}return R.\u0275fac=function(P){return new(P||R)(a.Y36(a.s_b))},R.\u0275dir=a.lG2({type:R,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet",ngTemplateOutletInjector:"ngTemplateOutletInjector"},standalone:!0,features:[a.TTD]}),R})(),Ai=(()=>{class R{}return R.\u0275fac=function(P){return new(P||R)},R.\u0275mod=a.oAB({type:R}),R.\u0275inj=a.cJS({}),R})();const Yr="browser";function Wr(R){return"server"===R}let ts=(()=>{class R{}return R.\u0275prov=(0,a.Yz7)({token:R,providedIn:"root",factory:()=>new xi((0,a.LFG)(he),window)}),R})();class xi{constructor(z,P){this.document=z,this.window=P,this.offset=()=>[0,0]}setOffset(z){this.offset=Array.isArray(z)?()=>z:z}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(z){this.supportsScrolling()&&this.window.scrollTo(z[0],z[1])}scrollToAnchor(z){if(!this.supportsScrolling())return;const P=function Ss(R,z){const P=R.getElementById(z)||R.getElementsByName(z)[0];if(P)return P;if("function"==typeof R.createTreeWalker&&R.body&&(R.body.createShadowRoot||R.body.attachShadow)){const K=R.createTreeWalker(R.body,NodeFilter.SHOW_ELEMENT);let Me=K.currentNode;for(;Me;){const ht=Me.shadowRoot;if(ht){const Ct=ht.getElementById(z)||ht.querySelector(`[name="${z}"]`);if(Ct)return Ct}Me=K.nextNode()}}return null}(this.document,z);P&&(this.scrollToElement(P),P.focus())}setHistoryScrollRestoration(z){if(this.supportScrollRestoration()){const P=this.window.history;P&&P.scrollRestoration&&(P.scrollRestoration=z)}}scrollToElement(z){const P=z.getBoundingClientRect(),K=P.left+this.window.pageXOffset,Me=P.top+this.window.pageYOffset,ht=this.offset();this.window.scrollTo(K-ht[0],Me-ht[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const z=qn(this.window.history)||qn(Object.getPrototypeOf(this.window.history));return!(!z||!z.writable&&!z.set)}catch(z){return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch(z){return!1}}}function qn(R){return Object.getOwnPropertyDescriptor(R,"scrollRestoration")}class hs{}},6435:(Pt,Ze,$)=>{"use strict";$.d(Ze,{tb:()=>cI,AFp:()=>oI,ip1:()=>sI,CZH:()=>A_,hGG:()=>Yw,z2F:()=>M_,sBO:()=>Ow,Sil:()=>hw,_Vd:()=>D,EJc:()=>lw,Xts:()=>Os,SBq:()=>Ye,lqb:()=>Ga,qLn:()=>Td,vpe:()=>eu,XFs:()=>en,OlP:()=>Ur,zs3:()=>Ec,ZZ4:()=>Zb,aQg:()=>Xb,soG:()=>x_,YKP:()=>Im,h0i:()=>Ja,PXZ:()=>Cw,R0b:()=>Iu,FiY:()=>Pn,Lbi:()=>aw,g9A:()=>uI,Qsj:()=>Fn,FYo:()=>un,JOm:()=>Zo,tp0:()=>Do,Rgc:()=>hd,dDg:()=>Ew,eoX:()=>mI,q4F:()=>zc,GfV:()=>Fo,s_b:()=>cp,ifc:()=>fr,MMx:()=>Dm,Lck:()=>_b,eFA:()=>_I,G48:()=>Rw,Gpc:()=>$e,f3M:()=>Hn,X6Q:()=>Mw,_c5:()=>qw,c2e:()=>uw,zSh:()=>la,wAp:()=>vn,vHH:()=>ee,lri:()=>pI,rWj:()=>gI,D6c:()=>Kw,cg1:()=>ho,kL8:()=>im,dqk:()=>ir,Z0I:()=>$n,sIi:()=>ol,CqO:()=>dv,QGY:()=>Ku,QP$:()=>Ee,F4k:()=>rh,RDi:()=>Ah,AaK:()=>ie,qOj:()=>Mf,TTD:()=>ds,_Bn:()=>Em,jDz:()=>l_,xp6:()=>qp,uIk:()=>Pf,ekj:()=>Yg,Suo:()=>d,Xpm:()=>Oe,lG2:()=>Gn,Yz7:()=>zt,cJS:()=>bn,oAB:()=>rt,Yjl:()=>pr,Y36:()=>gu,_UZ:()=>Vg,GkF:()=>Ka,qZA:()=>Lg,TgZ:()=>Ff,n5z:()=>Bs,LFG:()=>Vt,$8M:()=>ra,$Z:()=>cf,NdJ:()=>Bg,CRH:()=>m,oxw:()=>sh,Hsn:()=>Vf,F$t:()=>Ug,Q6J:()=>Ng,iGM:()=>s,LSH:()=>Cl,YNc:()=>cv,_uU:()=>Ju,hij:()=>Wf,Gf:()=>u});var a=$(8929),X=$(2654),B=$(6498),Ce=$(6787),Te=$(1762);class he{constructor(i,o){this.subjectFactory=i,this.selector=o}call(i,o){const{selector:c}=this,l=this.subjectFactory(),p=c(l).subscribe(i);return p.add(o.subscribe(l)),p}}var be=$(4327);function me(){return new a.xQ}function re(n){for(let i in n)if(n[i]===re)return i;throw Error("Could not find renamed property on target object.")}function ae(n,i){for(const o in i)i.hasOwnProperty(o)&&!n.hasOwnProperty(o)&&(n[o]=i[o])}function ie(n){if("string"==typeof n)return n;if(Array.isArray(n))return"["+n.map(ie).join(", ")+"]";if(null==n)return""+n;if(n.overriddenName)return`${n.overriddenName}`;if(n.name)return`${n.name}`;const i=n.toString();if(null==i)return""+i;const o=i.indexOf("\n");return-1===o?i:i.substring(0,o)}function Re(n,i){return null==n||""===n?null===i?"":i:null==i||""===i?n:n+" "+i}const ot=re({__forward_ref__:re});function $e(n){return n.__forward_ref__=$e,n.toString=function(){return ie(this())},n}function _e(n){return De(n)?n():n}function De(n){return"function"==typeof n&&n.hasOwnProperty(ot)&&n.__forward_ref__===$e}class ee extends Error{constructor(i,o){super(function nt(n,i){return`NG0${Math.abs(n)}${i?": "+i.trim():""}`}(i,o)),this.code=i}}function Be(n){return"string"==typeof n?n:null==n?"":String(n)}function ye(n,i){throw new ee(-201,!1)}function ft(n,i){null==n&&function et(n,i,o,c){throw new Error(`ASSERTION ERROR: ${n}`+(null==c?"":` [Expected=> ${o} ${c} ${i} <=Actual]`))}(i,n,null,"!=")}function zt(n){return{token:n.token,providedIn:n.providedIn||null,factory:n.factory,value:void 0}}function bn(n){return{providers:n.providers||[],imports:n.imports||[]}}function Mn(n){return Jn(n,Rr)||Jn(n,Ci)}function $n(n){return null!==Mn(n)}function Jn(n,i){return n.hasOwnProperty(i)?n[i]:null}function yn(n){return n&&(n.hasOwnProperty(cr)||n.hasOwnProperty(lr))?n[cr]:null}const Rr=re({\u0275prov:re}),cr=re({\u0275inj:re}),Ci=re({ngInjectableDef:re}),lr=re({ngInjectorDef:re});var en=(()=>((en=en||{})[en.Default=0]="Default",en[en.Host=1]="Host",en[en.Self=2]="Self",en[en.SkipSelf=4]="SkipSelf",en[en.Optional=8]="Optional",en))();let Cr;function St(n){const i=Cr;return Cr=n,i}function Xt(n,i,o){const c=Mn(n);return c&&"root"==c.providedIn?void 0===c.value?c.value=c.factory():c.value:o&en.Optional?null:void 0!==i?i:void ye(ie(n))}function rr(n){return{toString:n}.toString()}var Un=(()=>((Un=Un||{})[Un.OnPush=0]="OnPush",Un[Un.Default=1]="Default",Un))(),fr=(()=>{return(n=fr||(fr={}))[n.Emulated=0]="Emulated",n[n.None=2]="None",n[n.ShadowDom=3]="ShadowDom",fr;var n})();const ir=(()=>"undefined"!=typeof globalThis&&globalThis||"undefined"!=typeof global&&global||"undefined"!=typeof window&&window||"undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self)(),an={},Dn=[],jr=re({\u0275cmp:re}),Wt=re({\u0275dir:re}),wt=re({\u0275pipe:re}),Gt=re({\u0275mod:re}),on=re({\u0275fac:re}),cn=re({__NG_ELEMENT_ID__:re});let pn=0;function Oe(n){return rr(()=>{const o=!0===n.standalone,c={},l={type:n.type,providersResolver:null,decls:n.decls,vars:n.vars,factory:null,template:n.template||null,consts:n.consts||null,ngContentSelectors:n.ngContentSelectors,hostBindings:n.hostBindings||null,hostVars:n.hostVars||0,hostAttrs:n.hostAttrs||null,contentQueries:n.contentQueries||null,declaredInputs:c,inputs:null,outputs:null,exportAs:n.exportAs||null,onPush:n.changeDetection===Un.OnPush,directiveDefs:null,pipeDefs:null,standalone:o,dependencies:o&&n.dependencies||null,getStandaloneInjector:null,selectors:n.selectors||Dn,viewQuery:n.viewQuery||null,features:n.features||null,data:n.data||{},encapsulation:n.encapsulation||fr.Emulated,id:"c"+pn++,styles:n.styles||Dn,_:null,setInput:null,schemas:n.schemas||null,tView:null},p=n.dependencies,b=n.features;return l.inputs=gn(n.inputs,c),l.outputs=gn(n.outputs),b&&b.forEach(S=>S(l)),l.directiveDefs=p?()=>("function"==typeof p?p():p).map(ke).filter(mt):null,l.pipeDefs=p?()=>("function"==typeof p?p():p).map(Se).filter(mt):null,l})}function ke(n){return hn(n)||Xe(n)}function mt(n){return null!==n}function rt(n){return rr(()=>({type:n.type,bootstrap:n.bootstrap||Dn,declarations:n.declarations||Dn,imports:n.imports||Dn,exports:n.exports||Dn,transitiveCompileScopes:null,schemas:n.schemas||null,id:n.id||null}))}function gn(n,i){if(null==n)return an;const o={};for(const c in n)if(n.hasOwnProperty(c)){let l=n[c],p=l;Array.isArray(l)&&(p=l[1],l=l[0]),o[l]=c,i&&(i[l]=p)}return o}const Gn=Oe;function pr(n){return{type:n.type,name:n.name,factory:null,pure:!1!==n.pure,standalone:!0===n.standalone,onDestroy:n.type.prototype.ngOnDestroy||null}}function hn(n){return n[jr]||null}function Xe(n){return n[Wt]||null}function Se(n){return n[wt]||null}function Ee(n){const i=hn(n)||Xe(n)||Se(n);return null!==i&&i.standalone}function tt(n,i){const o=n[Gt]||null;if(!o&&!0===i)throw new Error(`Type ${ie(n)} does not have '\u0275mod' property.`);return o}function dt(n){return Array.isArray(n)&&"object"==typeof n[1]}function bt(n){return Array.isArray(n)&&!0===n[1]}function Bt(n){return 0!=(8&n.flags)}function Qt(n){return 2==(2&n.flags)}function An(n){return 1==(1&n.flags)}function mn(n){return null!==n.template}function Zn(n){return 0!=(256&n[2])}function Pi(n,i){return n.hasOwnProperty(on)?n[on]:null}class Fs{constructor(i,o,c){this.previousValue=i,this.currentValue=o,this.firstChange=c}isFirstChange(){return this.firstChange}}function ds(){return Ai}function Ai(n){return n.type.prototype.ngOnChanges&&(n.setInput=ai),Yr}function Yr(){const n=es(this),i=null==n?void 0:n.current;if(i){const o=n.previous;if(o===an)n.previous=i;else for(let c in i)o[c]=i[c];n.current=null,this.ngOnChanges(i)}}function ai(n,i,o,c){const l=es(n)||function Ao(n,i){return n[eo]=i}(n,{previous:an,current:null}),p=l.current||(l.current={}),b=l.previous,S=this.declaredInputs[o],O=b[S];p[S]=new Fs(O&&O.currentValue,i,b===an),n[c]=i}ds.ngInherit=!0;const eo="__ngSimpleChanges__";function es(n){return n[eo]||null}function Er(n){for(;Array.isArray(n);)n=n[0];return n}function kr(n,i){return Er(i[n])}function pi(n,i){return Er(i[n.index])}function As(n,i){return n.data[i]}function Kr(n,i){const o=i[n];return dt(o)?o:o[0]}function qs(n){return 64==(64&n[2])}function Mi(n,i){return null==i?null:n[i]}function Ki(n){n[18]=0}function mo(n,i){n[5]+=i;let o=n,c=n[3];for(;null!==c&&(1===i&&1===o[5]||-1===i&&0===o[5]);)c[5]+=i,o=c,c=c[3]}const On={lFrame:K(null),bindingsEnabled:!0};function Mo(){return On.bindingsEnabled}function xt(){return On.lFrame.lView}function or(){return On.lFrame.tView}function V(){let n=k();for(;null!==n&&64===n.type;)n=n.parent;return n}function k(){return On.lFrame.currentTNode}function f(n,i){const o=On.lFrame;o.currentTNode=n,o.isParent=i}function x(){return On.lFrame.isParent}function y(){On.lFrame.isParent=!1}function gr(){return On.lFrame.bindingIndex++}function Zi(n,i){const o=On.lFrame;o.bindingIndex=o.bindingRootIndex=n,fs(i)}function fs(n){On.lFrame.currentDirectiveIndex=n}function ea(){return On.lFrame.currentQueryIndex}function Ks(n){On.lFrame.currentQueryIndex=n}function jo(n){const i=n[1];return 2===i.type?i.declTNode:1===i.type?n[6]:null}function R(n,i,o){if(o&en.SkipSelf){let l=i,p=n;for(;!(l=l.parent,null!==l||o&en.Host||(l=jo(p),null===l||(p=p[15],10&l.type))););if(null===l)return!1;i=l,n=p}const c=On.lFrame=P();return c.currentTNode=i,c.lView=n,!0}function z(n){const i=P(),o=n[1];On.lFrame=i,i.currentTNode=o.firstChild,i.lView=n,i.tView=o,i.contextLView=n,i.bindingIndex=o.bindingStartIndex,i.inI18n=!1}function P(){const n=On.lFrame,i=null===n?null:n.child;return null===i?K(n):i}function K(n){const i={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:n,child:null,inI18n:!1};return null!==n&&(n.child=i),i}function Me(){const n=On.lFrame;return On.lFrame=n.parent,n.currentTNode=null,n.lView=null,n}const ht=Me;function Ct(){const n=Me();n.isParent=!0,n.tView=null,n.selectedIndex=-1,n.contextLView=null,n.elementDepthCount=0,n.currentDirectiveIndex=-1,n.currentNamespace=null,n.bindingRootIndex=-1,n.bindingIndex=-1,n.currentQueryIndex=0}function Nn(){return On.lFrame.selectedIndex}function Yn(n){On.lFrame.selectedIndex=n}function wn(){const n=On.lFrame;return As(n.tView,n.selectedIndex)}function Vs(n,i){for(let o=i.directiveStart,c=i.directiveEnd;o<c;o++){const p=n.data[o].type.prototype,{ngAfterContentInit:b,ngAfterContentChecked:S,ngAfterViewInit:O,ngAfterViewChecked:U,ngOnDestroy:J}=p;b&&(n.contentHooks||(n.contentHooks=[])).push(-o,b),S&&((n.contentHooks||(n.contentHooks=[])).push(o,S),(n.contentCheckHooks||(n.contentCheckHooks=[])).push(o,S)),O&&(n.viewHooks||(n.viewHooks=[])).push(-o,O),U&&((n.viewHooks||(n.viewHooks=[])).push(o,U),(n.viewCheckHooks||(n.viewCheckHooks=[])).push(o,U)),null!=J&&(n.destroyHooks||(n.destroyHooks=[])).push(o,J)}}function Ro(n,i,o){ta(n,i,3,o)}function ss(n,i,o,c){(3&n[2])===o&&ta(n,i,o,c)}function ni(n,i){let o=n[2];(3&o)===i&&(o&=2047,o+=1,n[2]=o)}function ta(n,i,o,c){const p=null!=c?c:-1,b=i.length-1;let S=0;for(let O=void 0!==c?65535&n[18]:0;O<b;O++)if("number"==typeof i[O+1]){if(S=i[O],null!=c&&S>=c)break}else i[O]<0&&(n[18]+=65536),(S<p||-1==p)&&(bi(n,o,i,O),n[18]=(4294901760&n[18])+O+2),O++}function bi(n,i,o,c){const l=o[c]<0,p=o[c+1],S=n[l?-o[c]:o[c]];if(l){if(n[2]>>11<n[18]>>16&&(3&n[2])===i){n[2]+=2048;try{p.call(S)}finally{}}}else try{p.call(S)}finally{}}class Ea{constructor(i,o,c){this.factory=i,this.resolving=!1,this.canSeeViewProviders=o,this.injectImpl=c}}function Fa(n,i,o){let c=0;for(;c<o.length;){const l=o[c];if("number"==typeof l){if(0!==l)break;c++;const p=o[c++],b=o[c++],S=o[c++];n.setAttribute(i,b,S,p)}else{const p=l,b=o[++c];bo(p)?n.setProperty(i,p,b):n.setAttribute(i,p,b),c++}}return c}function Lr(n){return 3===n||4===n||6===n}function bo(n){return 64===n.charCodeAt(0)}function Eo(n,i){if(null!==i&&0!==i.length)if(null===n||0===n.length)n=i.slice();else{let o=-1;for(let c=0;c<i.length;c++){const l=i[c];"number"==typeof l?o=l:0===o||no(n,o,l,null,-1===o||2===o?i[++c]:null)}}return n}function no(n,i,o,c,l){let p=0,b=n.length;if(-1===i)b=-1;else for(;p<n.length;){const S=n[p++];if("number"==typeof S){if(S===i){b=-1;break}if(S>i){b=p-1;break}}}for(;p<n.length;){const S=n[p];if("number"==typeof S)break;if(S===o){if(null===c)return void(null!==l&&(n[p+1]=l));if(c===n[p+1])return void(n[p+2]=l)}p++,null!==c&&p++,null!==l&&p++}-1!==b&&(n.splice(b,0,i),p=b+1),n.splice(p++,0,o),null!==c&&n.splice(p++,0,c),null!==l&&n.splice(p++,0,l)}function Su(n){return-1!==n}function Nt(n){return 32767&n}function xs(n,i){let o=function Zr(n){return n>>16}(n),c=i;for(;o>0;)c=c[15],o--;return c}let li=!0;function tn(n){const i=li;return li=n,i}let vt=0;const Tt={};function wa(n,i){const o=tu(n,i);if(-1!==o)return o;const c=i[1];c.firstCreatePass&&(n.injectorIndex=i.length,Ho(c.data,n),Ho(i,null),Ho(c.blueprint,null));const l=ro(n,i),p=n.injectorIndex;if(Su(l)){const b=Nt(l),S=xs(l,i),O=S[1].data;for(let U=0;U<8;U++)i[p+U]=S[b+U]|O[b+U]}return i[p+8]=l,p}function Ho(n,i){n.push(0,0,0,0,0,0,0,0,i)}function tu(n,i){return-1===n.injectorIndex||n.parent&&n.parent.injectorIndex===n.injectorIndex||null===i[n.injectorIndex+8]?-1:n.injectorIndex}function ro(n,i){if(n.parent&&-1!==n.parent.injectorIndex)return n.parent.injectorIndex;let o=0,c=null,l=i;for(;null!==l;){if(c=Po(l),null===c)return-1;if(o++,l=l[15],-1!==c.injectorIndex)return c.injectorIndex|o<<16}return-1}function ko(n,i,o){!function mi(n,i,o){let c;"string"==typeof o?c=o.charCodeAt(0)||0:o.hasOwnProperty(cn)&&(c=o[cn]),null==c&&(c=o[cn]=vt++);const l=255&c;i.data[n+(l>>5)]|=1<<l}(n,i,o)}function Da(n,i,o){if(o&en.Optional||void 0!==n)return n;ye()}function ru(n,i,o,c){if(o&en.Optional&&void 0===c&&(c=null),0==(o&(en.Self|en.Host))){const l=n[9],p=St(void 0);try{return l?l.get(i,c,o&en.Optional):Xt(i,c,o&en.Optional)}finally{St(p)}}return Da(c,0,o)}function iu(n,i,o,c=en.Default,l){if(null!==n){if(1024&i[2]){const b=function Zt(n,i,o,c,l){let p=n,b=i;for(;null!==p&&null!==b&&1024&b[2]&&!(256&b[2]);){const S=su(p,b,o,c|en.Self,Tt);if(S!==Tt)return S;let O=p.parent;if(!O){const U=b[21];if(U){const J=U.get(o,Tt,c);if(J!==Tt)return J}O=Po(b),b=b[15]}p=O}return l}(n,i,o,c,Tt);if(b!==Tt)return b}const p=su(n,i,o,c,Tt);if(p!==Tt)return p}return ru(i,o,c,l)}function su(n,i,o,c,l){const p=function Tu(n){if("string"==typeof n)return n.charCodeAt(0)||0;const i=n.hasOwnProperty(cn)?n[cn]:void 0;return"number"==typeof i?i>=0?255&i:Tr:i}(o);if("function"==typeof p){if(!R(i,n,c))return c&en.Host?Da(l,0,c):ru(i,o,c,l);try{const b=p(c);if(null!=b||c&en.Optional)return b;ye()}finally{ht()}}else if("number"==typeof p){let b=null,S=tu(n,i),O=-1,U=c&en.Host?i[16][6]:null;for((-1===S||c&en.SkipSelf)&&(O=-1===S?ro(n,i):i[S+8],-1!==O&&ln(c,!1)?(b=i[1],S=Nt(O),i=xs(O,i)):S=-1);-1!==S;){const J=i[1];if(Gr(p,S,J.data)){const ge=Ca(S,i,o,b,c,U);if(ge!==Tt)return ge}O=i[S+8],-1!==O&&ln(c,i[1].data[S+8]===U)&&Gr(p,S,i)?(b=J,S=Nt(O),i=xs(O,i)):S=-1}}return l}function Ca(n,i,o,c,l,p){const b=i[1],S=b.data[n+8],J=kn(S,b,o,null==c?Qt(S)&&li:c!=b&&0!=(3&S.type),l&en.Host&&p===S);return null!==J?Ms(i,b,J,S):Tt}function kn(n,i,o,c,l){const p=n.providerIndexes,b=i.data,S=1048575&p,O=n.directiveStart,J=p>>20,Ge=l?S+J:n.directiveEnd;for(let ut=c?S:S+J;ut<Ge;ut++){const At=b[ut];if(ut<O&&o===At||ut>=O&&At.type===o)return ut}if(l){const ut=b[O];if(ut&&mn(ut)&&ut.type===o)return O}return null}function Ms(n,i,o,c){let l=n[o];const p=i.data;if(function Na(n){return n instanceof Ea}(l)){const b=l;b.resolving&&function Pe(n,i){const o=i?`. Dependency path: ${i.join(" > ")} > ${n}`:"";throw new ee(-200,`Circular dependency in DI detected for ${n}${o}`)}(function ct(n){return"function"==typeof n?n.name||n.toString():"object"==typeof n&&null!=n&&"function"==typeof n.type?n.type.name||n.type.toString():Be(n)}(p[o]));const S=tn(b.canSeeViewProviders);b.resolving=!0;const O=b.injectImpl?St(b.injectImpl):null;R(n,c,en.Default);try{l=n[o]=b.factory(void 0,p,n,c),i.firstCreatePass&&o>=c.directiveStart&&function Zs(n,i,o){const{ngOnChanges:c,ngOnInit:l,ngDoCheck:p}=i.type.prototype;if(c){const b=Ai(i);(o.preOrderHooks||(o.preOrderHooks=[])).push(n,b),(o.preOrderCheckHooks||(o.preOrderCheckHooks=[])).push(n,b)}l&&(o.preOrderHooks||(o.preOrderHooks=[])).push(0-n,l),p&&((o.preOrderHooks||(o.preOrderHooks=[])).push(n,p),(o.preOrderCheckHooks||(o.preOrderCheckHooks=[])).push(n,p))}(o,p[o],i)}finally{null!==O&&St(O),tn(S),b.resolving=!1,ht()}}return l}function Gr(n,i,o){return!!(o[i+(n>>5)]&1<<n)}function ln(n,i){return!(n&en.Self||n&en.Host&&i)}class Xs{constructor(i,o){this._tNode=i,this._lView=o}get(i,o,c){return iu(this._tNode,this._lView,i,c,o)}}function Tr(){return new Xs(V(),xt())}function Bs(n){return rr(()=>{const i=n.prototype.constructor,o=i[on]||qr(i),c=Object.prototype;let l=Object.getPrototypeOf(n.prototype).constructor;for(;l&&l!==c;){const p=l[on]||qr(l);if(p&&p!==o)return p;l=Object.getPrototypeOf(l)}return p=>new p})}function qr(n){return De(n)?()=>{const i=qr(_e(n));return i&&i()}:Pi(n)}function Po(n){const i=n[1],o=i.type;return 2===o?i.declTNode:1===o?n[6]:null}function ra(n){return function nu(n,i){if("class"===i)return n.classes;if("style"===i)return n.styles;const o=n.attrs;if(o){const c=o.length;let l=0;for(;l<c;){const p=o[l];if(Lr(p))break;if(0===p)l+=2;else if("number"==typeof p)for(l++;l<c&&"string"==typeof o[l];)l++;else{if(p===i)return o[l+1];l+=2}}}return null}(V(),n)}const ps="__parameters__";function Io(n,i,o){return rr(()=>{const c=function Go(n){return function(...o){if(n){const c=n(...o);for(const l in c)this[l]=c[l]}}}(i);function l(...p){if(this instanceof l)return c.apply(this,p),this;const b=new l(...p);return S.annotation=b,S;function S(O,U,J){const ge=O.hasOwnProperty(ps)?O[ps]:Object.defineProperty(O,ps,{value:[]})[ps];for(;ge.length<=J;)ge.push(null);return(ge[J]=ge[J]||[]).push(b),O}}return o&&(l.prototype=Object.create(o.prototype)),l.prototype.ngMetadataName=n,l.annotationCls=l,l})}class Ur{constructor(i,o){this._desc=i,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof o?this.__NG_ELEMENT_ID__=o:void 0!==o&&(this.\u0275prov=zt({token:this,providedIn:o.providedIn||"root",factory:o.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}function ms(n,i){void 0===i&&(i=n);for(let o=0;o<n.length;o++){let c=n[o];Array.isArray(c)?(i===n&&(i=n.slice(0,o)),ms(c,i)):i!==n&&i.push(c)}return i}function Ii(n,i){n.forEach(o=>Array.isArray(o)?Ii(o,i):i(o))}function Aa(n,i,o){i>=n.length?n.push(o):n.splice(i,0,o)}function ji(n,i){return i>=n.length-1?n.pop():n.splice(i,1)[0]}function Rs(n,i){const o=[];for(let c=0;c<n;c++)o.push(i);return o}function Vr(n,i,o){let c=ys(n,i);return c>=0?n[1|c]=o:(c=~c,function xa(n,i,o,c){let l=n.length;if(l==i)n.push(o,c);else if(1===l)n.push(c,n[0]),n[0]=o;else{for(l--,n.push(n[l-1],n[l]);l>i;)n[l]=n[l-2],l--;n[i]=o,n[i+1]=c}}(n,c,i,o)),c}function xu(n,i){const o=ys(n,i);if(o>=0)return n[1|o]}function ys(n,i){return function so(n,i,o){let c=0,l=n.length>>o;for(;l!==c;){const p=c+(l-c>>1),b=n[p<<o];if(i===b)return p<<o;b>i?l=p:c=p+1}return~(l<<o)}(n,i,1)}const q={},ve="__NG_DI_FLAG__",E="ngTempTokenPath",H=/\n/gm,Ae="__source";let qe;function _t(n){const i=qe;return qe=n,i}function Ht(n,i=en.Default){if(void 0===qe)throw new ee(-203,!1);return null===qe?Xt(n,void 0,i):qe.get(n,i&en.Optional?null:void 0,i)}function Vt(n,i=en.Default){return(function zr(){return Cr}()||Ht)(_e(n),i)}function Hn(n,i=en.Default){return"number"!=typeof i&&(i=0|(i.optional&&8)|(i.host&&1)|(i.self&&2)|(i.skipSelf&&4)),Vt(n,i)}function Sn(n){const i=[];for(let o=0;o<n.length;o++){const c=_e(n[o]);if(Array.isArray(c)){if(0===c.length)throw new ee(900,!1);let l,p=en.Default;for(let b=0;b<c.length;b++){const S=c[b],O=yr(S);"number"==typeof O?-1===O?l=S.token:p|=O:l=S}i.push(Vt(l,p))}else i.push(Vt(c))}return i}function Hi(n,i){return n[ve]=i,n.prototype[ve]=i,n}function yr(n){return n[ve]}const Pn=Hi(Io("Optional"),8),Do=Hi(Io("SkipSelf"),4);let vs;function Ah(n){vs=n}class yd{constructor(i){this.changingThisBreaksApplicationSecurity=i}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}function Ma(n){return n instanceof yd?n.changingThisBreaksApplicationSecurity:n}const lc=/^(?:(?:https?|mailto|data|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi;var ii=(()=>((ii=ii||{})[ii.NONE=0]="NONE",ii[ii.HTML=1]="HTML",ii[ii.STYLE=2]="STYLE",ii[ii.SCRIPT=3]="SCRIPT",ii[ii.URL=4]="URL",ii[ii.RESOURCE_URL=5]="RESOURCE_URL",ii))();function Cl(n){const i=function gc(){const n=xt();return n&&n[12]}();return i?i.sanitize(ii.URL,n)||"":function du(n,i){const o=function Lc(n){return n instanceof yd&&n.getTypeName()||null}(n);if(null!=o&&o!==i){if("ResourceURL"===o&&"URL"===i)return!0;throw new Error(`Required a safe ${i}, got a ${o} (see https://g.co/ng/security#xss)`)}return o===i}(n,"URL")?Ma(n):function _d(n){return(n=String(n)).match(lc)?n:"unsafe:"+n}(Be(n))}const Os=new Ur("ENVIRONMENT_INITIALIZER"),Uc=new Ur("INJECTOR",-1),Bu=new Ur("INJECTOR_DEF_TYPES");class bd{get(i,o=q){if(o===q){const c=new Error(`NullInjectorError: No provider for ${ie(i)}!`);throw c.name="NullInjectorError",c}return o}}function Yo(...n){return{\u0275providers:Ed(0,n)}}function Ed(n,...i){const o=[],c=new Set;let l;return Ii(i,p=>{const b=p;$u(b,o,[],c)&&(l||(l=[]),l.push(b))}),void 0!==l&&ks(l,o),o}function ks(n,i){for(let o=0;o<n.length;o++){const{providers:l}=n[o];Ii(l,p=>{i.push(p)})}}function $u(n,i,o,c){if(!(n=_e(n)))return!1;let l=null,p=yn(n);const b=!p&&hn(n);if(p||b){if(b&&!b.standalone)return!1;l=n}else{const O=n.ngModule;if(p=yn(O),!p)return!1;l=O}const S=c.has(l);if(b){if(S)return!1;if(c.add(l),b.dependencies){const O="function"==typeof b.dependencies?b.dependencies():b.dependencies;for(const U of O)$u(U,i,o,c)}}else{if(!p)return!1;{if(null!=p.imports&&!S){let U;c.add(l);try{Ii(p.imports,J=>{$u(J,i,o,c)&&(U||(U=[]),U.push(J))})}finally{}void 0!==U&&ks(U,i)}if(!S){const U=Pi(l)||(()=>new l);i.push({provide:l,useFactory:U,deps:Dn},{provide:Bu,useValue:l,multi:!0},{provide:Os,useValue:()=>Vt(l),multi:!0})}const O=p.providers;null==O||S||Ii(O,J=>{i.push(J)})}}return l!==n&&void 0!==n.providers}const hr=re({provide:String,useValue:re});function jc(n){return null!==n&&"object"==typeof n&&hr in n}function Ko(n){return"function"==typeof n}const la=new Ur("Set Injector scope."),yc={},Bh={};let Id;function Hc(){return void 0===Id&&(Id=new bd),Id}class Ga{}class ao extends Ga{constructor(i,o,c,l){super(),this.parent=o,this.source=c,this.scopes=l,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,ju(i,b=>this.processProvider(b)),this.records.set(Uc,da(void 0,this)),l.has("environment")&&this.records.set(Ga,da(void 0,this));const p=this.records.get(la);null!=p&&"string"==typeof p.value&&this.scopes.add(p.value),this.injectorDefTypes=new Set(this.get(Bu.multi,Dn,en.Self))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const i of this._ngOnDestroyHooks)i.ngOnDestroy();for(const i of this._onDestroyHooks)i()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),this._onDestroyHooks.length=0}}onDestroy(i){this._onDestroyHooks.push(i)}runInContext(i){this.assertNotDestroyed();const o=_t(this),c=St(void 0);try{return i()}finally{_t(o),St(c)}}get(i,o=q,c=en.Default){this.assertNotDestroyed();const l=_t(this),p=St(void 0);try{if(!(c&en.SkipSelf)){let S=this.records.get(i);if(void 0===S){const O=function Dd(n){return"function"==typeof n||"object"==typeof n&&n instanceof Ur}(i)&&Mn(i);S=O&&this.injectableDefInScope(O)?da(Gc(i),yc):null,this.records.set(i,S)}if(null!=S)return this.hydrate(i,S)}return(c&en.Self?Hc():this.parent).get(i,o=c&en.Optional&&o===q?null:o)}catch(b){if("NullInjectorError"===b.name){if((b[E]=b[E]||[]).unshift(ie(i)),l)throw b;return function zo(n,i,o,c){const l=n[E];throw i[Ae]&&l.unshift(i[Ae]),n.message=function uu(n,i,o,c=null){n=n&&"\n"===n.charAt(0)&&"\u0275"==n.charAt(1)?n.slice(2):n;let l=ie(i);if(Array.isArray(i))l=i.map(ie).join(" -> ");else if("object"==typeof i){let p=[];for(let b in i)if(i.hasOwnProperty(b)){let S=i[b];p.push(b+":"+("string"==typeof S?JSON.stringify(S):ie(S)))}l=`{${p.join(", ")}}`}return`${o}${c?"("+c+")":""}[${l}]: ${n.replace(H,"\n  ")}`}("\n"+n.message,l,o,c),n.ngTokenPath=l,n[E]=null,n}(b,i,"R3InjectorError",this.source)}throw b}finally{St(p),_t(l)}}resolveInjectorInitializers(){const i=_t(this),o=St(void 0);try{const c=this.get(Os.multi,Dn,en.Self);for(const l of c)l()}finally{_t(i),St(o)}}toString(){const i=[],o=this.records;for(const c of o.keys())i.push(ie(c));return`R3Injector[${i.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new ee(205,!1)}processProvider(i){let o=Ko(i=_e(i))?i:_e(i&&i.provide);const c=function Dp(n){return jc(n)?da(void 0,n.useValue):da(uo(n),yc)}(i);if(Ko(i)||!0!==i.multi)this.records.get(o);else{let l=this.records.get(o);l||(l=da(void 0,yc,!0),l.factory=()=>Sn(l.multi),this.records.set(o,l)),o=i,l.multi.push(i)}this.records.set(o,c)}hydrate(i,o){return o.value===yc&&(o.value=Bh,o.value=o.factory()),"object"==typeof o.value&&o.value&&function Gi(n){return null!==n&&"object"==typeof n&&"function"==typeof n.ngOnDestroy}(o.value)&&this._ngOnDestroyHooks.add(o.value),o.value}injectableDefInScope(i){if(!i.providedIn)return!1;const o=_e(i.providedIn);return"string"==typeof o?"any"===o||this.scopes.has(o):this.injectorDefTypes.has(o)}}function Gc(n){const i=Mn(n),o=null!==i?i.factory:Pi(n);if(null!==o)return o;if(n instanceof Ur)throw new ee(204,!1);if(n instanceof Function)return function wd(n){const i=n.length;if(i>0)throw Rs(i,"?"),new ee(204,!1);const o=function er(n){const i=n&&(n[Rr]||n[Ci]);if(i){const o=function Dr(n){if(n.hasOwnProperty("name"))return n.name;const i=(""+n).match(/^function\s*([^\s(]+)/);return null===i?"":i[1]}(n);return console.warn(`DEPRECATED: DI is instantiating a token "${o}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${o}" class.`),i}return null}(n);return null!==o?()=>o.factory(n):()=>new n}(n);throw new ee(204,!1)}function uo(n,i,o){let c;if(Ko(n)){const l=_e(n);return Pi(l)||Gc(l)}if(jc(n))c=()=>_e(n.useValue);else if(function mc(n){return!(!n||!n.useFactory)}(n))c=()=>n.useFactory(...Sn(n.deps||[]));else if(function Uu(n){return!(!n||!n.useExisting)}(n))c=()=>Vt(_e(n.useExisting));else{const l=_e(n&&(n.useClass||n.provide));if(!function $h(n){return!!n.deps}(n))return Pi(l)||Gc(l);c=()=>new l(...Sn(n.deps))}return c}function da(n,i,o=!1){return{factory:n,value:i,multi:o?[]:void 0}}function Tl(n){return!!n.\u0275providers}function ju(n,i){for(const o of n)Array.isArray(o)?ju(o,i):Tl(o)?ju(o.\u0275providers,i):i(o)}class Al{}class g{resolveComponentFactory(i){throw function Uh(n){const i=Error(`No component factory found for ${ie(n)}. Did you add it to @NgModule.entryComponents?`);return i.ngComponent=n,i}(i)}}let D=(()=>{class n{}return n.NULL=new g,n})();function j(){return ne(V(),xt())}function ne(n,i){return new Ye(pi(n,i))}let Ye=(()=>{class n{constructor(o){this.nativeElement=o}}return n.__NG_ELEMENT_ID__=j,n})();function It(n){return n instanceof Ye?n.nativeElement:n}class un{}let Fn=(()=>{class n{}return n.__NG_ELEMENT_ID__=()=>function Rn(){const n=xt(),o=Kr(V().index,n);return(dt(o)?o:n)[11]}(),n})(),_s=(()=>{class n{}return n.\u0275prov=zt({token:n,providedIn:"root",factory:()=>null}),n})();class Fo{constructor(i){this.full=i,this.major=i.split(".")[0],this.minor=i.split(".")[1],this.patch=i.split(".").slice(2).join(".")}}const zc=new Fo("14.2.10"),xl={};function Op(n){return n.ngOriginalError}class Td{constructor(){this._console=console}handleError(i){const o=this._findOriginalError(i);this._console.error("ERROR",i),o&&this._console.error("ORIGINAL ERROR",o)}_findOriginalError(i){let o=i&&Op(i);for(;o&&Op(o);)o=Op(o);return o||null}}const kp=new Map;let qm=0;const Gh="__ngContext__";function Co(n,i){dt(i)?(n[Gh]=i[20],function U_(n){kp.set(n[20],n)}(i)):n[Gh]=i}function fa(n){return n instanceof Function?n():n}var Zo=(()=>((Zo=Zo||{})[Zo.Important=1]="Important",Zo[Zo.DashCase=2]="DashCase",Zo))();function pu(n,i){return undefined(n,i)}function Rd(n){const i=n[3];return bt(i)?i[3]:i}function Wh(n){return qh(n[13])}function Od(n){return qh(n[4])}function qh(n){for(;null!==n&&!bt(n);)n=n[4];return n}function qu(n,i,o,c,l){if(null!=c){let p,b=!1;bt(c)?p=c:dt(c)&&(b=!0,c=c[0]);const S=Er(c);0===n&&null!==o?null==l?ay(i,o,S):pa(i,o,S,l||null,!0):1===n&&null!==o?pa(i,o,S,l||null,!0):2===n?function bc(n,i,o){const c=Fd(n,i);c&&function uy(n,i,o,c){n.removeChild(i,o,c)}(n,c,i,o)}(i,S,b):3===n&&i.destroyNode(S),null!=p&&function gy(n,i,o,c,l){const p=o[7];p!==Er(o)&&qu(i,n,c,p,l);for(let S=10;S<o.length;S++){const O=o[S];kl(O[1],O,n,i,c,p)}}(i,n,p,o,l)}}function $p(n,i,o){return n.createElement(i,o)}function Lo(n,i){const o=n[9],c=o.indexOf(i),l=i[3];512&i[2]&&(i[2]&=-513,mo(l,-1)),o.splice(c,1)}function Xh(n,i){if(n.length<=10)return;const o=10+i,c=n[o];if(c){const l=c[17];null!==l&&l!==n&&Lo(l,c),i>0&&(n[o-1][4]=c[4]);const p=ji(n,10+i);!function ry(n,i){kl(n,i,i[11],2,null,null),i[0]=null,i[6]=null}(c[1],c);const b=p[19];null!==b&&b.detachView(p[1]),c[3]=null,c[4]=null,c[2]&=-65}return c}function Nd(n,i){if(!(128&i[2])){const o=i[11];o.destroyNode&&kl(n,i,o,3,null,null),function Pd(n){let i=n[13];if(!i)return Rl(n[1],n);for(;i;){let o=null;if(dt(i))o=i[13];else{const c=i[10];c&&(o=c)}if(!o){for(;i&&!i[4]&&i!==n;)dt(i)&&Rl(i[1],i),i=i[3];null===i&&(i=n),dt(i)&&Rl(i[1],i),o=i&&i[4]}i=o}}(i)}}function Rl(n,i){if(!(128&i[2])){i[2]&=-65,i[2]|=128,function _c(n,i){let o;if(null!=n&&null!=(o=n.destroyHooks))for(let c=0;c<o.length;c+=2){const l=i[o[c]];if(!(l instanceof Ea)){const p=o[c+1];if(Array.isArray(p))for(let b=0;b<p.length;b+=2){const S=l[p[b]],O=p[b+1];try{O.call(S)}finally{}}else try{p.call(l)}finally{}}}}(n,i),function oy(n,i){const o=n.cleanup,c=i[7];let l=-1;if(null!==o)for(let p=0;p<o.length-1;p+=2)if("string"==typeof o[p]){const b=o[p+1],S="function"==typeof b?b(i):Er(i[b]),O=c[l=o[p+2]],U=o[p+3];"boolean"==typeof U?S.removeEventListener(o[p],O,U):U>=0?c[l=U]():c[l=-U].unsubscribe(),p+=2}else{const b=c[l=o[p+1]];o[p].call(b)}if(null!==c){for(let p=l+1;p<c.length;p++)(0,c[p])();i[7]=null}}(n,i),1===i[1].type&&i[11].destroy();const o=i[17];if(null!==o&&bt(i[3])){o!==i[3]&&Lo(o,i);const c=i[19];null!==c&&c.detachView(n)}!function Js(n){kp.delete(n[20])}(i)}}function Zc(n,i,o){return function Up(n,i,o){let c=i;for(;null!==c&&40&c.type;)c=(i=c).parent;if(null===c)return o[0];if(2&c.flags){const l=n.data[c.directiveStart].encapsulation;if(l===fr.None||l===fr.Emulated)return null}return pi(c,o)}(n,i.parent,o)}function pa(n,i,o,c,l){n.insertBefore(i,o,c,l)}function ay(n,i,o){n.appendChild(i,o)}function Xc(n,i,o,c,l){null!==c?pa(n,i,o,c,l):ay(n,i,o)}function Fd(n,i){return n.parentNode(i)}function cy(n,i,o){return dy(n,i,o)}let dy=function ly(n,i,o){return 40&n.type?pi(n,o):null};function Qh(n,i,o,c){const l=Zc(n,c,i),p=i[11],S=cy(c.parent||i[6],c,i);if(null!=l)if(Array.isArray(o))for(let O=0;O<o.length;O++)Xc(p,l,o[O],S,!1);else Xc(p,l,o,S,!1)}function Ld(n,i){if(null!==i){const o=i.type;if(3&o)return pi(i,n);if(4&o)return Jh(-1,n[i.index]);if(8&o){const c=i.child;if(null!==c)return Ld(n,c);{const l=n[i.index];return bt(l)?Jh(-1,l):Er(l)}}if(32&o)return pu(i,n)()||Er(n[i.index]);{const c=hy(n,i);return null!==c?Array.isArray(c)?c[0]:Ld(Rd(n[16]),c):Ld(n,i.next)}}return null}function hy(n,i){return null!==i?n[16][6].projection[i.projection]:null}function Jh(n,i){const o=10+n+1;if(o<i.length){const c=i[o],l=c[1].firstChild;if(null!==l)return Ld(c,l)}return i[7]}function Jc(n,i,o,c,l,p,b){for(;null!=o;){const S=c[o.index],O=o.type;if(b&&0===i&&(S&&Co(Er(S),c),o.flags|=4),64!=(64&o.flags))if(8&O)Jc(n,i,o.child,c,l,p,!1),qu(i,n,l,S,p);else if(32&O){const U=pu(o,c);let J;for(;J=U();)qu(i,n,l,J,p);qu(i,n,l,S,p)}else 16&O?py(n,i,c,o,l,p):qu(i,n,l,S,p);o=b?o.projectionNext:o.next}}function kl(n,i,o,c,l,p){Jc(o,c,n.firstChild,i,l,p,!1)}function py(n,i,o,c,l,p){const b=o[16],O=b[6].projection[c.projection];if(Array.isArray(O))for(let U=0;U<O.length;U++)qu(i,n,l,O[U],p);else Jc(n,i,O,b[3],l,p,!0)}function my(n,i,o){n.setAttribute(i,"style",o)}function Vd(n,i,o){""===o?n.removeAttribute(i,"class"):n.setAttribute(i,"class",o)}function zs(n,i,o){let c=n.length;for(;;){const l=n.indexOf(i,o);if(-1===l)return l;if(0===l||n.charCodeAt(l-1)<=32){const p=i.length;if(l+p===c||n.charCodeAt(l+p)<=32)return l}o=l+1}}const yy="ng-template";function Y_(n,i,o){let c=0;for(;c<n.length;){let l=n[c++];if(o&&"class"===l){if(l=n[c],-1!==zs(l.toLowerCase(),i,0))return!0}else if(1===l){for(;c<n.length&&"string"==typeof(l=n[c++]);)if(l.toLowerCase()===i)return!0;return!1}}return!1}function vy(n){return 4===n.type&&n.value!==yy}function _y(n,i,o){return i===(4!==n.type||o?n.value:yy)}function K_(n,i,o){let c=4;const l=n.attrs||[],p=function zp(n){for(let i=0;i<n.length;i++)if(Lr(n[i]))return i;return n.length}(l);let b=!1;for(let S=0;S<i.length;S++){const O=i[S];if("number"!=typeof O){if(!b)if(4&c){if(c=2|1&c,""!==O&&!_y(n,O,o)||""===O&&1===i.length){if(Xo(c))return!1;b=!0}}else{const U=8&c?O:i[++S];if(8&c&&null!==n.attrs){if(!Y_(n.attrs,U,o)){if(Xo(c))return!1;b=!0}continue}const ge=Z_(8&c?"class":O,l,vy(n),o);if(-1===ge){if(Xo(c))return!1;b=!0;continue}if(""!==U){let Ge;Ge=ge>p?"":l[ge+1].toLowerCase();const ut=8&c?Ge:null;if(ut&&-1!==zs(ut,U,0)||2&c&&U!==Ge){if(Xo(c))return!1;b=!0}}}}else{if(!b&&!Xo(c)&&!Xo(O))return!1;if(b&&Xo(O))continue;b=!1,c=O|1&c}}return Xo(c)||b}function Xo(n){return 0==(1&n)}function Z_(n,i,o,c){if(null===i)return-1;let l=0;if(c||!o){let p=!1;for(;l<i.length;){const b=i[l];if(b===n)return l;if(3===b||6===b)p=!0;else{if(1===b||2===b){let S=i[++l];for(;"string"==typeof S;)S=i[++l];continue}if(4===b)break;if(0===b){l+=4;continue}}l+=p?1:2}return-1}return function Bd(n,i){let o=n.indexOf(4);if(o>-1)for(o++;o<n.length;){const c=n[o];if("number"==typeof c)return-1;if(c===i)return o;o++}return-1}(i,n)}function Hp(n,i,o=!1){for(let c=0;c<i.length;c++)if(K_(n,i[c],o))return!0;return!1}function ef(n,i){e:for(let o=0;o<i.length;o++){const c=i[o];if(n.length===c.length){for(let l=0;l<n.length;l++)if(n[l]!==c[l])continue e;return!0}}return!1}function tf(n,i){return n?":not("+i.trim()+")":i}function Wp(n){let i=n[0],o=1,c=2,l="",p=!1;for(;o<n.length;){let b=n[o];if("string"==typeof b)if(2&c){const S=n[++o];l+="["+b+(S.length>0?'="'+S+'"':"")+"]"}else 8&c?l+="."+b:4&c&&(l+=" "+b);else""!==l&&!Xo(b)&&(i+=tf(p,l),l=""),c=b,p=p||!Xo(c);o++}return""!==l&&(i+=tf(p,l)),i}const ur={};function qp(n){nf(or(),xt(),Nn()+n,!1)}function nf(n,i,o,c){if(!c)if(3==(3&i[2])){const p=n.preOrderCheckHooks;null!==p&&Ro(i,p,o)}else{const p=n.preOrderHooks;null!==p&&ss(i,p,0,o)}Yn(o)}function Xp(n,i=null,o=null,c){const l=Qp(n,i,o,c);return l.resolveInjectorInitializers(),l}function Qp(n,i=null,o=null,c,l=new Set){const p=[o||Dn,Yo(n)];return c=c||("object"==typeof n?void 0:ie(n)),new ao(p,i||Hc(),c||null,l)}let Ec=(()=>{class n{static create(o,c){var l;if(Array.isArray(o))return Xp({name:""},c,o,"");{const p=null!==(l=o.name)&&void 0!==l?l:"";return Xp({name:p},o.parent,o.providers,p)}}}return n.THROW_IF_NOT_FOUND=q,n.NULL=new bd,n.\u0275prov=zt({token:n,providedIn:"any",factory:()=>Vt(Uc)}),n.__NG_ELEMENT_ID__=-1,n})();function gu(n,i=en.Default){const o=xt();return null===o?Vt(n,i):iu(V(),o,_e(n),i)}function cf(){throw new Error("invalid")}function Fl(n,i){return n<<17|i<<2}function Qo(n){return n>>17&32767}function lf(n){return 2|n}function Wa(n){return(131068&n)>>2}function Hd(n,i){return-131069&n|i<<2}function df(n){return 1|n}function yf(n,i){const o=n.contentQueries;if(null!==o)for(let c=0;c<o.length;c+=2){const l=o[c],p=o[c+1];if(-1!==p){const b=n.data[p];Ks(l),b.contentQueries(2,i[p],p)}}}function vf(n,i,o,c,l,p,b,S,O,U,J){const ge=i.blueprint.slice();return ge[0]=l,ge[2]=76|c,(null!==J||n&&1024&n[2])&&(ge[2]|=1024),Ki(ge),ge[3]=ge[15]=n,ge[8]=o,ge[10]=b||n&&n[10],ge[11]=S||n&&n[11],ge[12]=O||n&&n[12]||null,ge[9]=U||n&&n[9]||null,ge[6]=p,ge[20]=function Ym(){return qm++}(),ge[21]=J,ge[16]=2==i.type?n[16]:ge,ge}function rl(n,i,o,c,l){let p=n.data[i];if(null===p)p=function _f(n,i,o,c,l){const p=k(),b=x(),O=n.data[i]=function Hy(n,i,o,c,l,p){return{type:o,index:c,insertBeforeIndex:null,injectorIndex:i?i.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:l,attrs:p,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:i,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,b?p:p&&p.parent,o,i,c,l);return null===n.firstChild&&(n.firstChild=O),null!==p&&(b?null==p.child&&null!==O.parent&&(p.child=O):null===p.next&&(p.next=O)),O}(n,i,o,c,l),function Ri(){return On.lFrame.inI18n}()&&(p.flags|=64);else if(64&p.type){p.type=o,p.value=c,p.attrs=l;const b=function M(){const n=On.lFrame,i=n.currentTNode;return n.isParent?i:i.parent}();p.injectorIndex=null===b?-1:b.injectorIndex}return f(p,!0),p}function il(n,i,o,c){if(0===o)return-1;const l=i.length;for(let p=0;p<o;p++)i.push(c),n.blueprint.push(c),n.data.push(null);return l}function bf(n,i,o){z(i);try{const c=n.viewQuery;null!==c&&Qd(1,c,o);const l=n.template;null!==l&&$y(n,i,l,1,o),n.firstCreatePass&&(n.firstCreatePass=!1),n.staticContentQueries&&yf(n,i),n.staticViewQueries&&Qd(2,n.viewQuery,o);const p=n.components;null!==p&&function By(n,i){for(let o=0;o<i.length;o++)Tg(n,i[o])}(i,p)}catch(c){throw n.firstCreatePass&&(n.incompleteFirstPass=!0,n.firstCreatePass=!1),c}finally{i[2]&=-5,Ct()}}function Ef(n,i,o,c){const l=i[2];if(128!=(128&l)){z(i);try{Ki(i),function ar(n){return On.lFrame.bindingIndex=n}(n.bindingStartIndex),null!==o&&$y(n,i,o,2,c);const b=3==(3&l);if(b){const U=n.preOrderCheckHooks;null!==U&&Ro(i,U,null)}else{const U=n.preOrderHooks;null!==U&&ss(i,U,0,null),ni(i,0)}if(function b0(n){for(let i=Wh(n);null!==i;i=Od(i)){if(!i[2])continue;const o=i[9];for(let c=0;c<o.length;c++){const l=o[c],p=l[3];0==(512&l[2])&&mo(p,1),l[2]|=512}}}(i),function Cg(n){for(let i=Wh(n);null!==i;i=Od(i))for(let o=10;o<i.length;o++){const c=i[o],l=c[1];qs(c)&&Ef(l,c,l.template,c[8])}}(i),null!==n.contentQueries&&yf(n,i),b){const U=n.contentCheckHooks;null!==U&&Ro(i,U)}else{const U=n.contentHooks;null!==U&&ss(i,U,1),ni(i,1)}!function dg(n,i){const o=n.hostBindingOpCodes;if(null!==o)try{for(let c=0;c<o.length;c++){const l=o[c];if(l<0)Yn(~l);else{const p=l,b=o[++c],S=o[++c];Zi(b,p),S(2,i[p])}}}finally{Yn(-1)}}(n,i);const S=n.components;null!==S&&function g0(n,i){for(let o=0;o<i.length;o++)Sg(n,i[o])}(i,S);const O=n.viewQuery;if(null!==O&&Qd(2,O,c),b){const U=n.viewCheckHooks;null!==U&&Ro(i,U)}else{const U=n.viewHooks;null!==U&&ss(i,U,2),ni(i,2)}!0===n.firstUpdatePass&&(n.firstUpdatePass=!1),i[2]&=-41,512&i[2]&&(i[2]&=-513,mo(i[3],-1))}finally{Ct()}}}function $y(n,i,o,c,l){const p=Nn(),b=2&c;try{Yn(-1),b&&i.length>22&&nf(n,i,22,!1),o(c,l)}finally{Yn(p)}}function Uy(n,i,o){if(Bt(i)){const l=i.directiveEnd;for(let p=i.directiveStart;p<l;p++){const b=n.data[p];b.contentQueries&&b.contentQueries(1,o[p],p)}}}function hg(n,i,o){!Mo()||(function vg(n,i,o,c){const l=o.directiveStart,p=o.directiveEnd;n.firstCreatePass||wa(o,i),Co(c,i);const b=o.initialInputs;for(let S=l;S<p;S++){const O=n.data[S],U=mn(O);U&&Ig(i,o,O);const J=Ms(i,n,S,o);Co(J,i),null!==b&&Dg(0,S-l,J,O,0,b),U&&(Kr(o.index,i)[8]=J)}}(n,i,o,pi(o,i)),128==(128&o.flags)&&function jl(n,i,o){const c=o.directiveStart,l=o.directiveEnd,p=o.index,b=function Ui(){return On.lFrame.currentDirectiveIndex}();try{Yn(p);for(let S=c;S<l;S++){const O=n.data[S],U=i[S];fs(S),(null!==O.hostBindings||0!==O.hostVars||null!==O.hostAttrs)&&_g(O,U)}}finally{Yn(-1),fs(b)}}(n,i,o))}function Zd(n,i,o=pi){const c=i.localNames;if(null!==c){let l=i.index+1;for(let p=0;p<c.length;p+=2){const b=c[p+1],S=-1===b?o(i,n):n[b];n[l++]=S}}}function If(n){const i=n.tView;return null===i||i.incompleteFirstPass?n.tView=Xd(1,null,n.template,n.decls,n.vars,n.directiveDefs,n.pipeDefs,n.viewQuery,n.schemas,n.consts):i}function Xd(n,i,o,c,l,p,b,S,O,U){const J=22+c,ge=J+l,Ge=function m0(n,i){const o=[];for(let c=0;c<i;c++)o.push(c<n?null:ur);return o}(J,ge),ut="function"==typeof U?U():U;return Ge[1]={type:n,blueprint:Ge,template:o,queries:null,viewQuery:S,declTNode:i,data:Ge.slice().fill(null,J),bindingStartIndex:J,expandoStartIndex:ge,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof p?p():p,pipeRegistry:"function"==typeof b?b():b,firstChild:null,schemas:O,consts:ut,incompleteFirstPass:!1}}function wf(n,i,o,c){const l=xf(i);null===o?l.push(c):(l.push(o),n.firstCreatePass&&Xy(n).push(c,l.length-1))}function Df(n,i,o){for(let c in n)if(n.hasOwnProperty(c)){const l=n[c];(o=null===o?{}:o).hasOwnProperty(c)?o[c].push(i,l):o[c]=[i,l]}return o}function fg(n,i){const c=i.directiveEnd,l=n.data,p=i.attrs,b=[];let S=null,O=null;for(let U=i.directiveStart;U<c;U++){const J=l[U],ge=J.inputs,Ge=null===p||vy(i)?null:_0(ge,p);b.push(Ge),S=Df(ge,U,S),O=Df(J.outputs,U,O)}null!==S&&(S.hasOwnProperty("class")&&(i.flags|=16),S.hasOwnProperty("style")&&(i.flags|=32)),i.initialInputs=b,i.inputs=S,i.outputs=O}function Gy(n,i){const o=Kr(i,n);16&o[2]||(o[2]|=32)}function mg(n,i,o,c){let l=!1;if(Mo()){const p=function bg(n,i,o){const c=n.directiveRegistry;let l=null;if(c)for(let p=0;p<c.length;p++){const b=c[p];Hp(o,b.selectors,!1)&&(l||(l=[]),ko(wa(o,i),n,b.type),mn(b)?(zy(n,o),l.unshift(b)):l.push(b))}return l}(n,i,o),b=null===c?null:{"":-1};if(null!==p){l=!0,Sf(o,n.data.length,p.length);for(let J=0;J<p.length;J++){const ge=p[J];ge.providersResolver&&ge.providersResolver(ge)}let S=!1,O=!1,U=il(n,i,p.length,null);for(let J=0;J<p.length;J++){const ge=p[J];o.mergedAttrs=Eo(o.mergedAttrs,ge.hostAttrs),Wy(n,o,i,U,ge),Yu(U,ge,b),null!==ge.contentQueries&&(o.flags|=8),(null!==ge.hostBindings||null!==ge.hostAttrs||0!==ge.hostVars)&&(o.flags|=128);const Ge=ge.type.prototype;!S&&(Ge.ngOnChanges||Ge.ngOnInit||Ge.ngDoCheck)&&((n.preOrderHooks||(n.preOrderHooks=[])).push(o.index),S=!0),!O&&(Ge.ngOnChanges||Ge.ngDoCheck)&&((n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(o.index),O=!0),U++}fg(n,o)}b&&function Eg(n,i,o){if(i){const c=n.localNames=[];for(let l=0;l<i.length;l+=2){const p=o[i[l+1]];if(null==p)throw new ee(-301,!1);c.push(i[l],p)}}}(o,c,b)}return o.mergedAttrs=Eo(o.mergedAttrs,o.attrs),l}function Cf(n,i,o,c,l,p){const b=p.hostBindings;if(b){let S=n.hostBindingOpCodes;null===S&&(S=n.hostBindingOpCodes=[]);const O=~i.index;(function yg(n){let i=n.length;for(;i>0;){const o=n[--i];if("number"==typeof o&&o<0)return o}return 0})(S)!=O&&S.push(O),S.push(c,l,b)}}function _g(n,i){null!==n.hostBindings&&n.hostBindings(1,i)}function zy(n,i){i.flags|=2,(n.components||(n.components=[])).push(i.index)}function Yu(n,i,o){if(o){if(i.exportAs)for(let c=0;c<i.exportAs.length;c++)o[i.exportAs[c]]=n;mn(i)&&(o[""]=n)}}function Sf(n,i,o){n.flags|=1,n.directiveStart=i,n.directiveEnd=i+o,n.providerIndexes=i}function Wy(n,i,o,c,l){n.data[c]=l;const p=l.factory||(l.factory=Pi(l.type)),b=new Ea(p,mn(l),gu);n.blueprint[c]=b,o[c]=b,Cf(n,i,0,c,il(n,o,l.hostVars,ur),l)}function Ig(n,i,o){const c=pi(i,n),l=If(o),p=n[10],b=Af(n,vf(n,l,null,o.onPush?32:16,c,i,p,p.createRenderer(c,o),null,null,null));n[i.index]=b}function vu(n,i,o,c,l,p){const b=pi(n,i);!function wg(n,i,o,c,l,p,b){if(null==p)n.removeAttribute(i,l,o);else{const S=null==b?Be(p):b(p,c||"",l);n.setAttribute(i,l,S,o)}}(i[11],b,p,n.value,o,c,l)}function Dg(n,i,o,c,l,p){const b=p[i];if(null!==b){const S=c.setInput;for(let O=0;O<b.length;){const U=b[O++],J=b[O++],ge=b[O++];null!==S?c.setInput(o,ge,U,J):o[J]=ge}}}function _0(n,i){let o=null,c=0;for(;c<i.length;){const l=i[c];if(0!==l)if(5!==l){if("number"==typeof l)break;n.hasOwnProperty(l)&&(null===o&&(o=[]),o.push(l,n[l],i[c+1])),c+=2}else c+=2;else c+=4}return o}function Yy(n,i,o,c){return new Array(n,!0,!1,i,null,0,c,o,null,null)}function Sg(n,i){const o=Kr(i,n);if(qs(o)){const c=o[1];48&o[2]?Ef(c,o,c.template,o[8]):o[5]>0&&Tf(o)}}function Tf(n){for(let c=Wh(n);null!==c;c=Od(c))for(let l=10;l<c.length;l++){const p=c[l];if(qs(p))if(512&p[2]){const b=p[1];Ef(b,p,b.template,p[8])}else p[5]>0&&Tf(p)}const o=n[1].components;if(null!==o)for(let c=0;c<o.length;c++){const l=Kr(o[c],n);qs(l)&&l[5]>0&&Tf(l)}}function Tg(n,i){const o=Kr(i,n),c=o[1];(function Ky(n,i){for(let o=i.length;o<n.blueprint.length;o++)i.push(n.blueprint[o])})(c,o),bf(c,o,o[8])}function Af(n,i){return n[13]?n[14][4]=i:n[13]=i,n[14]=i,i}function Ag(n){for(;n;){n[2]|=32;const i=Rd(n);if(Zn(n)&&!i)return n;n=i}return null}function Hl(n,i,o,c=!0){const l=i[10];l.begin&&l.begin();try{Ef(n,i,n.template,o)}catch(b){throw c&&Mg(i,b),b}finally{l.end&&l.end()}}function Qd(n,i,o){Ks(0),i(n,o)}function xf(n){return n[7]||(n[7]=[])}function Xy(n){return n.cleanup||(n.cleanup=[])}function Mg(n,i){const o=n[9],c=o?o.get(Td,null):null;c&&c.handleError(i)}function Rg(n,i,o,c,l){for(let p=0;p<o.length;){const b=o[p++],S=o[p++],O=i[b],U=n.data[b];null!==U.setInput?U.setInput(O,l,c,S):O[S]=l}}function Gl(n,i,o){let c=o?n.styles:null,l=o?n.classes:null,p=0;if(null!==i)for(let b=0;b<i.length;b++){const S=i[b];"number"==typeof S?p=S:1==p?l=Re(l,S):2==p&&(c=Re(c,S+": "+i[++b]+";"))}o?n.styles=c:n.stylesWithoutHost=c,o?n.classes=l:n.classesWithoutHost=l}function Jd(n,i,o,c,l=!1){for(;null!==o;){const p=i[o.index];if(null!==p&&c.push(Er(p)),bt(p))for(let S=10;S<p.length;S++){const O=p[S],U=O[1].firstChild;null!==U&&Jd(O[1],O,U,c)}const b=o.type;if(8&b)Jd(n,i,o.child,c);else if(32&b){const S=pu(o,i);let O;for(;O=S();)c.push(O)}else if(16&b){const S=hy(i,o);if(Array.isArray(S))c.push(...S);else{const O=Rd(i[16]);Jd(O[1],O,S,c,!0)}}o=l?o.projectionNext:o.next}return c}class zl{constructor(i,o){this._lView=i,this._cdRefInjectingView=o,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const i=this._lView,o=i[1];return Jd(o,i,o.firstChild,[])}get context(){return this._lView[8]}set context(i){this._lView[8]=i}get destroyed(){return 128==(128&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const i=this._lView[3];if(bt(i)){const o=i[8],c=o?o.indexOf(this):-1;c>-1&&(Xh(i,c),ji(o,c))}this._attachedToViewContainer=!1}Nd(this._lView[1],this._lView)}onDestroy(i){wf(this._lView[1],this._lView,null,i)}markForCheck(){Ag(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-65}reattach(){this._lView[2]|=64}detectChanges(){Hl(this._lView[1],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new ee(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function Zh(n,i){kl(n,i,i[11],2,null,null)}(this._lView[1],this._lView)}attachToAppRef(i){if(this._attachedToViewContainer)throw new ee(902,!1);this._appRef=i}}class Qy extends zl{constructor(i){super(i),this._view=i}detectChanges(){const i=this._view;Hl(i[1],i,i[8],!1)}checkNoChanges(){}get context(){return null}}class Wl extends D{constructor(i){super(),this.ngModule=i}resolveComponentFactory(i){const o=hn(i);return new ql(o,this.ngModule)}}function Nr(n){const i=[];for(let o in n)n.hasOwnProperty(o)&&i.push({propName:n[o],templateName:o});return i}class ev{constructor(i,o){this.injector=i,this.parentInjector=o}get(i,o,c){const l=this.injector.get(i,xl,c);return l!==xl||o===xl?l:this.parentInjector.get(i,o,c)}}class ql extends Al{constructor(i,o){super(),this.componentDef=i,this.ngModule=o,this.componentType=i.type,this.selector=function by(n){return n.map(Wp).join(",")}(i.selectors),this.ngContentSelectors=i.ngContentSelectors?i.ngContentSelectors:[],this.isBoundToModule=!!o}get inputs(){return Nr(this.componentDef.inputs)}get outputs(){return Nr(this.componentDef.outputs)}create(i,o,c,l){let p=(l=l||this.ngModule)instanceof Ga?l:null==l?void 0:l.injector;p&&null!==this.componentDef.getStandaloneInjector&&(p=this.componentDef.getStandaloneInjector(p)||p);const b=p?new ev(i,p):i,S=b.get(un,null);if(null===S)throw new ee(407,!1);const O=b.get(_s,null),U=S.createRenderer(null,this.componentDef),J=this.componentDef.selectors[0][0]||"div",ge=c?function y0(n,i,o){return n.selectRootElement(i,o===fr.ShadowDom)}(U,c,this.componentDef.encapsulation):$p(U,J,function Jy(n){const i=n.toLowerCase();return"svg"===i?"svg":"math"===i?"math":null}(J)),Ge=this.componentDef.onPush?288:272,ut=Xd(0,null,null,1,0,null,null,null,null,null),At=vf(null,ut,null,Ge,null,null,S,U,O,b,null);let jt,sn;z(At);try{const Tn=function _u(n,i,o,c,l,p){const b=o[1];o[22]=n;const O=rl(b,22,2,"#host",null),U=O.mergedAttrs=i.hostAttrs;null!==U&&(Gl(O,U,!0),null!==n&&(Fa(l,n,U),null!==O.classes&&Vd(l,n,O.classes),null!==O.styles&&my(l,n,O.styles)));const J=c.createRenderer(n,i),ge=vf(o,If(i),null,i.onPush?32:16,o[22],O,c,J,p||null,null,null);return b.firstCreatePass&&(ko(wa(O,o),b,i.type),zy(b,O),Sf(O,o.length,1)),Af(o,ge),o[22]=ge}(ge,this.componentDef,At,S,U);if(ge)if(c)Fa(U,ge,["ng-version",zc.full]);else{const{attrs:Bn,classes:Ft}=function X_(n){const i=[],o=[];let c=1,l=2;for(;c<n.length;){let p=n[c];if("string"==typeof p)2===l?""!==p&&i.push(p,n[++c]):8===l&&o.push(p);else{if(!Xo(l))break;l=p}c++}return{attrs:i,classes:o}}(this.componentDef.selectors[0]);Bn&&Fa(U,ge,Bn),Ft&&Ft.length>0&&Vd(U,ge,Ft.join(" "))}if(sn=As(ut,22),void 0!==o){const Bn=sn.projection=[];for(let Ft=0;Ft<this.ngContentSelectors.length;Ft++){const Xn=o[Ft];Bn.push(null!=Xn?Array.from(Xn):null)}}jt=function tv(n,i,o,c){const l=o[1],p=function gg(n,i,o){const c=V();n.firstCreatePass&&(o.providersResolver&&o.providersResolver(o),Wy(n,c,i,il(n,i,1,null),o),fg(n,c));const l=Ms(i,n,c.directiveStart,c);Co(l,i);const p=pi(c,i);return p&&Co(p,i),l}(l,o,i);if(n[8]=o[8]=p,null!==c)for(const S of c)S(p,i);if(i.contentQueries){const S=V();i.contentQueries(1,p,S.directiveStart)}const b=V();return!l.firstCreatePass||null===i.hostBindings&&null===i.hostAttrs||(Yn(b.index),Cf(o[1],b,0,b.directiveStart,b.directiveEnd,i),_g(i,p)),p}(Tn,this.componentDef,At,[I0]),bf(ut,At,null)}finally{Ct()}return new Li(this.componentType,jt,ne(sn,At),At,sn)}}class Li extends class Ra{}{constructor(i,o,c,l,p){super(),this.location=c,this._rootLView=l,this._tNode=p,this.instance=o,this.hostView=this.changeDetectorRef=new Qy(l),this.componentType=i}setInput(i,o){const c=this._tNode.inputs;let l;if(null!==c&&(l=c[i])){const p=this._rootLView;Rg(p[1],p,l,i,o),Gy(p,this._tNode.index)}}get injector(){return new Xs(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(i){this.hostView.onDestroy(i)}}function I0(){const n=V();Vs(xt()[1],n)}function Mf(n){let i=function th(n){return Object.getPrototypeOf(n.prototype).constructor}(n.type),o=!0;const c=[n];for(;i;){let l;if(mn(n))l=i.\u0275cmp||i.\u0275dir;else{if(i.\u0275cmp)throw new ee(903,!1);l=i.\u0275dir}if(l){if(o){c.push(l);const b=n;b.inputs=Rf(n.inputs),b.declaredInputs=Rf(n.declaredInputs),b.outputs=Rf(n.outputs);const S=l.hostBindings;S&&yE(n,S);const O=l.viewQuery,U=l.contentQueries;if(O&&Of(n,O),U&&w0(n,U),ae(n.inputs,l.inputs),ae(n.declaredInputs,l.declaredInputs),ae(n.outputs,l.outputs),mn(l)&&l.data.animation){const J=n.data;J.animation=(J.animation||[]).concat(l.data.animation)}}const p=l.features;if(p)for(let b=0;b<p.length;b++){const S=p[b];S&&S.ngInherit&&S(n),S===Mf&&(o=!1)}}i=Object.getPrototypeOf(i)}!function Og(n){let i=0,o=null;for(let c=n.length-1;c>=0;c--){const l=n[c];l.hostVars=i+=l.hostVars,l.hostAttrs=Eo(l.hostAttrs,o=Eo(o,l.hostAttrs))}}(c)}function Rf(n){return n===an?{}:n===Dn?[]:n}function Of(n,i){const o=n.viewQuery;n.viewQuery=o?(c,l)=>{i(c,l),o(c,l)}:i}function w0(n,i){const o=n.contentQueries;n.contentQueries=o?(c,l,p)=>{i(c,l,p),o(c,l,p)}:i}function yE(n,i){const o=n.hostBindings;n.hostBindings=o?(c,l)=>{i(c,l),o(c,l)}:i}let kf=null;function sl(){if(!kf){const n=ir.Symbol;if(n&&n.iterator)kf=n.iterator;else{const i=Object.getOwnPropertyNames(Map.prototype);for(let o=0;o<i.length;++o){const c=i[o];"entries"!==c&&"size"!==c&&Map.prototype[c]===Map.prototype.entries&&(kf=c)}}}return kf}function ol(n){return!!nh(n)&&(Array.isArray(n)||!(n instanceof Map)&&sl()in n)}function nh(n){return null!==n&&("function"==typeof n||"object"==typeof n)}function lo(n,i,o){return!Object.is(n[i],o)&&(n[i]=o,!0)}function Pf(n,i,o,c){const l=xt();return lo(l,gr(),i)&&(or(),vu(wn(),l,n,i,o,c)),Pf}function cv(n,i,o,c,l,p,b,S){const O=xt(),U=or(),J=n+22,ge=U.firstCreatePass?function uv(n,i,o,c,l,p,b,S,O){const U=i.consts,J=rl(i,n,4,b||null,Mi(U,S));mg(i,o,J,Mi(U,O)),Vs(i,J);const ge=J.tViews=Xd(2,J,c,l,p,i.directiveRegistry,i.pipeRegistry,null,i.schemas,U);return null!==i.queries&&(i.queries.template(i,J),ge.queries=i.queries.embeddedTView(J)),J}(J,U,O,i,o,c,l,p,b):U.data[J];f(ge,!1);const Ge=O[11].createComment("");Qh(U,O,Ge,ge),Co(Ge,O),Af(O,O[J]=Yy(Ge,O,Ge,ge)),An(ge)&&hg(U,O,ge),null!=b&&Zd(O,ge,S)}function Ng(n,i,o){const c=xt();return lo(c,gr(),i)&&function Vo(n,i,o,c,l,p,b,S){const O=pi(i,o);let J,U=i.inputs;!S&&null!=U&&(J=U[c])?(Rg(n,o,J,c,l),Qt(i)&&Gy(o,i.index)):3&i.type&&(c=function v0(n){return"class"===n?"className":"for"===n?"htmlFor":"formaction"===n?"formAction":"innerHtml"===n?"innerHTML":"readonly"===n?"readOnly":"tabindex"===n?"tabIndex":n}(c),l=null!=b?b(l,i.value||"",c):l,p.setProperty(O,c,l))}(or(),wn(),c,n,i,c[11],o,!1),Ng}function Fg(n,i,o,c,l){const b=l?"class":"style";Rg(n,o,i.inputs[b],b,c)}function Ff(n,i,o,c){const l=xt(),p=or(),b=22+n,S=l[11],O=l[b]=$p(S,i,function to(){return On.lFrame.currentNamespace}()),U=p.firstCreatePass?function R0(n,i,o,c,l,p,b){const S=i.consts,U=rl(i,n,2,l,Mi(S,p));return mg(i,o,U,Mi(S,b)),null!==U.attrs&&Gl(U,U.attrs,!1),null!==U.mergedAttrs&&Gl(U,U.mergedAttrs,!0),null!==i.queries&&i.queries.elementStart(i,U),U}(b,p,l,0,i,o,c):p.data[b];f(U,!0);const J=U.mergedAttrs;null!==J&&Fa(S,O,J);const ge=U.classes;null!==ge&&Vd(S,O,ge);const Ge=U.styles;return null!==Ge&&my(S,O,Ge),64!=(64&U.flags)&&Qh(p,l,O,U),0===function Ys(){return On.lFrame.elementDepthCount}()&&Co(O,l),function xo(){On.lFrame.elementDepthCount++}(),An(U)&&(hg(p,l,U),Uy(p,U,l)),null!==c&&Zd(l,U),Ff}function Lg(){let n=V();x()?y():(n=n.parent,f(n,!1));const i=n;!function yo(){On.lFrame.elementDepthCount--}();const o=or();return o.firstCreatePass&&(Vs(o,n),Bt(n)&&o.queries.elementEnd(n)),null!=i.classesWithoutHost&&function na(n){return 0!=(16&n.flags)}(i)&&Fg(o,i,xt(),i.classesWithoutHost,!0),null!=i.stylesWithoutHost&&function nc(n){return 0!=(32&n.flags)}(i)&&Fg(o,i,xt(),i.stylesWithoutHost,!1),Lg}function Vg(n,i,o,c){return Ff(n,i,o,c),Lg(),Vg}function Lf(n,i,o){const c=xt(),l=or(),p=n+22,b=l.firstCreatePass?function O0(n,i,o,c,l){const p=i.consts,b=Mi(p,c),S=rl(i,n,8,"ng-container",b);return null!==b&&Gl(S,b,!0),mg(i,o,S,Mi(p,l)),null!==i.queries&&i.queries.elementStart(i,S),S}(p,l,c,i,o):l.data[p];f(b,!0);const S=c[p]=c[11].createComment("");return Qh(l,c,S,b),Co(S,c),An(b)&&(hg(l,c,b),Uy(l,b,c)),null!=o&&Zd(c,b),Lf}function Oa(){let n=V();const i=or();return x()?y():(n=n.parent,f(n,!1)),i.firstCreatePass&&(Vs(i,n),Bt(n)&&i.queries.elementEnd(n)),Oa}function Ka(n,i,o){return Lf(n,i,o),Oa(),Ka}function Ku(n){return!!n&&"function"==typeof n.then}function rh(n){return!!n&&"function"==typeof n.subscribe}const dv=rh;function Bg(n,i,o,c){const l=xt(),p=or(),b=V();return function ih(n,i,o,c,l,p,b,S){const O=An(c),J=n.firstCreatePass&&Xy(n),ge=i[8],Ge=xf(i);let ut=!0;if(3&c.type||S){const sn=pi(c,i),Tn=S?S(sn):sn,Bn=Ge.length,Ft=S?Jr=>S(Er(Jr[c.index])):c.index;let Xn=null;if(!S&&O&&(Xn=function hv(n,i,o,c){const l=n.cleanup;if(null!=l)for(let p=0;p<l.length-1;p+=2){const b=l[p];if(b===o&&l[p+1]===c){const S=i[7],O=l[p+2];return S.length>O?S[O]:null}"string"==typeof b&&(p+=2)}return null}(n,i,l,c.index)),null!==Xn)(Xn.__ngLastListenerFn__||Xn).__ngNextListenerFn__=p,Xn.__ngLastListenerFn__=p,ut=!1;else{p=Dc(c,i,ge,p,!1);const Jr=o.listen(Tn,l,p);Ge.push(p,Jr),J&&J.push(l,Ft,Bn,Bn+1)}}else p=Dc(c,i,ge,p,!1);const At=c.outputs;let jt;if(ut&&null!==At&&(jt=At[l])){const sn=jt.length;if(sn)for(let Tn=0;Tn<sn;Tn+=2){const as=i[jt[Tn]][jt[Tn+1]].subscribe(p),Dh=Ge.length;Ge.push(p,as),J&&J.push(l,c.index,Dh,-(Dh+1))}}}(p,l,l[11],b,n,i,0,c),Bg}function fv(n,i,o,c){try{return!1!==o(c)}catch(l){return Mg(n,l),!1}}function Dc(n,i,o,c,l){return function p(b){if(b===Function)return c;Ag(2&n.flags?Kr(n.index,i):i);let O=fv(i,0,c,b),U=p.__ngNextListenerFn__;for(;U;)O=fv(i,0,U,b)&&O,U=U.__ngNextListenerFn__;return l&&!1===O&&(b.preventDefault(),b.returnValue=!1),O}}function sh(n=1){return function rn(n){return(On.lFrame.contextLView=function mr(n,i){for(;n>0;)i=i[15],n--;return i}(n,On.lFrame.contextLView))[8]}(n)}function oh(n,i){let o=null;const c=function Gp(n){const i=n.attrs;if(null!=i){const o=i.indexOf(5);if(0==(1&o))return i[o+1]}return null}(n);for(let l=0;l<i.length;l++){const p=i[l];if("*"!==p){if(null===c?Hp(n,p,!0):ef(c,p))return l}else o=l}return o}function Ug(n){const i=xt()[16][6];if(!i.projection){const c=i.projection=Rs(n?n.length:1,null),l=c.slice();let p=i.child;for(;null!==p;){const b=n?oh(p,n):0;null!==b&&(l[b]?l[b].projectionNext=p:c[b]=p,l[b]=p),p=p.next}}}function Vf(n,i=0,o){const c=xt(),l=or(),p=rl(l,22+n,16,null,o||null);null===p.projection&&(p.projection=i),y(),64!=(64&p.flags)&&function fy(n,i,o){py(i[11],0,i,o,Zc(n,o,i),cy(o.parent||i[6],o,i))}(l,c,p)}function ah(n,i,o,c,l){const p=n[o+1],b=null===i;let S=c?Qo(p):Wa(p),O=!1;for(;0!==S&&(!1===O||b);){const J=n[S+1];yv(n[S],i)&&(O=!0,n[S+1]=c?df(J):lf(J)),S=c?Qo(J):Wa(J)}O&&(n[o+1]=c?lf(p):df(p))}function yv(n,i){return null===n||null==i||(Array.isArray(n)?n[1]:n)===i||!(!Array.isArray(n)||"string"!=typeof i)&&ys(n,i)>=0}function Yg(n,i){return function Za(n,i,o,c){const l=xt(),p=or(),b=function dr(n){const i=On.lFrame,o=i.bindingIndex;return i.bindingIndex=i.bindingIndex+n,o}(2);p.firstUpdatePass&&function Zg(n,i,o,c){const l=n.data;if(null===l[o+1]){const p=l[Nn()],b=function Kg(n,i){return i>=n.expandoStartIndex}(n,o);(function Tv(n,i){return 0!=(n.flags&(i?16:32))})(p,c)&&null===i&&!b&&(i=!1),i=function Iv(n,i,o,c){const l=function ba(n){const i=On.lFrame.currentDirectiveIndex;return-1===i?null:n[i]}(n);let p=c?i.residualClasses:i.residualStyles;if(null===l)0===(c?i.classBindings:i.styleBindings)&&(o=Sc(o=ch(null,n,i,o,c),i.attrs,c),p=null);else{const b=i.directiveStylingLast;if(-1===b||n[b]!==l)if(o=ch(l,n,i,o,c),null===p){let O=function wv(n,i,o){const c=o?i.classBindings:i.styleBindings;if(0!==Wa(c))return n[Qo(c)]}(n,i,c);void 0!==O&&Array.isArray(O)&&(O=ch(null,n,i,O[1],c),O=Sc(O,i.attrs,c),function Dv(n,i,o,c){n[Qo(o?i.classBindings:i.styleBindings)]=c}(n,i,c,O))}else p=function Cv(n,i,o){let c;const l=i.directiveEnd;for(let p=1+i.directiveStylingLast;p<l;p++)c=Sc(c,n[p].hostAttrs,o);return Sc(c,i.attrs,o)}(n,i,c)}return void 0!==p&&(c?i.residualClasses=p:i.residualStyles=p),o}(l,p,i,c),function k0(n,i,o,c,l,p){let b=p?i.classBindings:i.styleBindings,S=Qo(b),O=Wa(b);n[c]=o;let J,U=!1;if(Array.isArray(o)){const ge=o;J=ge[1],(null===J||ys(ge,J)>0)&&(U=!0)}else J=o;if(l)if(0!==O){const Ge=Qo(n[S+1]);n[c+1]=Fl(Ge,S),0!==Ge&&(n[Ge+1]=Hd(n[Ge+1],c)),n[S+1]=function og(n,i){return 131071&n|i<<17}(n[S+1],c)}else n[c+1]=Fl(S,0),0!==S&&(n[S+1]=Hd(n[S+1],c)),S=c;else n[c+1]=Fl(O,0),0===S?S=c:n[O+1]=Hd(n[O+1],c),O=c;U&&(n[c+1]=lf(n[c+1])),ah(n,J,c,!0),ah(n,J,c,!1),function jf(n,i,o,c,l){const p=l?n.residualClasses:n.residualStyles;null!=p&&"string"==typeof i&&ys(p,i)>=0&&(o[c+1]=df(o[c+1]))}(i,J,n,c,p),b=Fl(S,O),p?i.classBindings=b:i.styleBindings=b}(l,p,i,o,b,c)}}(p,n,b,c),i!==ur&&lo(l,b,i)&&function rd(n,i,o,c,l,p,b,S){if(!(3&i.type))return;const O=n.data,U=O[S+1];zf(function mu(n){return 1==(1&n)}(U)?Qu(O,i,o,l,Wa(U),b):void 0)||(zf(p)||function Ll(n){return 2==(2&n)}(U)&&(p=Qu(O,null,o,l,S,b)),function q_(n,i,o,c,l){if(i)l?n.addClass(o,c):n.removeClass(o,c);else{let p=-1===c.indexOf("-")?void 0:Zo.DashCase;null==l?n.removeStyle(o,c,p):("string"==typeof l&&l.endsWith("!important")&&(l=l.slice(0,-10),p|=Zo.Important),n.setStyle(o,c,l,p))}}(c,b,kr(Nn(),o),l,p))}(p,p.data[Nn()],l,l[11],n,l[b+1]=function Sv(n,i){return null==n||("string"==typeof i?n+=i:"object"==typeof n&&(n=ie(Ma(n)))),n}(i,o),c,b)}(n,i,null,!0),Yg}function ch(n,i,o,c,l){let p=null;const b=o.directiveEnd;let S=o.directiveStylingLast;for(-1===S?S=o.directiveStart:S++;S<b&&(p=i[S],c=Sc(c,p.hostAttrs,l),p!==n);)S++;return null!==n&&(o.directiveStylingLast=S),c}function Sc(n,i,o){const c=o?1:2;let l=-1;if(null!==i)for(let p=0;p<i.length;p++){const b=i[p];"number"==typeof b?l=b:l===c&&(Array.isArray(n)||(n=void 0===n?[]:["",n]),Vr(n,b,!!o||i[++p]))}return void 0===n?null:n}function Qu(n,i,o,c,l,p){const b=null===i;let S;for(;l>0;){const O=n[l],U=Array.isArray(O),J=U?O[1]:O,ge=null===J;let Ge=o[l+1];Ge===ur&&(Ge=ge?Dn:void 0);let ut=ge?xu(Ge,c):J===c?Ge:void 0;if(U&&!zf(ut)&&(ut=xu(O,c)),zf(ut)&&(S=ut,b))return S;const At=n[l+1];l=b?Qo(At):Wa(At)}if(null!==i){let O=p?i.residualClasses:i.residualStyles;null!=O&&(S=xu(O,c))}return S}function zf(n){return void 0!==n}function Ju(n,i=""){const o=xt(),c=or(),l=n+22,p=c.firstCreatePass?rl(c,l,1,i,null):c.data[l],b=o[l]=function Bp(n,i){return n.createText(i)}(o[11],i);Qh(c,o,b,p),f(p,!1)}function Wf(n,i,o){const c=xt(),l=function wc(n,i,o,c){return lo(n,gr(),o)?i+Be(o)+c:ur}(c,n,i,o);return l!==ur&&function qa(n,i,o){const c=kr(i,n);!function Yh(n,i,o){n.setValue(i,o)}(n[11],c,o)}(c,Nn(),l),Wf}const ll=void 0;var Uv=["en",[["a","p"],["AM","PM"],ll],[["AM","PM"],ll,ll],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],ll,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],ll,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",ll,"{1} 'at' {0}",ll],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function $v(n){const o=Math.floor(Math.abs(n)),c=n.toString().replace(/^[^.]*\.?/,"").length;return 1===o&&0===c?1:5}];let ka={};function ho(n){const i=function Y0(n){return n.toLowerCase().replace(/_/g,"-")}(n);let o=od(i);if(o)return o;const c=i.split("-")[0];if(o=od(c),o)return o;if("en"===c)return Uv;throw new ee(701,!1)}function im(n){return ho(n)[vn.PluralCase]}function od(n){return n in ka||(ka[n]=ir.ng&&ir.ng.common&&ir.ng.common.locales&&ir.ng.common.locales[n]),ka[n]}var vn=(()=>((vn=vn||{})[vn.LocaleId=0]="LocaleId",vn[vn.DayPeriodsFormat=1]="DayPeriodsFormat",vn[vn.DayPeriodsStandalone=2]="DayPeriodsStandalone",vn[vn.DaysFormat=3]="DaysFormat",vn[vn.DaysStandalone=4]="DaysStandalone",vn[vn.MonthsFormat=5]="MonthsFormat",vn[vn.MonthsStandalone=6]="MonthsStandalone",vn[vn.Eras=7]="Eras",vn[vn.FirstDayOfWeek=8]="FirstDayOfWeek",vn[vn.WeekendRange=9]="WeekendRange",vn[vn.DateFormat=10]="DateFormat",vn[vn.TimeFormat=11]="TimeFormat",vn[vn.DateTimeFormat=12]="DateTimeFormat",vn[vn.NumberSymbols=13]="NumberSymbols",vn[vn.NumberFormats=14]="NumberFormats",vn[vn.CurrencyCode=15]="CurrencyCode",vn[vn.CurrencySymbol=16]="CurrencySymbol",vn[vn.CurrencyName=17]="CurrencyName",vn[vn.Currencies=18]="Currencies",vn[vn.Directionality=19]="Directionality",vn[vn.PluralCase=20]="PluralCase",vn[vn.ExtraData=21]="ExtraData",vn))();const Pa="en-US";let am=Pa;function ym(n,i,o,c,l){if(n=_e(n),Array.isArray(n))for(let p=0;p<n.length;p++)ym(n[p],i,o,c,l);else{const p=or(),b=xt();let S=Ko(n)?n:_e(n.provide),O=uo(n);const U=V(),J=1048575&U.providerIndexes,ge=U.directiveStart,Ge=U.providerIndexes>>20;if(Ko(n)||!n.multi){const ut=new Ea(O,l,gu),At=yh(S,i,l?J:J+Ge,ge);-1===At?(ko(wa(U,b),p,S),vm(p,n,i.length),i.push(S),U.directiveStart++,U.directiveEnd++,l&&(U.providerIndexes+=1048576),o.push(ut),b.push(ut)):(o[At]=ut,b[At]=ut)}else{const ut=yh(S,i,J+Ge,ge),At=yh(S,i,J,J+Ge),jt=ut>=0&&o[ut],sn=At>=0&&o[At];if(l&&!sn||!l&&!jt){ko(wa(U,b),p,S);const Tn=function vb(n,i,o,c,l){const p=new Ea(n,o,gu);return p.multi=[],p.index=i,p.componentProviders=0,mh(p,l,c&&!o),p}(l?bm:_m,o.length,l,c,O);!l&&sn&&(o[At].providerFactory=Tn),vm(p,n,i.length,0),i.push(S),U.directiveStart++,U.directiveEnd++,l&&(U.providerIndexes+=1048576),o.push(Tn),b.push(Tn)}else vm(p,n,ut>-1?ut:At,mh(o[l?At:ut],O,!l&&c));!l&&c&&sn&&o[At].componentProviders++}}}function vm(n,i,o,c){const l=Ko(i),p=function Sl(n){return!!n.useClass}(i);if(l||p){const O=(p?_e(i.useClass):i).prototype.ngOnDestroy;if(O){const U=n.destroyHooks||(n.destroyHooks=[]);if(!l&&i.multi){const J=U.indexOf(o);-1===J?U.push(o,[c,O]):U[J+1].push(c,O)}else U.push(o,O)}}}function mh(n,i,o){return o&&n.componentProviders++,n.multi.push(i)-1}function yh(n,i,o,c){for(let l=o;l<c;l++)if(i[l]===n)return l;return-1}function _m(n,i,o,c){return sp(this.multi,[])}function bm(n,i,o,c){const l=this.multi;let p;if(this.providerFactory){const b=this.providerFactory.componentProviders,S=Ms(o,o[1],this.providerFactory.index,c);p=S.slice(0,b),sp(l,p);for(let O=b;O<S.length;O++)p.push(S[O])}else p=[],sp(l,p);return p}function sp(n,i){for(let o=0;o<n.length;o++)i.push((0,n[o])());return i}function Em(n,i=[]){return o=>{o.providersResolver=(c,l)=>function yb(n,i,o){const c=or();if(c.firstCreatePass){const l=mn(n);ym(o,c.data,c.blueprint,l,!0),ym(i,c.data,c.blueprint,l,!1)}}(c,l?l(n):n,i)}}class Ja{}class Im{}function _b(n,i){return new c_(n,null!=i?i:null)}class c_ extends Ja{constructor(i,o){super(),this._parent=o,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new Wl(this);const c=tt(i);this._bootstrapComponents=fa(c.bootstrap),this._r3Injector=Qp(i,o,[{provide:Ja,useValue:this},{provide:D,useValue:this.componentFactoryResolver}],ie(i),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(i)}get injector(){return this._r3Injector}destroy(){const i=this._r3Injector;!i.destroyed&&i.destroy(),this.destroyCbs.forEach(o=>o()),this.destroyCbs=null}onDestroy(i){this.destroyCbs.push(i)}}class wm extends Im{constructor(i){super(),this.moduleType=i}create(i){return new c_(this.moduleType,i)}}class bb extends Ja{constructor(i,o,c){super(),this.componentFactoryResolver=new Wl(this),this.instance=null;const l=new ao([...i,{provide:Ja,useValue:this},{provide:D,useValue:this.componentFactoryResolver}],o||Hc(),c,new Set(["environment"]));this.injector=l,l.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(i){this.injector.onDestroy(i)}}function Dm(n,i,o=null){return new bb(n,i,o).injector}let Eb=(()=>{class n{constructor(o){this._injector=o,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(o){if(!o.standalone)return null;if(!this.cachedInjectors.has(o.id)){const c=Ed(0,o.type),l=c.length>0?Dm([c],this._injector,`Standalone[${o.type.name}]`):null;this.cachedInjectors.set(o.id,l)}return this.cachedInjectors.get(o.id)}ngOnDestroy(){try{for(const o of this.cachedInjectors.values())null!==o&&o.destroy()}finally{this.cachedInjectors.clear()}}}return n.\u0275prov=zt({token:n,providedIn:"environment",factory:()=>new n(Vt(Ga))}),n})();function l_(n){n.getStandaloneInjector=i=>i.get(Eb).getOrCreateStandaloneInjector(n)}function ap(n){return i=>{setTimeout(n,void 0,i)}}const eu=class y_ extends a.xQ{constructor(i=!1){super(),this.__isAsync=i}emit(i){super.next(i)}subscribe(i,o,c){var l,p,b;let S=i,O=o||(()=>null),U=c;if(i&&"object"==typeof i){const ge=i;S=null===(l=ge.next)||void 0===l?void 0:l.bind(ge),O=null===(p=ge.error)||void 0===p?void 0:p.bind(ge),U=null===(b=ge.complete)||void 0===b?void 0:b.bind(ge)}this.__isAsync&&(O=ap(O),S&&(S=ap(S)),U&&(U=ap(U)));const J=super.subscribe({next:S,error:O,complete:U});return i instanceof X.w&&i.add(J),J}};function v_(){return this._results[sl()]()}class up{constructor(i=!1){this._emitDistinctChangesOnly=i,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const o=sl(),c=up.prototype;c[o]||(c[o]=v_)}get changes(){return this._changes||(this._changes=new eu)}get(i){return this._results[i]}map(i){return this._results.map(i)}filter(i){return this._results.filter(i)}find(i){return this._results.find(i)}reduce(i,o){return this._results.reduce(i,o)}forEach(i){this._results.forEach(i)}some(i){return this._results.some(i)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(i,o){const c=this;c.dirty=!1;const l=ms(i);(this._changesDetected=!function Ta(n,i,o){if(n.length!==i.length)return!1;for(let c=0;c<n.length;c++){let l=n[c],p=i[c];if(o&&(l=o(l),p=o(p)),p!==l)return!1}return!0}(c._results,l,o))&&(c._results=l,c.length=l.length,c.last=l[this.length-1],c.first=l[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}let hd=(()=>{class n{}return n.__NG_ELEMENT_ID__=Pb,n})();const __=hd,jE=class extends __{constructor(i,o,c){super(),this._declarationLView=i,this._declarationTContainer=o,this.elementRef=c}createEmbeddedView(i,o){const c=this._declarationTContainer.tViews,l=vf(this._declarationLView,c,i,16,null,c.declTNode,null,null,null,null,o||null);l[17]=this._declarationLView[this._declarationTContainer.index];const b=this._declarationLView[19];return null!==b&&(l[19]=b.createEmbeddedView(c)),bf(c,l,i),new zl(l)}};function Pb(){return bh(V(),xt())}function bh(n,i){return 4&n.type?new jE(i,n,ne(n,i)):null}let cp=(()=>{class n{}return n.__NG_ELEMENT_ID__=Pm,n})();function Pm(){return E_(V(),xt())}const lp=cp,Nm=class extends lp{constructor(i,o,c){super(),this._lContainer=i,this._hostTNode=o,this._hostLView=c}get element(){return ne(this._hostTNode,this._hostLView)}get injector(){return new Xs(this._hostTNode,this._hostLView)}get parentInjector(){const i=ro(this._hostTNode,this._hostLView);if(Su(i)){const o=xs(i,this._hostLView),c=Nt(i);return new Xs(o[1].data[c+8],o)}return new Xs(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(i){const o=b_(this._lContainer);return null!==o&&o[i]||null}get length(){return this._lContainer.length-10}createEmbeddedView(i,o,c){let l,p;"number"==typeof c?l=c:null!=c&&(l=c.index,p=c.injector);const b=i.createEmbeddedView(o||{},p);return this.insert(b,l),b}createComponent(i,o,c,l,p){const b=i&&!function ia(n){return"function"==typeof n}(i);let S;if(b)S=o;else{const ge=o||{};S=ge.index,c=ge.injector,l=ge.projectableNodes,p=ge.environmentInjector||ge.ngModuleRef}const O=b?i:new ql(hn(i)),U=c||this.parentInjector;if(!p&&null==O.ngModule){const Ge=(b?U:this.parentInjector).get(Ga,null);Ge&&(p=Ge)}const J=O.create(U,l,void 0,p);return this.insert(J.hostView,S),J}insert(i,o){const c=i._lView,l=c[1];if(function ns(n){return bt(n[3])}(c)){const J=this.indexOf(i);if(-1!==J)this.detach(J);else{const ge=c[3],Ge=new Nm(ge,ge[6],ge[3]);Ge.detach(Ge.indexOf(i))}}const p=this._adjustIndex(o),b=this._lContainer;!function iy(n,i,o,c){const l=10+c,p=o.length;c>0&&(o[l-1][4]=i),c<p-10?(i[4]=o[l],Aa(o,10+c,i)):(o.push(i),i[4]=null),i[3]=o;const b=i[17];null!==b&&o!==b&&function sy(n,i){const o=n[9];i[16]!==i[3][3][16]&&(n[2]=!0),null===o?n[9]=[i]:o.push(i)}(b,i);const S=i[19];null!==S&&S.insertView(n),i[2]|=64}(l,c,b,p);const S=Jh(p,b),O=c[11],U=Fd(O,b[7]);return null!==U&&function kd(n,i,o,c,l,p){c[0]=l,c[6]=i,kl(n,c,o,1,l,p)}(l,b[6],O,c,U,S),i.attachToViewContainerRef(),Aa(Eh(b),p,i),i}move(i,o){return this.insert(i,o)}indexOf(i){const o=b_(this._lContainer);return null!==o?o.indexOf(i):-1}remove(i){const o=this._adjustIndex(i,-1),c=Xh(this._lContainer,o);c&&(ji(Eh(this._lContainer),o),Nd(c[1],c))}detach(i){const o=this._adjustIndex(i,-1),c=Xh(this._lContainer,o);return c&&null!=ji(Eh(this._lContainer),o)?new zl(c):null}_adjustIndex(i,o=0){return null==i?this.length+o:i}};function b_(n){return n[8]}function Eh(n){return n[8]||(n[8]=[])}function E_(n,i){let o;const c=i[n.index];if(bt(c))o=c;else{let l;if(8&n.type)l=Er(c);else{const p=i[11];l=p.createComment("");const b=pi(n,i);pa(p,Fd(p,b),l,function W_(n,i){return n.nextSibling(i)}(p,b),!1)}i[n.index]=o=Yy(c,i,l,n),Af(i,o)}return new Nm(o,n,i)}class Fm{constructor(i){this.queryList=i,this.matches=null}clone(){return new Fm(this.queryList)}setDirty(){this.queryList.setDirty()}}class dp{constructor(i=[]){this.queries=i}createEmbeddedView(i){const o=i.queries;if(null!==o){const c=null!==i.contentQueries?i.contentQueries[0]:o.length,l=[];for(let p=0;p<c;p++){const b=o.getByIndex(p);l.push(this.queries[b.indexInDeclarationView].clone())}return new dp(l)}return null}insertView(i){this.dirtyQueriesWithMatches(i)}detachView(i){this.dirtyQueriesWithMatches(i)}dirtyQueriesWithMatches(i){for(let o=0;o<this.queries.length;o++)null!==xe(i,o).matches&&this.queries[o].setDirty()}}class Lm{constructor(i,o,c=null){this.predicate=i,this.flags=o,this.read=c}}class Vm{constructor(i=[]){this.queries=i}elementStart(i,o){for(let c=0;c<this.queries.length;c++)this.queries[c].elementStart(i,o)}elementEnd(i){for(let o=0;o<this.queries.length;o++)this.queries[o].elementEnd(i)}embeddedTView(i){let o=null;for(let c=0;c<this.length;c++){const l=null!==o?o.length:0,p=this.getByIndex(c).embeddedTView(i,l);p&&(p.indexInDeclarationView=c,null!==o?o.push(p):o=[p])}return null!==o?new Vm(o):null}template(i,o){for(let c=0;c<this.queries.length;c++)this.queries[c].template(i,o)}getByIndex(i){return this.queries[i]}get length(){return this.queries.length}track(i){this.queries.push(i)}}class Bm{constructor(i,o=-1){this.metadata=i,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=o}elementStart(i,o){this.isApplyingToNode(o)&&this.matchTNode(i,o)}elementEnd(i){this._declarationNodeIndex===i.index&&(this._appliesToNextNode=!1)}template(i,o){this.elementStart(i,o)}embeddedTView(i,o){return this.isApplyingToNode(i)?(this.crossesNgTemplate=!0,this.addMatch(-i.index,o),new Bm(this.metadata)):null}isApplyingToNode(i){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const o=this._declarationNodeIndex;let c=i.parent;for(;null!==c&&8&c.type&&c.index!==o;)c=c.parent;return o===(null!==c?c.index:-1)}return this._appliesToNextNode}matchTNode(i,o){const c=this.metadata.predicate;if(Array.isArray(c))for(let l=0;l<c.length;l++){const p=c[l];this.matchTNodeWithReadOption(i,o,D_(o,p)),this.matchTNodeWithReadOption(i,o,kn(o,i,p,!1,!1))}else c===hd?4&o.type&&this.matchTNodeWithReadOption(i,o,-1):this.matchTNodeWithReadOption(i,o,kn(o,i,c,!1,!1))}matchTNodeWithReadOption(i,o,c){if(null!==c){const l=this.metadata.read;if(null!==l)if(l===Ye||l===cp||l===hd&&4&o.type)this.addMatch(o.index,-2);else{const p=kn(o,i,l,!1,!1);null!==p&&this.addMatch(o.index,p)}else this.addMatch(o.index,c)}}addMatch(i,o){null===this.matches?this.matches=[i,o]:this.matches.push(i,o)}}function D_(n,i){const o=n.localNames;if(null!==o)for(let c=0;c<o.length;c+=2)if(o[c]===i)return o[c+1];return null}function Fb(n,i,o,c){return-1===o?function C_(n,i){return 11&n.type?ne(n,i):4&n.type?bh(n,i):null}(i,n):-2===o?function r(n,i,o){return o===Ye?ne(i,n):o===hd?bh(i,n):o===cp?E_(i,n):void 0}(n,i,c):Ms(n,n[1],o,i)}function e(n,i,o,c){const l=i[19].queries[c];if(null===l.matches){const p=n.data,b=o.matches,S=[];for(let O=0;O<b.length;O+=2){const U=b[O];S.push(U<0?null:Fb(i,p[U],b[O+1],o.metadata.read))}l.matches=S}return l.matches}function t(n,i,o,c){const l=n.queries.getByIndex(o),p=l.matches;if(null!==p){const b=e(n,i,l,o);for(let S=0;S<p.length;S+=2){const O=p[S];if(O>0)c.push(b[S/2]);else{const U=p[S+1],J=i[-O];for(let ge=10;ge<J.length;ge++){const Ge=J[ge];Ge[17]===Ge[3]&&t(Ge[1],Ge,U,c)}if(null!==J[9]){const ge=J[9];for(let Ge=0;Ge<ge.length;Ge++){const ut=ge[Ge];t(ut[1],ut,U,c)}}}}}return c}function s(n){const i=xt(),o=or(),c=ea();Ks(c+1);const l=xe(o,c);if(n.dirty&&function Ir(n){return 4==(4&n[2])}(i)===(2==(2&l.metadata.flags))){if(null===l.matches)n.reset([]);else{const p=l.crossesNgTemplate?t(o,i,c,[]):e(o,i,l,c);n.reset(p,It),n.notifyOnChanges()}return!0}return!1}function u(n,i,o){const c=or();c.firstCreatePass&&(G(c,new Lm(n,i,o),-1),2==(2&i)&&(c.staticViewQueries=!0)),L(c,xt(),i)}function d(n,i,o,c){const l=or();if(l.firstCreatePass){const p=V();G(l,new Lm(i,o,c),p.index),function oe(n,i){const o=n.contentQueries||(n.contentQueries=[]);i!==(o.length?o[o.length-1]:-1)&&o.push(n.queries.length-1,i)}(l,n),2==(2&o)&&(l.staticContentQueries=!0)}L(l,xt(),o)}function m(){return function C(n,i){return n[19].queries[i].queryList}(xt(),ea())}function L(n,i,o){const c=new up(4==(4&o));wf(n,i,c,c.destroy),null===i[19]&&(i[19]=new dp),i[19].queries.push(new Fm(c))}function G(n,i,o){null===n.queries&&(n.queries=new Vm),n.queries.track(new Bm(i,o))}function xe(n,i){return n.queries.getByIndex(i)}function T_(...n){}const sI=new Ur("Application Initializer");let A_=(()=>{class n{constructor(o){this.appInits=o,this.resolve=T_,this.reject=T_,this.initialized=!1,this.done=!1,this.donePromise=new Promise((c,l)=>{this.resolve=c,this.reject=l})}runInitializers(){if(this.initialized)return;const o=[],c=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let l=0;l<this.appInits.length;l++){const p=this.appInits[l]();if(Ku(p))o.push(p);else if(dv(p)){const b=new Promise((S,O)=>{p.subscribe({complete:S,error:O})});o.push(b)}}Promise.all(o).then(()=>{c()}).catch(l=>{this.reject(l)}),0===o.length&&c(),this.initialized=!0}}return n.\u0275fac=function(o){return new(o||n)(Vt(sI,8))},n.\u0275prov=zt({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const oI=new Ur("AppId",{providedIn:"root",factory:function aI(){return`${$b()}${$b()}${$b()}`}});function $b(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const uI=new Ur("Platform Initializer"),aw=new Ur("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),cI=new Ur("appBootstrapListener");let uw=(()=>{class n{log(o){console.log(o)}warn(o){console.warn(o)}}return n.\u0275fac=function(o){return new(o||n)},n.\u0275prov=zt({token:n,factory:n.\u0275fac,providedIn:"platform"}),n})();const x_=new Ur("LocaleId",{providedIn:"root",factory:()=>Hn(x_,en.Optional|en.SkipSelf)||function cw(){return"undefined"!=typeof $localize&&$localize.locale||Pa}()}),lw=new Ur("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});class dw{constructor(i,o){this.ngModuleFactory=i,this.componentFactories=o}}let hw=(()=>{class n{compileModuleSync(o){return new wm(o)}compileModuleAsync(o){return Promise.resolve(this.compileModuleSync(o))}compileModuleAndAllComponentsSync(o){const c=this.compileModuleSync(o),p=fa(tt(o).declarations).reduce((b,S)=>{const O=hn(S);return O&&b.push(new ql(O)),b},[]);return new dw(c,p)}compileModuleAndAllComponentsAsync(o){return Promise.resolve(this.compileModuleAndAllComponentsSync(o))}clearCache(){}clearCacheFor(o){}getModuleId(o){}}return n.\u0275fac=function(o){return new(o||n)},n.\u0275prov=zt({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const gw=(()=>Promise.resolve(0))();function Ub(n){"undefined"==typeof Zone?gw.then(()=>{n&&n.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",n)}class Iu{constructor({enableLongStackTrace:i=!1,shouldCoalesceEventChangeDetection:o=!1,shouldCoalesceRunChangeDetection:c=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new eu(!1),this.onMicrotaskEmpty=new eu(!1),this.onStable=new eu(!1),this.onError=new eu(!1),"undefined"==typeof Zone)throw new ee(908,!1);Zone.assertZonePatched();const l=this;if(l._nesting=0,l._outer=l._inner=Zone.current,Zone.AsyncStackTaggingZoneSpec){const p=Zone.AsyncStackTaggingZoneSpec;l._inner=l._inner.fork(new p("Angular"))}Zone.TaskTrackingZoneSpec&&(l._inner=l._inner.fork(new Zone.TaskTrackingZoneSpec)),i&&Zone.longStackTraceZoneSpec&&(l._inner=l._inner.fork(Zone.longStackTraceZoneSpec)),l.shouldCoalesceEventChangeDetection=!c&&o,l.shouldCoalesceRunChangeDetection=c,l.lastRequestAnimationFrameId=-1,l.nativeRequestAnimationFrame=function mw(){let n=ir.requestAnimationFrame,i=ir.cancelAnimationFrame;if("undefined"!=typeof Zone&&n&&i){const o=n[Zone.__symbol__("OriginalDelegate")];o&&(n=o);const c=i[Zone.__symbol__("OriginalDelegate")];c&&(i=c)}return{nativeRequestAnimationFrame:n,nativeCancelAnimationFrame:i}}().nativeRequestAnimationFrame,function _w(n){const i=()=>{!function vw(n){n.isCheckStableRunning||-1!==n.lastRequestAnimationFrameId||(n.lastRequestAnimationFrameId=n.nativeRequestAnimationFrame.call(ir,()=>{n.fakeTopEventTask||(n.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{n.lastRequestAnimationFrameId=-1,Hb(n),n.isCheckStableRunning=!0,jb(n),n.isCheckStableRunning=!1},void 0,()=>{},()=>{})),n.fakeTopEventTask.invoke()}),Hb(n))}(n)};n._inner=n._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(o,c,l,p,b,S)=>{try{return hI(n),o.invokeTask(l,p,b,S)}finally{(n.shouldCoalesceEventChangeDetection&&"eventTask"===p.type||n.shouldCoalesceRunChangeDetection)&&i(),fI(n)}},onInvoke:(o,c,l,p,b,S,O)=>{try{return hI(n),o.invoke(l,p,b,S,O)}finally{n.shouldCoalesceRunChangeDetection&&i(),fI(n)}},onHasTask:(o,c,l,p)=>{o.hasTask(l,p),c===l&&("microTask"==p.change?(n._hasPendingMicrotasks=p.microTask,Hb(n),jb(n)):"macroTask"==p.change&&(n.hasPendingMacrotasks=p.macroTask))},onHandleError:(o,c,l,p)=>(o.handleError(l,p),n.runOutsideAngular(()=>n.onError.emit(p)),!1)})}(l)}static isInAngularZone(){return"undefined"!=typeof Zone&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Iu.isInAngularZone())throw new ee(909,!1)}static assertNotInAngularZone(){if(Iu.isInAngularZone())throw new ee(909,!1)}run(i,o,c){return this._inner.run(i,o,c)}runTask(i,o,c,l){const p=this._inner,b=p.scheduleEventTask("NgZoneEvent: "+l,i,yw,T_,T_);try{return p.runTask(b,o,c)}finally{p.cancelTask(b)}}runGuarded(i,o,c){return this._inner.runGuarded(i,o,c)}runOutsideAngular(i){return this._outer.run(i)}}const yw={};function jb(n){if(0==n._nesting&&!n.hasPendingMicrotasks&&!n.isStable)try{n._nesting++,n.onMicrotaskEmpty.emit(null)}finally{if(n._nesting--,!n.hasPendingMicrotasks)try{n.runOutsideAngular(()=>n.onStable.emit(null))}finally{n.isStable=!0}}}function Hb(n){n.hasPendingMicrotasks=!!(n._hasPendingMicrotasks||(n.shouldCoalesceEventChangeDetection||n.shouldCoalesceRunChangeDetection)&&-1!==n.lastRequestAnimationFrameId)}function hI(n){n._nesting++,n.isStable&&(n.isStable=!1,n.onUnstable.emit(null))}function fI(n){n._nesting--,jb(n)}class bw{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new eu,this.onMicrotaskEmpty=new eu,this.onStable=new eu,this.onError=new eu}run(i,o,c){return i.apply(o,c)}runGuarded(i,o,c){return i.apply(o,c)}runOutsideAngular(i){return i()}runTask(i,o,c,l){return i.apply(o,c)}}const pI=new Ur(""),gI=new Ur("");let $m,Ew=(()=>{class n{constructor(o,c,l){this._ngZone=o,this.registry=c,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,$m||(function Iw(n){$m=n}(l),l.addToWindow(c)),this._watchAngularEvents(),o.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Iu.assertNotInAngularZone(),Ub(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())Ub(()=>{for(;0!==this._callbacks.length;){let o=this._callbacks.pop();clearTimeout(o.timeoutId),o.doneCb(this._didWork)}this._didWork=!1});else{let o=this.getPendingTasks();this._callbacks=this._callbacks.filter(c=>!c.updateCb||!c.updateCb(o)||(clearTimeout(c.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(o=>({source:o.source,creationLocation:o.creationLocation,data:o.data})):[]}addCallback(o,c,l){let p=-1;c&&c>0&&(p=setTimeout(()=>{this._callbacks=this._callbacks.filter(b=>b.timeoutId!==p),o(this._didWork,this.getPendingTasks())},c)),this._callbacks.push({doneCb:o,timeoutId:p,updateCb:l})}whenStable(o,c,l){if(l&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(o,c,l),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(o){this.registry.registerApplication(o,this)}unregisterApplication(o){this.registry.unregisterApplication(o)}findProviders(o,c,l){return[]}}return n.\u0275fac=function(o){return new(o||n)(Vt(Iu),Vt(mI),Vt(gI))},n.\u0275prov=zt({token:n,factory:n.\u0275fac}),n})(),mI=(()=>{class n{constructor(){this._applications=new Map}registerApplication(o,c){this._applications.set(o,c)}unregisterApplication(o){this._applications.delete(o)}unregisterAllApplications(){this._applications.clear()}getTestability(o){return this._applications.get(o)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(o,c=!0){var l;return null!==(l=null==$m?void 0:$m.findTestabilityInTree(this,o,c))&&void 0!==l?l:null}}return n.\u0275fac=function(o){return new(o||n)},n.\u0275prov=zt({token:n,factory:n.\u0275fac,providedIn:"platform"}),n})(),Mc=null;const yI=new Ur("AllowMultipleToken"),Gb=new Ur("PlatformDestroyListeners");class Cw{constructor(i,o){this.name=i,this.token=o}}function _I(n,i,o=[]){const c=`Platform: ${i}`,l=new Ur(c);return(p=[])=>{let b=zb();if(!b||b.injector.get(yI,!1)){const S=[...o,...p,{provide:l,useValue:!0}];n?n(S):function Sw(n){if(Mc&&!Mc.get(yI,!1))throw new ee(400,!1);Mc=n;const i=n.get(EI);(function vI(n){const i=n.get(uI,null);i&&i.forEach(o=>o())})(n)}(function bI(n=[],i){return Ec.create({name:i,providers:[{provide:la,useValue:"platform"},{provide:Gb,useValue:new Set([()=>Mc=null])},...n]})}(S,c))}return function Aw(n){const i=zb();if(!i)throw new ee(401,!1);return i}()}}function zb(){var n;return null!==(n=null==Mc?void 0:Mc.get(EI))&&void 0!==n?n:null}let EI=(()=>{class n{constructor(o){this._injector=o,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(o,c){const l=function wI(n,i){let o;return o="noop"===n?new bw:("zone.js"===n?void 0:n)||new Iu(i),o}(null==c?void 0:c.ngZone,function II(n){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!(!n||!n.ngZoneEventCoalescing)||!1,shouldCoalesceRunChangeDetection:!(!n||!n.ngZoneRunCoalescing)||!1}}(c)),p=[{provide:Iu,useValue:l}];return l.run(()=>{const b=Ec.create({providers:p,parent:this.injector,name:o.moduleType.name}),S=o.create(b),O=S.injector.get(Td,null);if(!O)throw new ee(402,!1);return l.runOutsideAngular(()=>{const U=l.onError.subscribe({next:J=>{O.handleError(J)}});S.onDestroy(()=>{R_(this._modules,S),U.unsubscribe()})}),function DI(n,i,o){try{const c=o();return Ku(c)?c.catch(l=>{throw i.runOutsideAngular(()=>n.handleError(l)),l}):c}catch(c){throw i.runOutsideAngular(()=>n.handleError(c)),c}}(O,l,()=>{const U=S.injector.get(A_);return U.runInitializers(),U.donePromise.then(()=>(function jv(n){ft(n,"Expected localeId to be defined"),"string"==typeof n&&(am=n.toLowerCase().replace(/_/g,"-"))}(S.injector.get(x_,Pa)||Pa),this._moduleDoBootstrap(S),S))})})}bootstrapModule(o,c=[]){const l=CI({},c);return function ww(n,i,o){const c=new wm(o);return Promise.resolve(c)}(0,0,o).then(p=>this.bootstrapModuleFactory(p,l))}_moduleDoBootstrap(o){const c=o.injector.get(M_);if(o._bootstrapComponents.length>0)o._bootstrapComponents.forEach(l=>c.bootstrap(l));else{if(!o.instance.ngDoBootstrap)throw new ee(403,!1);o.instance.ngDoBootstrap(c)}this._modules.push(o)}onDestroy(o){this._destroyListeners.push(o)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new ee(404,!1);this._modules.slice().forEach(c=>c.destroy()),this._destroyListeners.forEach(c=>c());const o=this._injector.get(Gb,null);o&&(o.forEach(c=>c()),o.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}return n.\u0275fac=function(o){return new(o||n)(Vt(Ec))},n.\u0275prov=zt({token:n,factory:n.\u0275fac,providedIn:"platform"}),n})();function CI(n,i){return Array.isArray(i)?i.reduce(CI,n):Object.assign(Object.assign({},n),i)}let M_=(()=>{class n{constructor(o,c,l){this._zone=o,this._injector=c,this._exceptionHandler=l,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this._destroyed=!1,this._destroyListeners=[],this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const p=new B.y(S=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{S.next(this._stable),S.complete()})}),b=new B.y(S=>{let O;this._zone.runOutsideAngular(()=>{O=this._zone.onStable.subscribe(()=>{Iu.assertNotInAngularZone(),Ub(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,S.next(!0))})})});const U=this._zone.onUnstable.subscribe(()=>{Iu.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{S.next(!1)}))});return()=>{O.unsubscribe(),U.unsubscribe()}});this.isStable=(0,Ce.T)(p,b.pipe(function se(){return n=>(0,be.x)()(function ce(n,i){return function(c){let l;if(l="function"==typeof n?n:function(){return n},"function"==typeof i)return c.lift(new he(l,i));const p=Object.create(c,Te.N);return p.source=c,p.subjectFactory=l,p}}(me)(n))}()))}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(o,c){const l=o instanceof Al;if(!this._injector.get(A_).done)throw!l&&Ee(o),new ee(405,false);let b;b=l?o:this._injector.get(D).resolveComponentFactory(o),this.componentTypes.push(b.componentType);const S=function Dw(n){return n.isBoundToModule}(b)?void 0:this._injector.get(Ja),U=b.create(Ec.NULL,[],c||b.selector,S),J=U.location.nativeElement,ge=U.injector.get(pI,null);return null==ge||ge.registerApplication(J),U.onDestroy(()=>{this.detachView(U.hostView),R_(this.components,U),null==ge||ge.unregisterApplication(J)}),this._loadComponent(U),U}tick(){if(this._runningTick)throw new ee(101,!1);try{this._runningTick=!0;for(let o of this._views)o.detectChanges()}catch(o){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(o))}finally{this._runningTick=!1}}attachView(o){const c=o;this._views.push(c),c.attachToAppRef(this)}detachView(o){const c=o;R_(this._views,c),c.detachFromAppRef()}_loadComponent(o){this.attachView(o.hostView),this.tick(),this.components.push(o),this._injector.get(cI,[]).concat(this._bootstrapListeners).forEach(l=>l(o))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(o=>o()),this._views.slice().forEach(o=>o.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(o){return this._destroyListeners.push(o),()=>R_(this._destroyListeners,o)}destroy(){if(this._destroyed)throw new ee(406,!1);const o=this._injector;o.destroy&&!o.destroyed&&o.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return n.\u0275fac=function(o){return new(o||n)(Vt(Iu),Vt(Ga),Vt(Td))},n.\u0275prov=zt({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function R_(n,i){const o=n.indexOf(i);o>-1&&n.splice(o,1)}let TI=!0,AI=!1;function Mw(){return AI=!0,TI}function Rw(){if(AI)throw new Error("Cannot enable prod mode after platform setup.");TI=!1}let Ow=(()=>{class n{}return n.__NG_ELEMENT_ID__=kw,n})();function kw(n){return function Pw(n,i,o){if(Qt(n)&&!o){const c=Kr(n.index,i);return new zl(c,c)}return 47&n.type?new zl(i[16],i):null}(V(),xt(),16==(16&n))}class OI{constructor(){}supports(i){return ol(i)}create(i){return new $w(i)}}const Bw=(n,i)=>i;class $w{constructor(i){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=i||Bw}forEachItem(i){let o;for(o=this._itHead;null!==o;o=o._next)i(o)}forEachOperation(i){let o=this._itHead,c=this._removalsHead,l=0,p=null;for(;o||c;){const b=!c||o&&o.currentIndex<PI(c,l,p)?o:c,S=PI(b,l,p),O=b.currentIndex;if(b===c)l--,c=c._nextRemoved;else if(o=o._next,null==b.previousIndex)l++;else{p||(p=[]);const U=S-l,J=O-l;if(U!=J){for(let Ge=0;Ge<U;Ge++){const ut=Ge<p.length?p[Ge]:p[Ge]=0,At=ut+Ge;J<=At&&At<U&&(p[Ge]=ut+1)}p[b.previousIndex]=J-U}}S!==O&&i(b,S,O)}}forEachPreviousItem(i){let o;for(o=this._previousItHead;null!==o;o=o._nextPrevious)i(o)}forEachAddedItem(i){let o;for(o=this._additionsHead;null!==o;o=o._nextAdded)i(o)}forEachMovedItem(i){let o;for(o=this._movesHead;null!==o;o=o._nextMoved)i(o)}forEachRemovedItem(i){let o;for(o=this._removalsHead;null!==o;o=o._nextRemoved)i(o)}forEachIdentityChange(i){let o;for(o=this._identityChangesHead;null!==o;o=o._nextIdentityChange)i(o)}diff(i){if(null==i&&(i=[]),!ol(i))throw new ee(900,!1);return this.check(i)?this:null}onDestroy(){}check(i){this._reset();let l,p,b,o=this._itHead,c=!1;if(Array.isArray(i)){this.length=i.length;for(let S=0;S<this.length;S++)p=i[S],b=this._trackByFn(S,p),null!==o&&Object.is(o.trackById,b)?(c&&(o=this._verifyReinsertion(o,p,b,S)),Object.is(o.item,p)||this._addIdentityChange(o,p)):(o=this._mismatch(o,p,b,S),c=!0),o=o._next}else l=0,function kg(n,i){if(Array.isArray(n))for(let o=0;o<n.length;o++)i(n[o]);else{const o=n[sl()]();let c;for(;!(c=o.next()).done;)i(c.value)}}(i,S=>{b=this._trackByFn(l,S),null!==o&&Object.is(o.trackById,b)?(c&&(o=this._verifyReinsertion(o,S,b,l)),Object.is(o.item,S)||this._addIdentityChange(o,S)):(o=this._mismatch(o,S,b,l),c=!0),o=o._next,l++}),this.length=l;return this._truncate(o),this.collection=i,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let i;for(i=this._previousItHead=this._itHead;null!==i;i=i._next)i._nextPrevious=i._next;for(i=this._additionsHead;null!==i;i=i._nextAdded)i.previousIndex=i.currentIndex;for(this._additionsHead=this._additionsTail=null,i=this._movesHead;null!==i;i=i._nextMoved)i.previousIndex=i.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(i,o,c,l){let p;return null===i?p=this._itTail:(p=i._prev,this._remove(i)),null!==(i=null===this._unlinkedRecords?null:this._unlinkedRecords.get(c,null))?(Object.is(i.item,o)||this._addIdentityChange(i,o),this._reinsertAfter(i,p,l)):null!==(i=null===this._linkedRecords?null:this._linkedRecords.get(c,l))?(Object.is(i.item,o)||this._addIdentityChange(i,o),this._moveAfter(i,p,l)):i=this._addAfter(new Uw(o,c),p,l),i}_verifyReinsertion(i,o,c,l){let p=null===this._unlinkedRecords?null:this._unlinkedRecords.get(c,null);return null!==p?i=this._reinsertAfter(p,i._prev,l):i.currentIndex!=l&&(i.currentIndex=l,this._addToMoves(i,l)),i}_truncate(i){for(;null!==i;){const o=i._next;this._addToRemovals(this._unlink(i)),i=o}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(i,o,c){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(i);const l=i._prevRemoved,p=i._nextRemoved;return null===l?this._removalsHead=p:l._nextRemoved=p,null===p?this._removalsTail=l:p._prevRemoved=l,this._insertAfter(i,o,c),this._addToMoves(i,c),i}_moveAfter(i,o,c){return this._unlink(i),this._insertAfter(i,o,c),this._addToMoves(i,c),i}_addAfter(i,o,c){return this._insertAfter(i,o,c),this._additionsTail=null===this._additionsTail?this._additionsHead=i:this._additionsTail._nextAdded=i,i}_insertAfter(i,o,c){const l=null===o?this._itHead:o._next;return i._next=l,i._prev=o,null===l?this._itTail=i:l._prev=i,null===o?this._itHead=i:o._next=i,null===this._linkedRecords&&(this._linkedRecords=new kI),this._linkedRecords.put(i),i.currentIndex=c,i}_remove(i){return this._addToRemovals(this._unlink(i))}_unlink(i){null!==this._linkedRecords&&this._linkedRecords.remove(i);const o=i._prev,c=i._next;return null===o?this._itHead=c:o._next=c,null===c?this._itTail=o:c._prev=o,i}_addToMoves(i,o){return i.previousIndex===o||(this._movesTail=null===this._movesTail?this._movesHead=i:this._movesTail._nextMoved=i),i}_addToRemovals(i){return null===this._unlinkedRecords&&(this._unlinkedRecords=new kI),this._unlinkedRecords.put(i),i.currentIndex=null,i._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=i,i._prevRemoved=null):(i._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=i),i}_addIdentityChange(i,o){return i.item=o,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=i:this._identityChangesTail._nextIdentityChange=i,i}}class Uw{constructor(i,o){this.item=i,this.trackById=o,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class jw{constructor(){this._head=null,this._tail=null}add(i){null===this._head?(this._head=this._tail=i,i._nextDup=null,i._prevDup=null):(this._tail._nextDup=i,i._prevDup=this._tail,i._nextDup=null,this._tail=i)}get(i,o){let c;for(c=this._head;null!==c;c=c._nextDup)if((null===o||o<=c.currentIndex)&&Object.is(c.trackById,i))return c;return null}remove(i){const o=i._prevDup,c=i._nextDup;return null===o?this._head=c:o._nextDup=c,null===c?this._tail=o:c._prevDup=o,null===this._head}}class kI{constructor(){this.map=new Map}put(i){const o=i.trackById;let c=this.map.get(o);c||(c=new jw,this.map.set(o,c)),c.add(i)}get(i,o){const l=this.map.get(i);return l?l.get(i,o):null}remove(i){const o=i.trackById;return this.map.get(o).remove(i)&&this.map.delete(o),i}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function PI(n,i,o){const c=n.previousIndex;if(null===c)return c;let l=0;return o&&c<o.length&&(l=o[c]),c+i+l}class NI{constructor(){}supports(i){return i instanceof Map||nh(i)}create(){return new Hw}}class Hw{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(i){let o;for(o=this._mapHead;null!==o;o=o._next)i(o)}forEachPreviousItem(i){let o;for(o=this._previousMapHead;null!==o;o=o._nextPrevious)i(o)}forEachChangedItem(i){let o;for(o=this._changesHead;null!==o;o=o._nextChanged)i(o)}forEachAddedItem(i){let o;for(o=this._additionsHead;null!==o;o=o._nextAdded)i(o)}forEachRemovedItem(i){let o;for(o=this._removalsHead;null!==o;o=o._nextRemoved)i(o)}diff(i){if(i){if(!(i instanceof Map||nh(i)))throw new ee(900,!1)}else i=new Map;return this.check(i)?this:null}onDestroy(){}check(i){this._reset();let o=this._mapHead;if(this._appendAfter=null,this._forEach(i,(c,l)=>{if(o&&o.key===l)this._maybeAddToChanges(o,c),this._appendAfter=o,o=o._next;else{const p=this._getOrCreateRecordForKey(l,c);o=this._insertBeforeOrAppend(o,p)}}),o){o._prev&&(o._prev._next=null),this._removalsHead=o;for(let c=o;null!==c;c=c._nextRemoved)c===this._mapHead&&(this._mapHead=null),this._records.delete(c.key),c._nextRemoved=c._next,c.previousValue=c.currentValue,c.currentValue=null,c._prev=null,c._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(i,o){if(i){const c=i._prev;return o._next=i,o._prev=c,i._prev=o,c&&(c._next=o),i===this._mapHead&&(this._mapHead=o),this._appendAfter=i,i}return this._appendAfter?(this._appendAfter._next=o,o._prev=this._appendAfter):this._mapHead=o,this._appendAfter=o,null}_getOrCreateRecordForKey(i,o){if(this._records.has(i)){const l=this._records.get(i);this._maybeAddToChanges(l,o);const p=l._prev,b=l._next;return p&&(p._next=b),b&&(b._prev=p),l._next=null,l._prev=null,l}const c=new Gw(i);return this._records.set(i,c),c.currentValue=o,this._addToAdditions(c),c}_reset(){if(this.isDirty){let i;for(this._previousMapHead=this._mapHead,i=this._previousMapHead;null!==i;i=i._next)i._nextPrevious=i._next;for(i=this._changesHead;null!==i;i=i._nextChanged)i.previousValue=i.currentValue;for(i=this._additionsHead;null!=i;i=i._nextAdded)i.previousValue=i.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(i,o){Object.is(o,i.currentValue)||(i.previousValue=i.currentValue,i.currentValue=o,this._addToChanges(i))}_addToAdditions(i){null===this._additionsHead?this._additionsHead=this._additionsTail=i:(this._additionsTail._nextAdded=i,this._additionsTail=i)}_addToChanges(i){null===this._changesHead?this._changesHead=this._changesTail=i:(this._changesTail._nextChanged=i,this._changesTail=i)}_forEach(i,o){i instanceof Map?i.forEach(o):Object.keys(i).forEach(c=>o(i[c],c))}}class Gw{constructor(i){this.key=i,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function FI(){return new Zb([new OI])}let Zb=(()=>{class n{constructor(o){this.factories=o}static create(o,c){if(null!=c){const l=c.factories.slice();o=o.concat(l)}return new n(o)}static extend(o){return{provide:n,useFactory:c=>n.create(o,c||FI()),deps:[[n,new Do,new Pn]]}}find(o){const c=this.factories.find(l=>l.supports(o));if(null!=c)return c;throw new ee(901,!1)}}return n.\u0275prov=zt({token:n,providedIn:"root",factory:FI}),n})();function LI(){return new Xb([new NI])}let Xb=(()=>{class n{constructor(o){this.factories=o}static create(o,c){if(c){const l=c.factories.slice();o=o.concat(l)}return new n(o)}static extend(o){return{provide:n,useFactory:c=>n.create(o,c||LI()),deps:[[n,new Do,new Pn]]}}find(o){const c=this.factories.find(l=>l.supports(o));if(c)return c;throw new ee(901,!1)}}return n.\u0275prov=zt({token:n,providedIn:"root",factory:LI}),n})();const qw=_I(null,"core",[]);let Yw=(()=>{class n{constructor(o){}}return n.\u0275fac=function(o){return new(o||n)(Vt(M_))},n.\u0275mod=rt({type:n}),n.\u0275inj=bn({}),n})();function Kw(n){return"boolean"==typeof n?n:null!=n&&"false"!==n}},4182:(Pt,Ze,$)=>{"use strict";$.d(Ze,{u5:()=>Ys,JU:()=>ae,a5:()=>Dr});var a=$(6435),B=($(9808),$(5254)),Ce=$(6498),Te=$(6688),ce=$(4850),he=$(7830);function me(V,k){return new Ce.y(M=>{const f=V.length;if(0===f)return void M.complete();const x=new Array(f);let y=0,N=0;for(let te=0;te<f;te++){const Qe=(0,B.D)(V[te]);let kt=!1;M.add(Qe.subscribe({next:$t=>{kt||(kt=!0,N++),x[te]=$t},error:$t=>M.error($t),complete:()=>{y++,(y===f||!kt)&&(N===f&&M.next(k?k.reduce(($t,In,ar)=>($t[In]=x[ar],$t),{}):x),M.complete())}}))}})}const ae=new a.OlP("NgValueAccessor");function He(V){return null!=V}function We(V){return(0,a.QGY)(V)?(0,B.D)(V):V}function Fe(V){let k={};return V.forEach(M=>{k=null!=M?Object.assign(Object.assign({},k),M):k}),0===Object.keys(k).length?null:k}function Ne(V,k){return k.map(M=>M(V))}function Ve(V){return V.map(k=>function Ue(V){return!V.validate}(k)?k:M=>k.validate(M))}function et(V){return null!=V?function ft(V){if(!V)return null;const k=V.filter(He);return 0==k.length?null:function(M){return Fe(Ne(M,k))}}(Ve(V)):null}function Rt(V){return null!=V?function Lt(V){if(!V)return null;const k=V.filter(He);return 0==k.length?null:function(M){return function be(...V){if(1===V.length){const k=V[0];if((0,Te.k)(k))return me(k,null);if((0,he.K)(k)&&Object.getPrototypeOf(k)===Object.prototype){const M=Object.keys(k);return me(M.map(f=>k[f]),M)}}if("function"==typeof V[V.length-1]){const k=V.pop();return me(V=1===V.length&&(0,Te.k)(V[0])?V[0]:V,null).pipe((0,ce.U)(M=>k(...M)))}return me(V,null)}(Ne(M,k).map(We)).pipe((0,ce.U)(Fe))}}(Ve(V)):null}class Dr extends class er{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(k){this._rawValidators=k||[],this._composedValidatorFn=et(this._rawValidators)}_setAsyncValidators(k){this._rawAsyncValidators=k||[],this._composedAsyncValidatorFn=Rt(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(k){this._onDestroyCallbacks.push(k)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(k=>k()),this._onDestroyCallbacks=[]}reset(k){this.control&&this.control.reset(k)}hasError(k,M){return!!this.control&&this.control.hasError(k,M)}getError(k,M){return this.control?this.control.getError(k,M):null}}{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}let fi=(()=>{class V{}return V.\u0275fac=function(M){return new(M||V)},V.\u0275mod=a.oAB({type:V}),V.\u0275inj=a.cJS({}),V})(),$o=(()=>{class V{}return V.\u0275fac=function(M){return new(M||V)},V.\u0275mod=a.oAB({type:V}),V.\u0275inj=a.cJS({imports:[fi]}),V})(),Ys=(()=>{class V{}return V.\u0275fac=function(M){return new(M||V)},V.\u0275mod=a.oAB({type:V}),V.\u0275inj=a.cJS({imports:[$o]}),V})()},2313:(Pt,Ze,$)=>{"use strict";$.d(Ze,{Dx:()=>zr,b2:()=>cr,q6:()=>er});var a=$(9808),X=$(6435);class B extends a.w_{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class Ce extends B{static makeCurrent(){(0,a.HT)(new Ce)}onAndCancel(Se,Ee,tt){return Se.addEventListener(Ee,tt,!1),()=>{Se.removeEventListener(Ee,tt,!1)}}dispatchEvent(Se,Ee){Se.dispatchEvent(Ee)}remove(Se){Se.parentNode&&Se.parentNode.removeChild(Se)}createElement(Se,Ee){return(Ee=Ee||this.getDefaultDocument()).createElement(Se)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(Se){return Se.nodeType===Node.ELEMENT_NODE}isShadowRoot(Se){return Se instanceof DocumentFragment}getGlobalEventTarget(Se,Ee){return"window"===Ee?window:"document"===Ee?Se:"body"===Ee?Se.body:null}getBaseHref(Se){const Ee=function ce(){return Te=Te||document.querySelector("base"),Te?Te.getAttribute("href"):null}();return null==Ee?null:function be(Xe){he=he||document.createElement("a"),he.setAttribute("href",Xe);const Se=he.pathname;return"/"===Se.charAt(0)?Se:`/${Se}`}(Ee)}resetBaseElement(){Te=null}getUserAgent(){return window.navigator.userAgent}getCookie(Se){return(0,a.Mx)(document.cookie,Se)}}let he,Te=null;const me=new X.OlP("TRANSITION_ID"),re=[{provide:X.ip1,useFactory:function se(Xe,Se,Ee){return()=>{Ee.get(X.CZH).donePromise.then(()=>{const tt=(0,a.q)(),Et=Se.querySelectorAll(`style[ng-transition="${Xe}"]`);for(let qt=0;qt<Et.length;qt++)tt.remove(Et[qt])})}},deps:[me,a.K0,X.zs3],multi:!0}];let ie=(()=>{class Xe{build(){return new XMLHttpRequest}}return Xe.\u0275fac=function(Ee){return new(Ee||Xe)},Xe.\u0275prov=X.Yz7({token:Xe,factory:Xe.\u0275fac}),Xe})();const Re=new X.OlP("EventManagerPlugins");let ot=(()=>{class Xe{constructor(Ee,tt){this._zone=tt,this._eventNameToPlugin=new Map,Ee.forEach(Et=>Et.manager=this),this._plugins=Ee.slice().reverse()}addEventListener(Ee,tt,Et){return this._findPluginFor(tt).addEventListener(Ee,tt,Et)}addGlobalEventListener(Ee,tt,Et){return this._findPluginFor(tt).addGlobalEventListener(Ee,tt,Et)}getZone(){return this._zone}_findPluginFor(Ee){const tt=this._eventNameToPlugin.get(Ee);if(tt)return tt;const Et=this._plugins;for(let qt=0;qt<Et.length;qt++){const nn=Et[qt];if(nn.supports(Ee))return this._eventNameToPlugin.set(Ee,nn),nn}throw new Error(`No event manager plugin found for event ${Ee}`)}}return Xe.\u0275fac=function(Ee){return new(Ee||Xe)(X.LFG(Re),X.LFG(X.R0b))},Xe.\u0275prov=X.Yz7({token:Xe,factory:Xe.\u0275fac}),Xe})();class $e{constructor(Se){this._doc=Se}addGlobalEventListener(Se,Ee,tt){const Et=(0,a.q)().getGlobalEventTarget(this._doc,Se);if(!Et)throw new Error(`Unsupported event target ${Et} for event ${Ee}`);return this.addEventListener(Et,Ee,tt)}}let _e=(()=>{class Xe{constructor(){this._stylesSet=new Set}addStyles(Ee){const tt=new Set;Ee.forEach(Et=>{this._stylesSet.has(Et)||(this._stylesSet.add(Et),tt.add(Et))}),this.onStylesAdded(tt)}onStylesAdded(Ee){}getAllStyles(){return Array.from(this._stylesSet)}}return Xe.\u0275fac=function(Ee){return new(Ee||Xe)},Xe.\u0275prov=X.Yz7({token:Xe,factory:Xe.\u0275fac}),Xe})(),De=(()=>{class Xe extends _e{constructor(Ee){super(),this._doc=Ee,this._hostNodes=new Map,this._hostNodes.set(Ee.head,[])}_addStylesToHost(Ee,tt,Et){Ee.forEach(qt=>{const nn=this._doc.createElement("style");nn.textContent=qt,Et.push(tt.appendChild(nn))})}addHost(Ee){const tt=[];this._addStylesToHost(this._stylesSet,Ee,tt),this._hostNodes.set(Ee,tt)}removeHost(Ee){const tt=this._hostNodes.get(Ee);tt&&tt.forEach(Je),this._hostNodes.delete(Ee)}onStylesAdded(Ee){this._hostNodes.forEach((tt,Et)=>{this._addStylesToHost(Ee,Et,tt)})}ngOnDestroy(){this._hostNodes.forEach(Ee=>Ee.forEach(Je))}}return Xe.\u0275fac=function(Ee){return new(Ee||Xe)(X.LFG(a.K0))},Xe.\u0275prov=X.Yz7({token:Xe,factory:Xe.\u0275fac}),Xe})();function Je(Xe){(0,a.q)().remove(Xe)}const ee={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},nt=/%COMP%/g;function le(Xe,Se,Ee){for(let tt=0;tt<Se.length;tt++){let Et=Se[tt];Array.isArray(Et)?le(Xe,Et,Ee):(Et=Et.replace(nt,Xe),Ee.push(Et))}return Ee}function W(Xe){return Se=>{if("__ngUnwrap__"===Se)return Xe;!1===Xe(Se)&&(Se.preventDefault(),Se.returnValue=!1)}}let Q=(()=>{class Xe{constructor(Ee,tt,Et){this.eventManager=Ee,this.sharedStylesHost=tt,this.appId=Et,this.rendererByCompId=new Map,this.defaultRenderer=new Ie(Ee)}createRenderer(Ee,tt){if(!Ee||!tt)return this.defaultRenderer;switch(tt.encapsulation){case X.ifc.Emulated:{let Et=this.rendererByCompId.get(tt.id);return Et||(Et=new We(this.eventManager,this.sharedStylesHost,tt,this.appId),this.rendererByCompId.set(tt.id,Et)),Et.applyToHost(Ee),Et}case 1:case X.ifc.ShadowDom:return new Fe(this.eventManager,this.sharedStylesHost,Ee,tt);default:if(!this.rendererByCompId.has(tt.id)){const Et=le(tt.id,tt.styles,[]);this.sharedStylesHost.addStyles(Et),this.rendererByCompId.set(tt.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return Xe.\u0275fac=function(Ee){return new(Ee||Xe)(X.LFG(ot),X.LFG(De),X.LFG(X.AFp))},Xe.\u0275prov=X.Yz7({token:Xe,factory:Xe.\u0275fac}),Xe})();class Ie{constructor(Se){this.eventManager=Se,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(Se,Ee){return Ee?document.createElementNS(ee[Ee]||Ee,Se):document.createElement(Se)}createComment(Se){return document.createComment(Se)}createText(Se){return document.createTextNode(Se)}appendChild(Se,Ee){(He(Se)?Se.content:Se).appendChild(Ee)}insertBefore(Se,Ee,tt){Se&&(He(Se)?Se.content:Se).insertBefore(Ee,tt)}removeChild(Se,Ee){Se&&Se.removeChild(Ee)}selectRootElement(Se,Ee){let tt="string"==typeof Se?document.querySelector(Se):Se;if(!tt)throw new Error(`The selector "${Se}" did not match any elements`);return Ee||(tt.textContent=""),tt}parentNode(Se){return Se.parentNode}nextSibling(Se){return Se.nextSibling}setAttribute(Se,Ee,tt,Et){if(Et){Ee=Et+":"+Ee;const qt=ee[Et];qt?Se.setAttributeNS(qt,Ee,tt):Se.setAttribute(Ee,tt)}else Se.setAttribute(Ee,tt)}removeAttribute(Se,Ee,tt){if(tt){const Et=ee[tt];Et?Se.removeAttributeNS(Et,Ee):Se.removeAttribute(`${tt}:${Ee}`)}else Se.removeAttribute(Ee)}addClass(Se,Ee){Se.classList.add(Ee)}removeClass(Se,Ee){Se.classList.remove(Ee)}setStyle(Se,Ee,tt,Et){Et&(X.JOm.DashCase|X.JOm.Important)?Se.style.setProperty(Ee,tt,Et&X.JOm.Important?"important":""):Se.style[Ee]=tt}removeStyle(Se,Ee,tt){tt&X.JOm.DashCase?Se.style.removeProperty(Ee):Se.style[Ee]=""}setProperty(Se,Ee,tt){Se[Ee]=tt}setValue(Se,Ee){Se.nodeValue=Ee}listen(Se,Ee,tt){return"string"==typeof Se?this.eventManager.addGlobalEventListener(Se,Ee,W(tt)):this.eventManager.addEventListener(Se,Ee,W(tt))}}function He(Xe){return"TEMPLATE"===Xe.tagName&&void 0!==Xe.content}class We extends Ie{constructor(Se,Ee,tt,Et){super(Se),this.component=tt;const qt=le(Et+"-"+tt.id,tt.styles,[]);Ee.addStyles(qt),this.contentAttr=function de(Xe){return"_ngcontent-%COMP%".replace(nt,Xe)}(Et+"-"+tt.id),this.hostAttr=function ye(Xe){return"_nghost-%COMP%".replace(nt,Xe)}(Et+"-"+tt.id)}applyToHost(Se){super.setAttribute(Se,this.hostAttr,"")}createElement(Se,Ee){const tt=super.createElement(Se,Ee);return super.setAttribute(tt,this.contentAttr,""),tt}}class Fe extends Ie{constructor(Se,Ee,tt,Et){super(Se),this.sharedStylesHost=Ee,this.hostEl=tt,this.shadowRoot=tt.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const qt=le(Et.id,Et.styles,[]);for(let nn=0;nn<qt.length;nn++){const Sr=document.createElement("style");Sr.textContent=qt[nn],this.shadowRoot.appendChild(Sr)}}nodeOrShadowRoot(Se){return Se===this.hostEl?this.shadowRoot:Se}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(Se,Ee){return super.appendChild(this.nodeOrShadowRoot(Se),Ee)}insertBefore(Se,Ee,tt){return super.insertBefore(this.nodeOrShadowRoot(Se),Ee,tt)}removeChild(Se,Ee){return super.removeChild(this.nodeOrShadowRoot(Se),Ee)}parentNode(Se){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(Se)))}}let Ne=(()=>{class Xe extends $e{constructor(Ee){super(Ee)}supports(Ee){return!0}addEventListener(Ee,tt,Et){return Ee.addEventListener(tt,Et,!1),()=>this.removeEventListener(Ee,tt,Et)}removeEventListener(Ee,tt,Et){return Ee.removeEventListener(tt,Et)}}return Xe.\u0275fac=function(Ee){return new(Ee||Xe)(X.LFG(a.K0))},Xe.\u0275prov=X.Yz7({token:Xe,factory:Xe.\u0275fac}),Xe})();const Ue=["alt","control","meta","shift"],Ve={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},ft={alt:Xe=>Xe.altKey,control:Xe=>Xe.ctrlKey,meta:Xe=>Xe.metaKey,shift:Xe=>Xe.shiftKey};let et=(()=>{class Xe extends $e{constructor(Ee){super(Ee)}supports(Ee){return null!=Xe.parseEventName(Ee)}addEventListener(Ee,tt,Et){const qt=Xe.parseEventName(tt),nn=Xe.eventCallback(qt.fullKey,Et,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>(0,a.q)().onAndCancel(Ee,qt.domEventName,nn))}static parseEventName(Ee){const tt=Ee.toLowerCase().split("."),Et=tt.shift();if(0===tt.length||"keydown"!==Et&&"keyup"!==Et)return null;const qt=Xe._normalizeKey(tt.pop());let nn="",Sr=tt.indexOf("code");if(Sr>-1&&(tt.splice(Sr,1),nn="code."),Ue.forEach(zn=>{const si=tt.indexOf(zn);si>-1&&(tt.splice(si,1),nn+=zn+".")}),nn+=qt,0!=tt.length||0===qt.length)return null;const sr={};return sr.domEventName=Et,sr.fullKey=nn,sr}static matchEventFullKeyCode(Ee,tt){let Et=Ve[Ee.key]||Ee.key,qt="";return tt.indexOf("code.")>-1&&(Et=Ee.code,qt="code."),!(null==Et||!Et)&&(Et=Et.toLowerCase()," "===Et?Et="space":"."===Et&&(Et="dot"),Ue.forEach(nn=>{nn!==Et&&(0,ft[nn])(Ee)&&(qt+=nn+".")}),qt+=Et,qt===tt)}static eventCallback(Ee,tt,Et){return qt=>{Xe.matchEventFullKeyCode(qt,Ee)&&Et.runGuarded(()=>tt(qt))}}static _normalizeKey(Ee){return"esc"===Ee?"escape":Ee}}return Xe.\u0275fac=function(Ee){return new(Ee||Xe)(X.LFG(a.K0))},Xe.\u0275prov=X.Yz7({token:Xe,factory:Xe.\u0275fac}),Xe})();const er=(0,X.eFA)(X._c5,"browser",[{provide:X.Lbi,useValue:a.bD},{provide:X.g9A,useValue:function bn(){Ce.makeCurrent()},multi:!0},{provide:a.K0,useFactory:function $n(){return(0,X.RDi)(document),document},deps:[]}]),Dr=new X.OlP(""),yn=[{provide:X.rWj,useClass:class ae{addToWindow(Se){X.dqk.getAngularTestability=(tt,Et=!0)=>{const qt=Se.findTestabilityInTree(tt,Et);if(null==qt)throw new Error("Could not find testability for element.");return qt},X.dqk.getAllAngularTestabilities=()=>Se.getAllTestabilities(),X.dqk.getAllAngularRootElements=()=>Se.getAllRootElements(),X.dqk.frameworkStabilizers||(X.dqk.frameworkStabilizers=[]),X.dqk.frameworkStabilizers.push(tt=>{const Et=X.dqk.getAllAngularTestabilities();let qt=Et.length,nn=!1;const Sr=function(sr){nn=nn||sr,qt--,0==qt&&tt(nn)};Et.forEach(function(sr){sr.whenStable(Sr)})})}findTestabilityInTree(Se,Ee,tt){if(null==Ee)return null;const Et=Se.getTestability(Ee);return null!=Et?Et:tt?(0,a.q)().isShadowRoot(Ee)?this.findTestabilityInTree(Se,Ee.host,!0):this.findTestabilityInTree(Se,Ee.parentElement,!0):null}},deps:[]},{provide:X.lri,useClass:X.dDg,deps:[X.R0b,X.eoX,X.rWj]},{provide:X.dDg,useClass:X.dDg,deps:[X.R0b,X.eoX,X.rWj]}],Rr=[{provide:X.zSh,useValue:"root"},{provide:X.qLn,useFactory:function Mn(){return new X.qLn},deps:[]},{provide:Re,useClass:Ne,multi:!0,deps:[a.K0,X.R0b,X.Lbi]},{provide:Re,useClass:et,multi:!0,deps:[a.K0]},{provide:Q,useClass:Q,deps:[ot,De,X.AFp]},{provide:X.FYo,useExisting:Q},{provide:_e,useExisting:De},{provide:De,useClass:De,deps:[a.K0]},{provide:ot,useClass:ot,deps:[Re,X.R0b]},{provide:a.JF,useClass:ie,deps:[]},[]];let cr=(()=>{class Xe{constructor(Ee){}static withServerTransition(Ee){return{ngModule:Xe,providers:[{provide:X.AFp,useValue:Ee.appId},{provide:me,useExisting:X.AFp},re]}}}return Xe.\u0275fac=function(Ee){return new(Ee||Xe)(X.LFG(Dr,12))},Xe.\u0275mod=X.oAB({type:Xe}),Xe.\u0275inj=X.cJS({providers:[...Rr,...yn],imports:[a.ez,X.hGG]}),Xe})(),zr=(()=>{class Xe{constructor(Ee){this._doc=Ee}getTitle(){return this._doc.title}setTitle(Ee){this._doc.title=Ee||""}}return Xe.\u0275fac=function(Ee){return new(Ee||Xe)(X.LFG(a.K0))},Xe.\u0275prov=X.Yz7({token:Xe,factory:function(Ee){let tt=null;return tt=Ee?new Ee:function Cr(){return new zr((0,X.LFG)(a.K0))}(),tt},providedIn:"root"}),Xe})();"undefined"!=typeof window&&window},1115:(Pt,Ze,$)=>{"use strict";$.d(Ze,{gz:()=>Wr,y6:()=>ns,OD:()=>fi,eC:()=>St,wm:()=>fl,wN:()=>iu,F0:()=>Pr,rH:()=>Io,Bz:()=>Vr,Hx:()=>Xe});var a=$(6435),X=$(5254),B=$(1086),Ce=$(591),Te=$(4450),ce=$(2866),he=$(6688),be=$(3489);class me extends be.L{notifyNext(w,v,T,F,q){this.destination.next(v)}notifyError(w,v){this.destination.error(w)}notifyComplete(w){this.destination.complete()}}class se extends be.L{constructor(w,v,T){super(),this.parent=w,this.outerValue=v,this.outerIndex=T,this.index=0}_next(w){this.parent.notifyNext(this.outerValue,w,this.outerIndex,this.index++,this)}_error(w){this.parent.notifyError(w,this),this.unsubscribe()}_complete(){this.parent.notifyComplete(this),this.unsubscribe()}}var re=$(9249),ae=$(6498);function ie(I,w,v,T,F=new se(I,v,T)){if(!F.closed)return w instanceof ae.y?w.subscribe(F):(0,re.s)(w)(F)}var Re=$(3009);const ot={};function $e(...I){let w,v;return(0,ce.K)(I[I.length-1])&&(v=I.pop()),"function"==typeof I[I.length-1]&&(w=I.pop()),1===I.length&&(0,he.k)(I[0])&&(I=I[0]),(0,Re.n)(I,v).lift(new _e(w))}class _e{constructor(w){this.resultSelector=w}call(w,v){return v.subscribe(new De(w,this.resultSelector))}}class De extends me{constructor(w,v){super(w),this.resultSelector=v,this.active=0,this.values=[],this.observables=[]}_next(w){this.values.push(ot),this.observables.push(w)}_complete(){const w=this.observables,v=w.length;if(0===v)this.destination.complete();else{this.active=v,this.toRespond=v;for(let T=0;T<v;T++)this.add(ie(this,w[T],void 0,T))}}notifyComplete(w){0==(this.active-=1)&&this.destination.complete()}notifyNext(w,v,T){const F=this.values,ve=this.toRespond?F[T]===ot?--this.toRespond:this.toRespond:0;F[T]=v,0===ve&&(this.resultSelector?this._tryResultSelector(F):this.destination.next(F.slice()))}_tryResultSelector(w){let v;try{v=this.resultSelector.apply(this,w)}catch(T){return void this.destination.error(T)}this.destination.next(v)}}var Je=$(1221),ee=$(8896);function nt(I){return new ae.y(w=>{let v;try{v=I()}catch(F){return void w.error(F)}return(v?(0,X.D)(v):(0,ee.c)()).subscribe(w)})}var Be=$(4843),ct=$(1737),Pe=$(1762),st=$(8929),de=$(9808),ye=$(4850),le=$(7545),W=$(2986),Y=$(1059),Q=$(2198),Ie=$(1709),ze=$(7224),pt=$(1406),He=$(2868),We=$(1177);function Fe(I){return function(v){const T=new Ne(I),F=v.lift(T);return T.caught=F}}class Ne{constructor(w){this.selector=w}call(w,v){return v.subscribe(new Ue(w,this.selector,this.caught))}}class Ue extends We.Ds{constructor(w,v,T){super(w),this.selector=v,this.caught=T}error(w){if(!this.isStopped){let v;try{v=this.selector(w,this.caught)}catch(q){return void super.error(q)}this._unsubscribeAndRecycle();const T=new We.IY(this);this.add(T);const F=(0,We.ft)(v,T);F!==T&&this.add(F)}}}var Ve=$(2014),ft=$(4231);function et(I){return function(v){return 0===I?(0,ee.c)():v.lift(new Lt(I))}}class Lt{constructor(w){if(this.total=w,this.total<0)throw new ft.W}call(w,v){return v.subscribe(new Rt(w,this.total))}}class Rt extends be.L{constructor(w,v){super(w),this.total=v,this.ring=new Array,this.count=0}_next(w){const v=this.ring,T=this.total,F=this.count++;v.length<T?v.push(w):v[F%T]=w}_complete(){const w=this.destination;let v=this.count;if(v>0){const T=this.count>=this.total?this.total:this.count,F=this.ring;for(let q=0;q<T;q++){const ve=v++%T;w.next(F[ve])}}w.complete()}}var xn=$(4907),zt=$(7314),Kn=$(5379);function bn(I,w){const v=arguments.length>=2;return T=>T.pipe(I?(0,Q.h)((F,q)=>I(F,q,T)):Kn.y,et(1),v?(0,zt.d)(w):(0,xn.T)(()=>new Te.K))}class $n{constructor(w,v){this.predicate=w,this.inclusive=v}call(w,v){return v.subscribe(new Jn(w,this.predicate,this.inclusive))}}class Jn extends be.L{constructor(w,v,T){super(w),this.predicate=v,this.inclusive=T,this.index=0}_next(w){const v=this.destination;let T;try{T=this.predicate(w,this.index++)}catch(F){return void v.error(F)}this.nextOrComplete(w,T)}nextOrComplete(w,v){const T=this.destination;Boolean(v)?T.next(w):(this.inclusive&&T.next(w),T.complete())}}class Dr{constructor(w){this.value=w}call(w,v){return v.subscribe(new yn(w,this.value))}}class yn extends be.L{constructor(w,v){super(w),this.value=v}_next(w){this.destination.next(this.value)}}var Rr=$(2654);function cr(I){return w=>w.lift(new Ci(I))}class Ci{constructor(w){this.callback=w}call(w,v){return v.subscribe(new lr(w,this.callback))}}class lr extends be.L{constructor(w,v){super(w),this.add(new Rr.w(v))}}var en=$(4327),Cr=$(9146),zr=$(2313);const St="primary",Xt=Symbol("RouteTitle");class yt{constructor(w){this.params=w||{}}has(w){return Object.prototype.hasOwnProperty.call(this.params,w)}get(w){if(this.has(w)){const v=this.params[w];return Array.isArray(v)?v[0]:v}return null}getAll(w){if(this.has(w)){const v=this.params[w];return Array.isArray(v)?v:[v]}return[]}get keys(){return Object.keys(this.params)}}function rr(I){return new yt(I)}function Un(I,w,v){const T=v.path.split("/");if(T.length>I.length||"full"===v.pathMatch&&(w.hasChildren()||T.length<I.length))return null;const F={};for(let q=0;q<T.length;q++){const ve=T[q],E=I[q];if(ve.startsWith(":"))F[ve.substring(1)]=E;else if(ve!==E.path)return null}return{consumed:I.slice(0,T.length),posParams:F}}function nr(I,w){const v=I?Object.keys(I):void 0,T=w?Object.keys(w):void 0;if(!v||!T||v.length!=T.length)return!1;let F;for(let q=0;q<v.length;q++)if(F=v[q],!fr(I[F],w[F]))return!1;return!0}function fr(I,w){if(Array.isArray(I)&&Array.isArray(w)){if(I.length!==w.length)return!1;const v=[...I].sort(),T=[...w].sort();return v.every((F,q)=>T[q]===F)}return I===w}function ir(I){return Array.prototype.concat.apply([],I)}function jn(I){return I.length>0?I[I.length-1]:null}function an(I,w){for(const v in I)I.hasOwnProperty(v)&&w(I[v],v)}function Dn(I){return(0,a.CqO)(I)?I:(0,a.QGY)(I)?(0,X.D)(Promise.resolve(I)):(0,B.of)(I)}const wt={exact:function pn(I,w,v){if(!pr(I.segments,w.segments)||!mt(I.segments,w.segments,v)||I.numberOfChildren!==w.numberOfChildren)return!1;for(const T in w.children)if(!I.children[T]||!pn(I.children[T],w.children[T],v))return!1;return!0},subset:we},Gt={exact:function cn(I,w){return nr(I,w)},subset:function Oe(I,w){return Object.keys(w).length<=Object.keys(I).length&&Object.keys(w).every(v=>fr(I[v],w[v]))},ignored:()=>!0};function on(I,w,v){return wt[v.paths](I.root,w.root,v.matrixParams)&&Gt[v.queryParams](I.queryParams,w.queryParams)&&!("exact"===v.fragment&&I.fragment!==w.fragment)}function we(I,w,v){return ke(I,w,w.segments,v)}function ke(I,w,v,T){if(I.segments.length>v.length){const F=I.segments.slice(0,v.length);return!(!pr(F,v)||w.hasChildren()||!mt(F,v,T))}if(I.segments.length===v.length){if(!pr(I.segments,v)||!mt(I.segments,v,T))return!1;for(const F in w.children)if(!I.children[F]||!we(I.children[F],w.children[F],T))return!1;return!0}{const F=v.slice(0,I.segments.length),q=v.slice(I.segments.length);return!!(pr(I.segments,F)&&mt(I.segments,F,T)&&I.children[St])&&ke(I.children[St],w,q,T)}}function mt(I,w,v){return w.every((T,F)=>Gt[v](I[F].parameters,T.parameters))}class rt{constructor(w,v,T){this.root=w,this.queryParams=v,this.fragment=T}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=rr(this.queryParams)),this._queryParamMap}toString(){return Ee.serialize(this)}}class Mt{constructor(w,v){this.segments=w,this.children=v,this.parent=null,an(v,(T,F)=>T.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return tt(this)}}class gn{constructor(w,v){this.path=w,this.parameters=v}get parameterMap(){return this._parameterMap||(this._parameterMap=rr(this.parameters)),this._parameterMap}toString(){return Wn(this)}}function pr(I,w){return I.length===w.length&&I.every((v,T)=>v.path===w[T].path)}let Xe=(()=>{class I{}return I.\u0275fac=function(v){return new(v||I)},I.\u0275prov=a.Yz7({token:I,factory:function(){return new Se},providedIn:"root"}),I})();class Se{parse(w){const v=new oi(w);return new rt(v.parseRootSegment(),v.parseQueryParams(),v.parseFragment())}serialize(w){const v=`/${Et(w.root,!0)}`,T=function Cn(I){const w=Object.keys(I).map(v=>{const T=I[v];return Array.isArray(T)?T.map(F=>`${nn(v)}=${nn(F)}`).join("&"):`${nn(v)}=${nn(T)}`}).filter(v=>!!v);return w.length?`?${w.join("&")}`:""}(w.queryParams);return`${v}${T}${"string"==typeof w.fragment?`#${function Sr(I){return encodeURI(I)}(w.fragment)}`:""}`}}const Ee=new Se;function tt(I){return I.segments.map(w=>Wn(w)).join("/")}function Et(I,w){if(!I.hasChildren())return tt(I);if(w){const v=I.children[St]?Et(I.children[St],!1):"",T=[];return an(I.children,(F,q)=>{q!==St&&T.push(`${q}:${Et(F,!1)}`)}),T.length>0?`${v}(${T.join("//")})`:v}{const v=function hn(I,w){let v=[];return an(I.children,(T,F)=>{F===St&&(v=v.concat(w(T,F)))}),an(I.children,(T,F)=>{F!==St&&(v=v.concat(w(T,F)))}),v}(I,(T,F)=>F===St?[Et(I.children[St],!1)]:[`${F}:${Et(T,!1)}`]);return 1===Object.keys(I.children).length&&null!=I.children[St]?`${tt(I)}/${v[0]}`:`${tt(I)}/(${v.join("//")})`}}function qt(I){return encodeURIComponent(I).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function nn(I){return qt(I).replace(/%3B/gi,";")}function sr(I){return qt(I).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function zn(I){return decodeURIComponent(I)}function si(I){return zn(I.replace(/\+/g,"%20"))}function Wn(I){return`${sr(I.path)}${function Ut(I){return Object.keys(I).map(w=>`;${sr(w)}=${sr(I[w])}`).join("")}(I.parameters)}`}const Ln=/^[^\/()?;=#]+/;function xr(I){const w=I.match(Ln);return w?w[0]:""}const Fr=/^[^=?&#]+/,ei=/^[^&#]+/;class oi{constructor(w){this.url=w,this.remaining=w}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Mt([],{}):new Mt([],this.parseChildren())}parseQueryParams(){const w={};if(this.consumeOptional("?"))do{this.parseQueryParam(w)}while(this.consumeOptional("&"));return w}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const w=[];for(this.peekStartsWith("(")||w.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),w.push(this.parseSegment());let v={};this.peekStartsWith("/(")&&(this.capture("/"),v=this.parseParens(!0));let T={};return this.peekStartsWith("(")&&(T=this.parseParens(!1)),(w.length>0||Object.keys(v).length>0)&&(T[St]=new Mt(w,v)),T}parseSegment(){const w=xr(this.remaining);if(""===w&&this.peekStartsWith(";"))throw new a.vHH(4009,!1);return this.capture(w),new gn(zn(w),this.parseMatrixParams())}parseMatrixParams(){const w={};for(;this.consumeOptional(";");)this.parseParam(w);return w}parseParam(w){const v=xr(this.remaining);if(!v)return;this.capture(v);let T="";if(this.consumeOptional("=")){const F=xr(this.remaining);F&&(T=F,this.capture(T))}w[zn(v)]=zn(T)}parseQueryParam(w){const v=function _r(I){const w=I.match(Fr);return w?w[0]:""}(this.remaining);if(!v)return;this.capture(v);let T="";if(this.consumeOptional("=")){const ve=function Vn(I){const w=I.match(ei);return w?w[0]:""}(this.remaining);ve&&(T=ve,this.capture(T))}const F=si(v),q=si(T);if(w.hasOwnProperty(F)){let ve=w[F];Array.isArray(ve)||(ve=[ve],w[F]=ve),ve.push(q)}else w[F]=q}parseParens(w){const v={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const T=xr(this.remaining),F=this.remaining[T.length];if("/"!==F&&")"!==F&&";"!==F)throw new a.vHH(4010,!1);let q;T.indexOf(":")>-1?(q=T.slice(0,T.indexOf(":")),this.capture(q),this.capture(":")):w&&(q=St);const ve=this.parseChildren();v[q]=1===Object.keys(ve).length?ve[St]:new Mt([],ve),this.consumeOptional("//")}return v}peekStartsWith(w){return this.remaining.startsWith(w)}consumeOptional(w){return!!this.peekStartsWith(w)&&(this.remaining=this.remaining.substring(w.length),!0)}capture(w){if(!this.consumeOptional(w))throw new a.vHH(4011,!1)}}function vi(I){return I.segments.length>0?new Mt([],{[St]:I}):I}function En(I){const w={};for(const T of Object.keys(I.children)){const q=En(I.children[T]);(q.segments.length>0||q.hasChildren())&&(w[T]=q)}return function di(I){if(1===I.numberOfChildren&&I.children[St]){const w=I.children[St];return new Mt(I.segments.concat(w.segments),w.children)}return I}(new Mt(I.segments,w))}function Hr(I){return I instanceof rt}function pe(I,w,v,T,F){var q;if(0===v.length)return lt(w.root,w.root,w.root,T,F);const E=function it(I){if("string"==typeof I[0]&&1===I.length&&"/"===I[0])return new je(!0,0,I);let w=0,v=!1;const T=I.reduce((F,q,ve)=>{if("object"==typeof q&&null!=q){if(q.outlets){const E={};return an(q.outlets,(A,H)=>{E[H]="string"==typeof A?A.split("/"):A}),[...F,{outlets:E}]}if(q.segmentPath)return[...F,q.segmentPath]}return"string"!=typeof q?[...F,q]:0===ve?(q.split("/").forEach((E,A)=>{0==A&&"."===E||(0==A&&""===E?v=!0:".."===E?w++:""!=E&&F.push(E))}),F):[...F,q]},[]);return new je(v,w,T)}(v);return E.toRoot()?lt(w.root,w.root,new Mt([],{}),T,F):function A(fe){var Ae;const qe=function Bt(I,w,v,T){if(I.isAbsolute)return new dt(w.root,!0,0);if(-1===T)return new dt(v,v===w.root,0);return function Qt(I,w,v){let T=I,F=w,q=v;for(;q>F;){if(q-=F,T=T.parent,!T)throw new a.vHH(4005,!1);F=T.segments.length}return new dt(T,!1,F-q)}(v,T+(Le(I.commands[0])?0:1),I.numberOfDoubleDots)}(E,w,null===(Ae=I.snapshot)||void 0===Ae?void 0:Ae._urlSegment,fe),_t=qe.processChildren?Zn(qe.segmentGroup,qe.index,E.commands):mn(qe.segmentGroup,qe.index,E.commands);return lt(w.root,qe.segmentGroup,_t,T,F)}(null===(q=I.snapshot)||void 0===q?void 0:q._lastPathIndex)}function Le(I){return"object"==typeof I&&null!=I&&!I.outlets&&!I.segmentPath}function Ke(I){return"object"==typeof I&&null!=I&&I.outlets}function lt(I,w,v,T,F){let ve,q={};T&&an(T,(A,H)=>{q[H]=Array.isArray(A)?A.map(fe=>`${fe}`):`${A}`}),ve=I===w?v:ue(I,w,v);const E=vi(En(ve));return new rt(E,q,F)}function ue(I,w,v){const T={};return an(I.children,(F,q)=>{T[q]=F===w?v:ue(F,w,v)}),new Mt(I.segments,T)}class je{constructor(w,v,T){if(this.isAbsolute=w,this.numberOfDoubleDots=v,this.commands=T,w&&T.length>0&&Le(T[0]))throw new a.vHH(4003,!1);const F=T.find(Ke);if(F&&F!==jn(T))throw new a.vHH(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class dt{constructor(w,v,T){this.segmentGroup=w,this.processChildren=v,this.index=T}}function mn(I,w,v){if(I||(I=new Mt([],{})),0===I.segments.length&&I.hasChildren())return Zn(I,w,v);const T=function ti(I,w,v){let T=0,F=w;const q={match:!1,pathIndex:0,commandIndex:0};for(;F<I.segments.length;){if(T>=v.length)return q;const ve=I.segments[F],E=v[T];if(Ke(E))break;const A=`${E}`,H=T<v.length-1?v[T+1]:null;if(F>0&&void 0===A)break;if(A&&H&&"object"==typeof H&&void 0===H.outlets){if(!us(A,H,ve))return q;T+=2}else{if(!us(A,{},ve))return q;T++}F++}return{match:!0,pathIndex:F,commandIndex:T}}(I,w,v),F=v.slice(T.commandIndex);if(T.match&&T.pathIndex<I.segments.length){const q=new Mt(I.segments.slice(0,T.pathIndex),{});return q.children[St]=new Mt(I.segments.slice(T.pathIndex),I.children),Zn(q,0,F)}return T.match&&0===F.length?new Mt(I.segments,{}):T.match&&!I.hasChildren()?hi(I,w,v):T.match?Zn(I,0,F):hi(I,w,v)}function Zn(I,w,v){if(0===v.length)return new Mt(I.segments,{});{const T=function An(I){return Ke(I[0])?I[0].outlets:{[St]:I}}(v),F={};return an(T,(q,ve)=>{"string"==typeof q&&(q=[q]),null!==q&&(F[ve]=mn(I.children[ve],w,q))}),an(I.children,(q,ve)=>{void 0===T[ve]&&(F[ve]=q)}),new Mt(I.segments,F)}}function hi(I,w,v){const T=I.segments.slice(0,w);let F=0;for(;F<v.length;){const q=v[F];if(Ke(q)){const A=gi(q.outlets);return new Mt(T,A)}if(0===F&&Le(v[0])){T.push(new gn(I.segments[w].path,Ns(v[0]))),F++;continue}const ve=Ke(q)?q.outlets[St]:`${q}`,E=F<v.length-1?v[F+1]:null;ve&&E&&Le(E)?(T.push(new gn(ve,Ns(E))),F+=2):(T.push(new gn(ve,{})),F++)}return new Mt(T,{})}function gi(I){const w={};return an(I,(v,T)=>{"string"==typeof v&&(v=[v]),null!==v&&(w[T]=hi(new Mt([],{}),0,v))}),w}function Ns(I){const w={};return an(I,(v,T)=>w[T]=`${v}`),w}function us(I,w,v){return I==v.path&&nr(w,v.parameters)}class Vi{constructor(w,v){this.id=w,this.url=v}}class fi extends Vi{constructor(w,v,T="imperative",F=null){super(w,v),this.type=0,this.navigationTrigger=T,this.restoredState=F}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Wi extends Vi{constructor(w,v,T){super(w,v),this.urlAfterRedirects=T,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class Is extends Vi{constructor(w,v,T,F){super(w,v),this.reason=T,this.code=F,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class To extends Vi{constructor(w,v,T,F){super(w,v),this.error=T,this.target=F,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class fo extends Vi{constructor(w,v,T,F){super(w,v),this.urlAfterRedirects=T,this.state=F,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class ws extends Vi{constructor(w,v,T,F){super(w,v),this.urlAfterRedirects=T,this.state=F,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Ds extends Vi{constructor(w,v,T,F,q){super(w,v),this.urlAfterRedirects=T,this.state=F,this.shouldActivate=q,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class _a extends Vi{constructor(w,v,T,F){super(w,v),this.urlAfterRedirects=T,this.state=F,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class po extends Vi{constructor(w,v,T,F){super(w,v),this.urlAfterRedirects=T,this.state=F,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class cs{constructor(w){this.route=w,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class go{constructor(w){this.route=w,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class Cs{constructor(w){this.snapshot=w,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Bi{constructor(w){this.snapshot=w,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class qi{constructor(w){this.snapshot=w,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Ws{constructor(w){this.snapshot=w,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class ls{constructor(w,v,T){this.routerEvent=w,this.position=v,this.anchor=T,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class Fs{constructor(w){this._root=w}get root(){return this._root.value}parent(w){const v=this.pathFromRoot(w);return v.length>1?v[v.length-2]:null}children(w){const v=ds(w,this._root);return v?v.children.map(T=>T.value):[]}firstChild(w){const v=ds(w,this._root);return v&&v.children.length>0?v.children[0].value:null}siblings(w){const v=Ai(w,this._root);return v.length<2?[]:v[v.length-2].children.map(F=>F.value).filter(F=>F!==w)}pathFromRoot(w){return Ai(w,this._root).map(v=>v.value)}}function ds(I,w){if(I===w.value)return w;for(const v of w.children){const T=ds(I,v);if(T)return T}return null}function Ai(I,w){if(I===w.value)return[w];for(const v of w.children){const T=Ai(I,v);if(T.length)return T.unshift(w),T}return[]}class Yr{constructor(w,v){this.value=w,this.children=v}toString(){return`TreeNode(${this.value})`}}function ai(I){const w={};return I&&I.children.forEach(v=>w[v.value.outlet]=v),w}class eo extends Fs{constructor(w,v){super(w),this.snapshot=v,xi(this,w)}toString(){return this.snapshot.toString()}}function es(I,w){const v=function Ao(I,w){const ve=new Yi([],{},{},"",{},St,w,null,I.root,-1,{});return new ts("",new Yr(ve,[]))}(I,w),T=new Ce.X([new gn("",{})]),F=new Ce.X({}),q=new Ce.X({}),ve=new Ce.X({}),E=new Ce.X(""),A=new Wr(T,F,ve,E,q,St,w,v.root);return A.snapshot=v.root,new eo(new Yr(A,[]),v)}class Wr{constructor(w,v,T,F,q,ve,E,A){var H,fe;this.url=w,this.params=v,this.queryParams=T,this.fragment=F,this.data=q,this.outlet=ve,this.component=E,this.title=null!==(fe=null===(H=this.data)||void 0===H?void 0:H.pipe((0,ye.U)(Ae=>Ae[Xt])))&&void 0!==fe?fe:(0,B.of)(void 0),this._futureSnapshot=A}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,ye.U)(w=>rr(w)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,ye.U)(w=>rr(w)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function _i(I,w="emptyOnly"){const v=I.pathFromRoot;let T=0;if("always"!==w)for(T=v.length-1;T>=1;){const F=v[T],q=v[T-1];if(F.routeConfig&&""===F.routeConfig.path)T--;else{if(q.component)break;T--}}return function Or(I){return I.reduce((w,v)=>{var T;return{params:Object.assign(Object.assign({},w.params),v.params),data:Object.assign(Object.assign({},w.data),v.data),resolve:Object.assign(Object.assign(Object.assign(Object.assign({},v.data),w.resolve),null===(T=v.routeConfig)||void 0===T?void 0:T.data),v._resolvedData)}},{params:{},data:{},resolve:{}})}(v.slice(T))}class Yi{constructor(w,v,T,F,q,ve,E,A,H,fe,Ae,qe){var _t;this.url=w,this.params=v,this.queryParams=T,this.fragment=F,this.data=q,this.outlet=ve,this.component=E,this.title=null===(_t=this.data)||void 0===_t?void 0:_t[Xt],this.routeConfig=A,this._urlSegment=H,this._lastPathIndex=fe,this._correctedLastPathIndex=null!=qe?qe:fe,this._resolve=Ae}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=rr(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=rr(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(T=>T.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class ts extends Fs{constructor(w,v){super(v),this.url=w,xi(this,v)}toString(){return qn(this._root)}}function xi(I,w){w.value._routerState=I,w.children.forEach(v=>xi(I,v))}function qn(I){const w=I.children.length>0?` { ${I.children.map(qn).join(", ")} } `:"";return`${I.value}${w}`}function Ss(I){if(I.snapshot){const w=I.snapshot,v=I._futureSnapshot;I.snapshot=v,nr(w.queryParams,v.queryParams)||I.queryParams.next(v.queryParams),w.fragment!==v.fragment&&I.fragment.next(v.fragment),nr(w.params,v.params)||I.params.next(v.params),function tr(I,w){if(I.length!==w.length)return!1;for(let v=0;v<I.length;++v)if(!nr(I[v],w[v]))return!1;return!0}(w.url,v.url)||I.url.next(v.url),nr(w.data,v.data)||I.data.next(v.data)}else I.snapshot=I._futureSnapshot,I.data.next(I._futureSnapshot.data)}function Er(I,w){const v=nr(I.params,w.params)&&function Gn(I,w){return pr(I,w)&&I.every((v,T)=>nr(v.parameters,w[T].parameters))}(I.url,w.url);return v&&!(!I.parent!=!w.parent)&&(!I.parent||Er(I.parent,w.parent))}function Ls(I,w,v){if(v&&I.shouldReuseRoute(w.value,v.value.snapshot)){const T=v.value;T._futureSnapshot=w.value;const F=function kr(I,w,v){return w.children.map(T=>{for(const F of v.children)if(I.shouldReuseRoute(T.value,F.value.snapshot))return Ls(I,T,F);return Ls(I,T)})}(I,w,v);return new Yr(T,F)}{if(I.shouldAttach(w.value)){const q=I.retrieve(w.value);if(null!==q){const ve=q.route;return ve.value._futureSnapshot=w.value,ve.children=w.children.map(E=>Ls(I,E)),ve}}const T=function pi(I){return new Wr(new Ce.X(I.url),new Ce.X(I.params),new Ce.X(I.queryParams),new Ce.X(I.fragment),new Ce.X(I.data),I.outlet,I.component,I)}(w.value),F=w.children.map(q=>Ls(I,q));return new Yr(T,F)}}const Ts="ngNavigationCancelingError";function As(I,w){const{redirectTo:v,navigationBehaviorOptions:T}=Hr(w)?{redirectTo:w,navigationBehaviorOptions:void 0}:w,F=$i(!1,0,w);return F.url=v,F.navigationBehaviorOptions=T,F}function $i(I,w,v){const T=new Error("NavigationCancelingError: "+(I||""));return T[Ts]=!0,T.cancellationCode=w,v&&(T.url=v),T}function Kr(I){return Ir(I)&&Hr(I.url)}function Ir(I){return I&&I[Ts]}class qs{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.injector=null,this.children=new ns,this.attachRef=null}}let ns=(()=>{class I{constructor(){this.contexts=new Map}onChildOutletCreated(v,T){const F=this.getOrCreateContext(v);F.outlet=T,this.contexts.set(v,F)}onChildOutletDestroyed(v){const T=this.getContext(v);T&&(T.outlet=null,T.attachRef=null)}onOutletDeactivated(){const v=this.contexts;return this.contexts=new Map,v}onOutletReAttached(v){this.contexts=v}getOrCreateContext(v){let T=this.getContext(v);return T||(T=new qs,this.contexts.set(v,T)),T}getContext(v){return this.contexts.get(v)||null}}return I.\u0275fac=function(v){return new(v||I)},I.\u0275prov=a.Yz7({token:I,factory:I.\u0275fac,providedIn:"root"}),I})();const Mi=!1;let Ki=(()=>{class I{constructor(v,T,F,q,ve){this.parentContexts=v,this.location=T,this.changeDetector=q,this.environmentInjector=ve,this.activated=null,this._activatedRoute=null,this.activateEvents=new a.vpe,this.deactivateEvents=new a.vpe,this.attachEvents=new a.vpe,this.detachEvents=new a.vpe,this.name=F||St,v.onChildOutletCreated(this.name,this)}ngOnDestroy(){var v;(null===(v=this.parentContexts.getContext(this.name))||void 0===v?void 0:v.outlet)===this&&this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const v=this.parentContexts.getContext(this.name);v&&v.route&&(v.attachRef?this.attach(v.attachRef,v.route):this.activateWith(v.route,v.injector))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new a.vHH(4012,Mi);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new a.vHH(4012,Mi);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new a.vHH(4012,Mi);this.location.detach();const v=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(v.instance),v}attach(v,T){this.activated=v,this._activatedRoute=T,this.location.insert(v.hostView),this.attachEvents.emit(v.instance)}deactivate(){if(this.activated){const v=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(v)}}activateWith(v,T){if(this.isActivated)throw new a.vHH(4013,Mi);this._activatedRoute=v;const F=this.location,ve=v._futureSnapshot.component,E=this.parentContexts.getOrCreateContext(this.name).children,A=new mo(v,E,F.injector);if(T&&function On(I){return!!I.resolveComponentFactory}(T)){const H=T.resolveComponentFactory(ve);this.activated=F.createComponent(H,F.length,A)}else this.activated=F.createComponent(ve,{index:F.length,injector:A,environmentInjector:null!=T?T:this.environmentInjector});this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return I.\u0275fac=function(v){return new(v||I)(a.Y36(ns),a.Y36(a.s_b),a.$8M("name"),a.Y36(a.sBO),a.Y36(a.lqb))},I.\u0275dir=a.lG2({type:I,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0}),I})();class mo{constructor(w,v,T){this.route=w,this.childContexts=v,this.parent=T}get(w,v){return w===Wr?this.route:w===ns?this.childContexts:this.parent.get(w,v)}}let rs=(()=>{class I{}return I.\u0275fac=function(v){return new(v||I)},I.\u0275cmp=a.Xpm({type:I,selectors:[["ng-component"]],standalone:!0,features:[a.jDz],decls:1,vars:0,template:function(v,T){1&v&&a._UZ(0,"router-outlet")},dependencies:[Ki],encapsulation:2}),I})();function $o(I,w){var v;return I.providers&&!I._injector&&(I._injector=(0,a.MMx)(I.providers,w,`Route: ${I.path}`)),null!==(v=I._injector)&&void 0!==v?v:w}function _o(I){const w=I.children&&I.children.map(_o),v=w?Object.assign(Object.assign({},I),{children:w}):Object.assign({},I);return!v.component&&!v.loadComponent&&(w||v.loadChildren)&&v.outlet&&v.outlet!==St&&(v.component=rs),v}function Ni(I){return I.outlet||St}function V(I,w){const v=I.filter(T=>Ni(T)===w);return v.push(...I.filter(T=>Ni(T)!==w)),v}function k(I){var w;if(!I)return null;if(null!==(w=I.routeConfig)&&void 0!==w&&w._injector)return I.routeConfig._injector;for(let v=I.parent;v;v=v.parent){const T=v.routeConfig;if(null!=T&&T._loadedInjector)return T._loadedInjector;if(null!=T&&T._injector)return T._injector}return null}class f{constructor(w,v,T,F){this.routeReuseStrategy=w,this.futureState=v,this.currState=T,this.forwardEvent=F}activate(w){const v=this.futureState._root,T=this.currState?this.currState._root:null;this.deactivateChildRoutes(v,T,w),Ss(this.futureState.root),this.activateChildRoutes(v,T,w)}deactivateChildRoutes(w,v,T){const F=ai(v);w.children.forEach(q=>{const ve=q.value.outlet;this.deactivateRoutes(q,F[ve],T),delete F[ve]}),an(F,(q,ve)=>{this.deactivateRouteAndItsChildren(q,T)})}deactivateRoutes(w,v,T){const F=w.value,q=v?v.value:null;if(F===q)if(F.component){const ve=T.getContext(F.outlet);ve&&this.deactivateChildRoutes(w,v,ve.children)}else this.deactivateChildRoutes(w,v,T);else q&&this.deactivateRouteAndItsChildren(v,T)}deactivateRouteAndItsChildren(w,v){w.value.component&&this.routeReuseStrategy.shouldDetach(w.value.snapshot)?this.detachAndStoreRouteSubtree(w,v):this.deactivateRouteAndOutlet(w,v)}detachAndStoreRouteSubtree(w,v){const T=v.getContext(w.value.outlet),F=T&&w.value.component?T.children:v,q=ai(w);for(const ve of Object.keys(q))this.deactivateRouteAndItsChildren(q[ve],F);if(T&&T.outlet){const ve=T.outlet.detach(),E=T.children.onOutletDeactivated();this.routeReuseStrategy.store(w.value.snapshot,{componentRef:ve,route:w,contexts:E})}}deactivateRouteAndOutlet(w,v){const T=v.getContext(w.value.outlet),F=T&&w.value.component?T.children:v,q=ai(w);for(const ve of Object.keys(q))this.deactivateRouteAndItsChildren(q[ve],F);T&&T.outlet&&(T.outlet.deactivate(),T.children.onOutletDeactivated(),T.attachRef=null,T.resolver=null,T.route=null)}activateChildRoutes(w,v,T){const F=ai(v);w.children.forEach(q=>{this.activateRoutes(q,F[q.value.outlet],T),this.forwardEvent(new Ws(q.value.snapshot))}),w.children.length&&this.forwardEvent(new Bi(w.value.snapshot))}activateRoutes(w,v,T){var F;const q=w.value,ve=v?v.value:null;if(Ss(q),q===ve)if(q.component){const E=T.getOrCreateContext(q.outlet);this.activateChildRoutes(w,v,E.children)}else this.activateChildRoutes(w,v,T);else if(q.component){const E=T.getOrCreateContext(q.outlet);if(this.routeReuseStrategy.shouldAttach(q.snapshot)){const A=this.routeReuseStrategy.retrieve(q.snapshot);this.routeReuseStrategy.store(q.snapshot,null),E.children.onOutletReAttached(A.contexts),E.attachRef=A.componentRef,E.route=A.route.value,E.outlet&&E.outlet.attach(A.componentRef,A.route.value),Ss(A.route.value),this.activateChildRoutes(w,null,E.children)}else{const A=k(q.snapshot),H=null!==(F=null==A?void 0:A.get(a._Vd))&&void 0!==F?F:null;E.attachRef=null,E.route=q,E.resolver=H,E.injector=A,E.outlet&&E.outlet.activateWith(q,E.injector),this.activateChildRoutes(w,null,E.children)}}else this.activateChildRoutes(w,null,T)}}class x{constructor(w){this.path=w,this.route=this.path[this.path.length-1]}}class y{constructor(w,v){this.component=w,this.route=v}}function N(I,w,v){const T=I._root;return kt(T,w?w._root:null,v,[T.value])}function Qe(I,w){const v=Symbol(),T=w.get(I,v);return T===v?"function"!=typeof I||(0,a.Z0I)(I)?w.get(I):I:T}function kt(I,w,v,T,F={canDeactivateChecks:[],canActivateChecks:[]}){const q=ai(w);return I.children.forEach(ve=>{(function $t(I,w,v,T,F={canDeactivateChecks:[],canActivateChecks:[]}){const q=I.value,ve=w?w.value:null,E=v?v.getContext(I.value.outlet):null;if(ve&&q.routeConfig===ve.routeConfig){const A=function In(I,w,v){if("function"==typeof v)return v(I,w);switch(v){case"pathParamsChange":return!pr(I.url,w.url);case"pathParamsOrQueryParamsChange":return!pr(I.url,w.url)||!nr(I.queryParams,w.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Er(I,w)||!nr(I.queryParams,w.queryParams);default:return!Er(I,w)}}(ve,q,q.routeConfig.runGuardsAndResolvers);A?F.canActivateChecks.push(new x(T)):(q.data=ve.data,q._resolvedData=ve._resolvedData),kt(I,w,q.component?E?E.children:null:v,T,F),A&&E&&E.outlet&&E.outlet.isActivated&&F.canDeactivateChecks.push(new y(E.outlet.component,ve))}else ve&&ar(w,E,F),F.canActivateChecks.push(new x(T)),kt(I,null,q.component?E?E.children:null:v,T,F)})(ve,q[ve.value.outlet],v,T.concat([ve.value]),F),delete q[ve.value.outlet]}),an(q,(ve,E)=>ar(ve,v.getContext(E),F)),F}function ar(I,w,v){const T=ai(I),F=I.value;an(T,(q,ve)=>{ar(q,F.component?w?w.children.getContext(ve):null:w,v)}),v.canDeactivateChecks.push(new y(F.component&&w&&w.outlet&&w.outlet.isActivated?w.outlet.component:null,F))}function gr(I){return"function"==typeof I}function Ks(I){return I instanceof Te.K||"EmptyError"===(null==I?void 0:I.name)}const jo=Symbol("INITIAL_VALUE");function R(){return(0,le.w)(I=>$e(I.map(w=>w.pipe((0,W.q)(1),(0,Y.O)(jo)))).pipe((0,ye.U)(w=>{for(const v of w)if(!0!==v){if(v===jo)return jo;if(!1===v||v instanceof rt)return v}return!0}),(0,Q.h)(w=>w!==jo),(0,W.q)(1)))}function Yn(I){return(0,Be.z)((0,He.b)(w=>{if(Hr(w))throw As(0,w)}),(0,ye.U)(w=>!0===w))}const ui={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function $r(I,w,v,T,F){const q=ci(I,w,v);return q.matched?function wn(I,w,v,T){const F=w.canMatch;if(!F||0===F.length)return(0,B.of)(!0);const q=F.map(ve=>{const E=Qe(ve,I);return Dn(function fs(I){return I&&gr(I.canMatch)}(E)?E.canMatch(w,v):I.runInContext(()=>E(w,v)))});return(0,B.of)(q).pipe(R(),Yn())}(T=$o(w,T),w,v).pipe((0,ye.U)(ve=>!0===ve?q:Object.assign({},ui))):(0,B.of)(q)}function ci(I,w,v){var T;if(""===w.path)return"full"===w.pathMatch&&(I.hasChildren()||v.length>0)?Object.assign({},ui):{matched:!0,consumedSegments:[],remainingSegments:v,parameters:{},positionalParamSegments:{}};const q=(w.matcher||Un)(v,I,w);if(!q)return Object.assign({},ui);const ve={};an(q.posParams,(A,H)=>{ve[H]=A.path});const E=q.consumed.length>0?Object.assign(Object.assign({},ve),q.consumed[q.consumed.length-1].parameters):ve;return{matched:!0,consumedSegments:q.consumed,remainingSegments:v.slice(q.consumed.length),parameters:E,positionalParamSegments:null!==(T=q.posParams)&&void 0!==T?T:{}}}function is(I,w,v,T,F="corrected"){if(v.length>0&&function Vs(I,w,v){return v.some(T=>ss(I,w,T)&&Ni(T)!==St)}(I,v,T)){const ve=new Mt(w,function Zs(I,w,v,T){const F={};F[St]=T,T._sourceSegment=I,T._segmentIndexShift=w.length;for(const q of v)if(""===q.path&&Ni(q)!==St){const ve=new Mt([],{});ve._sourceSegment=I,ve._segmentIndexShift=w.length,F[Ni(q)]=ve}return F}(I,w,T,new Mt(v,I.children)));return ve._sourceSegment=I,ve._segmentIndexShift=w.length,{segmentGroup:ve,slicedSegments:[]}}if(0===v.length&&function Ro(I,w,v){return v.some(T=>ss(I,w,T))}(I,v,T)){const ve=new Mt(I.segments,function to(I,w,v,T,F,q){const ve={};for(const E of T)if(ss(I,v,E)&&!F[Ni(E)]){const A=new Mt([],{});A._sourceSegment=I,A._segmentIndexShift="legacy"===q?I.segments.length:w.length,ve[Ni(E)]=A}return Object.assign(Object.assign({},F),ve)}(I,w,v,T,I.children,F));return ve._sourceSegment=I,ve._segmentIndexShift=w.length,{segmentGroup:ve,slicedSegments:v}}const q=new Mt(I.segments,I.children);return q._sourceSegment=I,q._segmentIndexShift=w.length,{segmentGroup:q,slicedSegments:v}}function ss(I,w,v){return(!(I.hasChildren()||w.length>0)||"full"!==v.pathMatch)&&""===v.path}function ni(I,w,v,T){return!!(Ni(I)===T||T!==St&&ss(w,v,I))&&("**"===I.path||ci(w,I,v).matched)}function ta(I,w,v){return 0===w.length&&!I.children[v]}const bi=!1;class Xi{constructor(w){this.segmentGroup=w||null}}class Ea{constructor(w){this.urlTree=w}}function Na(I){return(0,ct._)(new Xi(I))}function Ia(I){return(0,ct._)(new Ea(I))}class nc{constructor(w,v,T,F,q){this.injector=w,this.configLoader=v,this.urlSerializer=T,this.urlTree=F,this.config=q,this.allowRedirects=!0}apply(){const w=is(this.urlTree.root,[],[],this.config).segmentGroup,v=new Mt(w.segments,w.children);return this.expandSegmentGroup(this.injector,this.config,v,St).pipe((0,ye.U)(q=>this.createUrlTree(En(q),this.urlTree.queryParams,this.urlTree.fragment))).pipe(Fe(q=>{if(q instanceof Ea)return this.allowRedirects=!1,this.match(q.urlTree);throw q instanceof Xi?this.noMatchError(q):q}))}match(w){return this.expandSegmentGroup(this.injector,this.config,w.root,St).pipe((0,ye.U)(F=>this.createUrlTree(En(F),w.queryParams,w.fragment))).pipe(Fe(F=>{throw F instanceof Xi?this.noMatchError(F):F}))}noMatchError(w){return new a.vHH(4002,bi)}createUrlTree(w,v,T){const F=vi(w);return new rt(F,v,T)}expandSegmentGroup(w,v,T,F){return 0===T.segments.length&&T.hasChildren()?this.expandChildren(w,v,T).pipe((0,ye.U)(q=>new Mt([],q))):this.expandSegment(w,T,v,T.segments,F,!0)}expandChildren(w,v,T){const F=[];for(const q of Object.keys(T.children))"primary"===q?F.unshift(q):F.push(q);return(0,X.D)(F).pipe((0,pt.b)(q=>{const ve=T.children[q],E=V(v,q);return this.expandSegmentGroup(w,E,ve,q).pipe((0,ye.U)(A=>({segment:A,outlet:q})))}),(0,Ve.R)((q,ve)=>(q[ve.outlet]=ve.segment,q),{}),bn())}expandSegment(w,v,T,F,q,ve){return(0,X.D)(T).pipe((0,pt.b)(E=>this.expandSegmentAgainstRoute(w,v,T,E,F,q,ve).pipe(Fe(H=>{if(H instanceof Xi)return(0,B.of)(null);throw H}))),(0,ze.P)(E=>!!E),Fe((E,A)=>{if(Ks(E))return ta(v,F,q)?(0,B.of)(new Mt([],{})):Na(v);throw E}))}expandSegmentAgainstRoute(w,v,T,F,q,ve,E){return ni(F,v,q,ve)?void 0===F.redirectTo?this.matchSegmentAgainstRoute(w,v,F,q,ve):E&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(w,v,T,F,q,ve):Na(v):Na(v)}expandSegmentAgainstRouteUsingRedirect(w,v,T,F,q,ve){return"**"===F.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(w,T,F,ve):this.expandRegularSegmentAgainstRouteUsingRedirect(w,v,T,F,q,ve)}expandWildCardWithParamsAgainstRouteUsingRedirect(w,v,T,F){const q=this.applyRedirectCommands([],T.redirectTo,{});return T.redirectTo.startsWith("/")?Ia(q):this.lineralizeSegments(T,q).pipe((0,Ie.zg)(ve=>{const E=new Mt(ve,{});return this.expandSegment(w,E,v,ve,F,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(w,v,T,F,q,ve){const{matched:E,consumedSegments:A,remainingSegments:H,positionalParamSegments:fe}=ci(v,F,q);if(!E)return Na(v);const Ae=this.applyRedirectCommands(A,F.redirectTo,fe);return F.redirectTo.startsWith("/")?Ia(Ae):this.lineralizeSegments(F,Ae).pipe((0,Ie.zg)(qe=>this.expandSegment(w,v,T,qe.concat(H),ve,!1)))}matchSegmentAgainstRoute(w,v,T,F,q){return"**"===T.path?(w=$o(T,w),T.loadChildren?(T._loadedRoutes?(0,B.of)({routes:T._loadedRoutes,injector:T._loadedInjector}):this.configLoader.loadChildren(w,T)).pipe((0,ye.U)(E=>(T._loadedRoutes=E.routes,T._loadedInjector=E.injector,new Mt(F,{})))):(0,B.of)(new Mt(F,{}))):$r(v,T,F,w).pipe((0,le.w)(({matched:ve,consumedSegments:E,remainingSegments:A})=>{var H;return ve?(w=null!==(H=T._injector)&&void 0!==H?H:w,this.getChildConfig(w,T,F).pipe((0,Ie.zg)(Ae=>{var qe;const _t=null!==(qe=Ae.injector)&&void 0!==qe?qe:w,Ht=Ae.routes,{segmentGroup:Vt,slicedSegments:fn}=is(v,E,A,Ht),Hn=new Mt(Vt.segments,Vt.children);if(0===fn.length&&Hn.hasChildren())return this.expandChildren(_t,Ht,Hn).pipe((0,ye.U)(zo=>new Mt(E,zo)));if(0===Ht.length&&0===fn.length)return(0,B.of)(new Mt(E,{}));const Sn=Ni(T)===q;return this.expandSegment(_t,Hn,Ht,fn,Sn?St:q,!0).pipe((0,ye.U)(yr=>new Mt(E.concat(yr.segments),yr.children)))}))):Na(v)}))}getChildConfig(w,v,T){return v.children?(0,B.of)({routes:v.children,injector:w}):v.loadChildren?void 0!==v._loadedRoutes?(0,B.of)({routes:v._loadedRoutes,injector:v._loadedInjector}):function Nn(I,w,v,T){const F=w.canLoad;if(void 0===F||0===F.length)return(0,B.of)(!0);const q=F.map(ve=>{const E=Qe(ve,I);return Dn(function Ri(I){return I&&gr(I.canLoad)}(E)?E.canLoad(w,v):I.runInContext(()=>E(w,v)))});return(0,B.of)(q).pipe(R(),Yn())}(w,v,T).pipe((0,Ie.zg)(F=>F?this.configLoader.loadChildren(w,v).pipe((0,He.b)(q=>{v._loadedRoutes=q.routes,v._loadedInjector=q.injector})):function wu(I){return(0,ct._)($i(bi,3))}())):(0,B.of)({routes:[],injector:w})}lineralizeSegments(w,v){let T=[],F=v.root;for(;;){if(T=T.concat(F.segments),0===F.numberOfChildren)return(0,B.of)(T);if(F.numberOfChildren>1||!F.children[St])return(0,ct._)(new a.vHH(4e3,bi));F=F.children[St]}}applyRedirectCommands(w,v,T){return this.applyRedirectCreateUrlTree(v,this.urlSerializer.parse(v),w,T)}applyRedirectCreateUrlTree(w,v,T,F){const q=this.createSegmentGroup(w,v.root,T,F);return new rt(q,this.createQueryParams(v.queryParams,this.urlTree.queryParams),v.fragment)}createQueryParams(w,v){const T={};return an(w,(F,q)=>{if("string"==typeof F&&F.startsWith(":")){const E=F.substring(1);T[q]=v[E]}else T[q]=F}),T}createSegmentGroup(w,v,T,F){const q=this.createSegments(w,v.segments,T,F);let ve={};return an(v.children,(E,A)=>{ve[A]=this.createSegmentGroup(w,E,T,F)}),new Mt(q,ve)}createSegments(w,v,T,F){return v.map(q=>q.path.startsWith(":")?this.findPosParam(w,q,F):this.findOrReturn(q,T))}findPosParam(w,v,T){const F=T[v.path.substring(1)];if(!F)throw new a.vHH(4001,bi);return F}findOrReturn(w,v){let T=0;for(const F of v){if(F.path===w.path)return v.splice(T),F;T++}return w}}class Fa{}class Eo{constructor(w,v,T,F,q,ve,E,A){this.injector=w,this.rootComponentType=v,this.config=T,this.urlTree=F,this.url=q,this.paramsInheritanceStrategy=ve,this.relativeLinkResolution=E,this.urlSerializer=A}recognize(){const w=is(this.urlTree.root,[],[],this.config.filter(v=>void 0===v.redirectTo),this.relativeLinkResolution).segmentGroup;return this.processSegmentGroup(this.injector,this.config,w,St).pipe((0,ye.U)(v=>{if(null===v)return null;const T=new Yi([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},St,this.rootComponentType,null,this.urlTree.root,-1,{}),F=new Yr(T,v),q=new ts(this.url,F);return this.inheritParamsAndData(q._root),q}))}inheritParamsAndData(w){const v=w.value,T=_i(v,this.paramsInheritanceStrategy);v.params=Object.freeze(T.params),v.data=Object.freeze(T.data),w.children.forEach(F=>this.inheritParamsAndData(F))}processSegmentGroup(w,v,T,F){return 0===T.segments.length&&T.hasChildren()?this.processChildren(w,v,T):this.processSegment(w,v,T,T.segments,F)}processChildren(w,v,T){return(0,X.D)(Object.keys(T.children)).pipe((0,pt.b)(F=>{const q=T.children[F],ve=V(v,F);return this.processSegmentGroup(w,ve,q,F)}),(0,Ve.R)((F,q)=>F&&q?(F.push(...q),F):null),function Mn(I,w=!1){return v=>v.lift(new $n(I,w))}(F=>null!==F),(0,zt.d)(null),bn(),(0,ye.U)(F=>{if(null===F)return null;const q=Zr(F);return function no(I){I.sort((w,v)=>w.value.outlet===St?-1:v.value.outlet===St?1:w.value.outlet.localeCompare(v.value.outlet))}(q),q}))}processSegment(w,v,T,F,q){return(0,X.D)(v).pipe((0,pt.b)(ve=>{var E;return this.processSegmentAgainstRoute(null!==(E=ve._injector)&&void 0!==E?E:w,ve,T,F,q)}),(0,ze.P)(ve=>!!ve),Fe(ve=>{if(Ks(ve))return ta(T,F,q)?(0,B.of)([]):(0,B.of)(null);throw ve}))}processSegmentAgainstRoute(w,v,T,F,q){var ve,E;if(v.redirectTo||!ni(v,T,F,q))return(0,B.of)(null);let A;if("**"===v.path){const H=F.length>0?jn(F).parameters:{},fe=tn(T)+F.length,Ae=new Yi(F,H,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,La(v),Ni(v),null!==(E=null!==(ve=v.component)&&void 0!==ve?ve:v._loadedComponent)&&void 0!==E?E:null,v,li(T),fe,Yt(v),fe);A=(0,B.of)({snapshot:Ae,consumedSegments:[],remainingSegments:[]})}else A=$r(T,v,F,w).pipe((0,ye.U)(({matched:H,consumedSegments:fe,remainingSegments:Ae,parameters:qe})=>{var _t,Ht;if(!H)return null;const Vt=tn(T)+fe.length;return{snapshot:new Yi(fe,qe,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,La(v),Ni(v),null!==(Ht=null!==(_t=v.component)&&void 0!==_t?_t:v._loadedComponent)&&void 0!==Ht?Ht:null,v,li(T),Vt,Yt(v),Vt),consumedSegments:fe,remainingSegments:Ae}}));return A.pipe((0,le.w)(H=>{var fe,Ae;if(null===H)return(0,B.of)(null);const{snapshot:qe,consumedSegments:_t,remainingSegments:Ht}=H;w=null!==(fe=v._injector)&&void 0!==fe?fe:w;const Vt=null!==(Ae=v._loadedInjector)&&void 0!==Ae?Ae:w,fn=function Su(I){return I.children?I.children:I.loadChildren?I._loadedRoutes:[]}(v),{segmentGroup:Hn,slicedSegments:Sn}=is(T,_t,Ht,fn.filter(yr=>void 0===yr.redirectTo),this.relativeLinkResolution);if(0===Sn.length&&Hn.hasChildren())return this.processChildren(Vt,fn,Hn).pipe((0,ye.U)(yr=>null===yr?null:[new Yr(qe,yr)]));if(0===fn.length&&0===Sn.length)return(0,B.of)([new Yr(qe,[])]);const Hi=Ni(v)===q;return this.processSegment(Vt,fn,Hn,Sn,Hi?St:q).pipe((0,ye.U)(yr=>null===yr?null:[new Yr(qe,yr)]))}))}}function Nt(I){const w=I.value.routeConfig;return w&&""===w.path&&void 0===w.redirectTo}function Zr(I){const w=[],v=new Set;for(const T of I){if(!Nt(T)){w.push(T);continue}const F=w.find(q=>T.value.routeConfig===q.value.routeConfig);void 0!==F?(F.children.push(...T.children),v.add(F)):w.push(T)}for(const T of v){const F=Zr(T.children);w.push(new Yr(T.value,F))}return w.filter(T=>!v.has(T))}function li(I){let w=I;for(;w._sourceSegment;)w=w._sourceSegment;return w}function tn(I){var w,v;let T=I,F=null!==(w=T._segmentIndexShift)&&void 0!==w?w:0;for(;T._sourceSegment;)T=T._sourceSegment,F+=null!==(v=T._segmentIndexShift)&&void 0!==v?v:0;return F-1}function La(I){return I.data||{}}function Yt(I){return I.resolve||{}}function ro(I){return"string"==typeof I.title||null===I.title}function ko(I){return(0,le.w)(w=>{const v=I(w);return v?(0,X.D)(v).pipe((0,ye.U)(()=>w)):(0,B.of)(w)})}let nu=(()=>{class I{buildTitle(v){var T;let F,q=v.root;for(;void 0!==q;)F=null!==(T=this.getResolvedTitleForRoute(q))&&void 0!==T?T:F,q=q.children.find(ve=>ve.outlet===St);return F}getResolvedTitleForRoute(v){return v.data[Xt]}}return I.\u0275fac=function(v){return new(v||I)},I.\u0275prov=a.Yz7({token:I,factory:function(){return(0,a.f3M)(Da)},providedIn:"root"}),I})(),Da=(()=>{class I extends nu{constructor(v){super(),this.title=v}updateTitle(v){const T=this.buildTitle(v);void 0!==T&&this.title.setTitle(T)}}return I.\u0275fac=function(v){return new(v||I)(a.LFG(zr.Dx))},I.\u0275prov=a.Yz7({token:I,factory:I.\u0275fac,providedIn:"root"}),I})();class iu{}class Ca extends class su{shouldDetach(w){return!1}store(w,v){}shouldAttach(w){return!1}retrieve(w){return null}shouldReuseRoute(w,v){return w.routeConfig===v.routeConfig}}{}const Ms=new a.OlP("",{providedIn:"root",factory:()=>({})}),Gr=new a.OlP("ROUTES");let ln=(()=>{class I{constructor(v,T){this.injector=v,this.compiler=T,this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap}loadComponent(v){if(this.componentLoaders.get(v))return this.componentLoaders.get(v);if(v._loadedComponent)return(0,B.of)(v._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(v);const T=Dn(v.loadComponent()).pipe((0,He.b)(q=>{this.onLoadEndListener&&this.onLoadEndListener(v),v._loadedComponent=q}),cr(()=>{this.componentLoaders.delete(v)})),F=new Pe.c(T,()=>new st.xQ).pipe((0,en.x)());return this.componentLoaders.set(v,F),F}loadChildren(v,T){if(this.childrenLoaders.get(T))return this.childrenLoaders.get(T);if(T._loadedRoutes)return(0,B.of)({routes:T._loadedRoutes,injector:T._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(T);const q=this.loadModuleFactoryOrRoutes(T.loadChildren).pipe((0,ye.U)(E=>{this.onLoadEndListener&&this.onLoadEndListener(T);let A,H,fe=!1;Array.isArray(E)?H=E:(A=E.create(v).injector,H=ir(A.get(Gr,[],a.XFs.Self|a.XFs.Optional)));return{routes:H.map(_o),injector:A}}),cr(()=>{this.childrenLoaders.delete(T)})),ve=new Pe.c(q,()=>new st.xQ).pipe((0,en.x)());return this.childrenLoaders.set(T,ve),ve}loadModuleFactoryOrRoutes(v){return Dn(v()).pipe((0,Ie.zg)(T=>T instanceof a.YKP||Array.isArray(T)?(0,B.of)(T):(0,X.D)(this.compiler.compileModuleAsync(T))))}}return I.\u0275fac=function(v){return new(v||I)(a.LFG(a.zs3),a.LFG(a.Sil))},I.\u0275prov=a.Yz7({token:I,factory:I.\u0275fac,providedIn:"root"}),I})();class Xs{}class Tr{shouldProcessUrl(w){return!0}extract(w){return w}merge(w,v){return w}}function qr(I){throw I}function Zt(I,w,v){return w.parse("/")}const Po={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},ra={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};function ps(){var I,w;const v=(0,a.f3M)(Xe),T=(0,a.f3M)(ns),F=(0,a.f3M)(de.Ye),q=(0,a.f3M)(a.zs3),ve=(0,a.f3M)(a.Sil),E=null!==(I=(0,a.f3M)(Gr,{optional:!0}))&&void 0!==I?I:[],A=null!==(w=(0,a.f3M)(Ms,{optional:!0}))&&void 0!==w?w:{},H=(0,a.f3M)(Da),fe=(0,a.f3M)(nu,{optional:!0}),Ae=(0,a.f3M)(Xs,{optional:!0}),qe=(0,a.f3M)(iu,{optional:!0}),_t=new Pr(null,v,T,F,q,ve,ir(E));return Ae&&(_t.urlHandlingStrategy=Ae),qe&&(_t.routeReuseStrategy=qe),_t.titleStrategy=null!=fe?fe:H,function $s(I,w){I.errorHandler&&(w.errorHandler=I.errorHandler),I.malformedUriErrorHandler&&(w.malformedUriErrorHandler=I.malformedUriErrorHandler),I.onSameUrlNavigation&&(w.onSameUrlNavigation=I.onSameUrlNavigation),I.paramsInheritanceStrategy&&(w.paramsInheritanceStrategy=I.paramsInheritanceStrategy),I.relativeLinkResolution&&(w.relativeLinkResolution=I.relativeLinkResolution),I.urlUpdateStrategy&&(w.urlUpdateStrategy=I.urlUpdateStrategy),I.canceledNavigationResolution&&(w.canceledNavigationResolution=I.canceledNavigationResolution)}(A,_t),_t}let Pr=(()=>{class I{constructor(v,T,F,q,ve,E,A){this.rootComponentType=v,this.urlSerializer=T,this.rootContexts=F,this.location=q,this.config=A,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new st.xQ,this.errorHandler=qr,this.malformedUriErrorHandler=Zt,this.navigated=!1,this.lastSuccessfulId=-1,this.afterPreactivation=()=>(0,B.of)(void 0),this.urlHandlingStrategy=new Tr,this.routeReuseStrategy=new Ca,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.configLoader=ve.get(ln),this.configLoader.onLoadEndListener=qe=>this.triggerEvent(new go(qe)),this.configLoader.onLoadStartListener=qe=>this.triggerEvent(new cs(qe)),this.ngModule=ve.get(a.h0i),this.console=ve.get(a.c2e);const Ae=ve.get(a.R0b);this.isNgZoneEnabled=Ae instanceof a.R0b&&a.R0b.isInAngularZone(),this.resetConfig(A),this.currentUrlTree=function Wt(){return new rt(new Mt([],{}),{},null)}(),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=es(this.currentUrlTree,this.rootComponentType),this.transitions=new Ce.X({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){var v;return null===(v=this.location.getState())||void 0===v?void 0:v.\u0275routerPageId}setupNavigations(v){const T=this.events;return v.pipe((0,Q.h)(F=>0!==F.id),(0,ye.U)(F=>Object.assign(Object.assign({},F),{extractedUrl:this.urlHandlingStrategy.extract(F.rawUrl)})),(0,le.w)(F=>{let q=!1,ve=!1;return(0,B.of)(F).pipe((0,He.b)(E=>{this.currentNavigation={id:E.id,initialUrl:E.rawUrl,extractedUrl:E.extractedUrl,trigger:E.source,extras:E.extras,previousNavigation:this.lastSuccessfulNavigation?Object.assign(Object.assign({},this.lastSuccessfulNavigation),{previousNavigation:null}):null}}),(0,le.w)(E=>{const A=this.browserUrlTree.toString(),H=!this.navigated||E.extractedUrl.toString()!==A||A!==this.currentUrlTree.toString();if(("reload"===this.onSameUrlNavigation||H)&&this.urlHandlingStrategy.shouldProcessUrl(E.rawUrl))return Go(E.source)&&(this.browserUrlTree=E.extractedUrl),(0,B.of)(E).pipe((0,le.w)(Ae=>{const qe=this.transitions.getValue();return T.next(new fi(Ae.id,this.serializeUrl(Ae.extractedUrl),Ae.source,Ae.restoredState)),qe!==this.transitions.getValue()?ee.E:Promise.resolve(Ae)}),function Du(I,w,v,T){return(0,le.w)(F=>function na(I,w,v,T,F){return new nc(I,w,v,T,F).apply()}(I,w,v,F.extractedUrl,T).pipe((0,ye.U)(q=>Object.assign(Object.assign({},F),{urlAfterRedirects:q}))))}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),(0,He.b)(Ae=>{this.currentNavigation=Object.assign(Object.assign({},this.currentNavigation),{finalUrl:Ae.urlAfterRedirects}),F.urlAfterRedirects=Ae.urlAfterRedirects}),function vt(I,w,v,T,F,q){return(0,Ie.zg)(ve=>function bo(I,w,v,T,F,q,ve="emptyOnly",E="legacy"){return new Eo(I,w,v,T,F,ve,E,q).recognize().pipe((0,le.w)(A=>null===A?function Lr(I){return new ae.y(w=>w.error(I))}(new Fa):(0,B.of)(A)))}(I,w,v,ve.urlAfterRedirects,T.serialize(ve.urlAfterRedirects),T,F,q).pipe((0,ye.U)(E=>Object.assign(Object.assign({},ve),{targetSnapshot:E}))))}(this.ngModule.injector,this.rootComponentType,this.config,this.urlSerializer,this.paramsInheritanceStrategy,this.relativeLinkResolution),(0,He.b)(Ae=>{if(F.targetSnapshot=Ae.targetSnapshot,"eager"===this.urlUpdateStrategy){if(!Ae.extras.skipLocationChange){const _t=this.urlHandlingStrategy.merge(Ae.urlAfterRedirects,Ae.rawUrl);this.setBrowserUrl(_t,Ae)}this.browserUrlTree=Ae.urlAfterRedirects}const qe=new fo(Ae.id,this.serializeUrl(Ae.extractedUrl),this.serializeUrl(Ae.urlAfterRedirects),Ae.targetSnapshot);T.next(qe)}));if(H&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:qe,extractedUrl:_t,source:Ht,restoredState:Vt,extras:fn}=E,Hn=new fi(qe,this.serializeUrl(_t),Ht,Vt);T.next(Hn);const Sn=es(_t,this.rootComponentType).snapshot;return F=Object.assign(Object.assign({},E),{targetSnapshot:Sn,urlAfterRedirects:_t,extras:Object.assign(Object.assign({},fn),{skipLocationChange:!1,replaceUrl:!1})}),(0,B.of)(F)}return this.rawUrlTree=E.rawUrl,E.resolve(null),ee.E}),(0,He.b)(E=>{const A=new ws(E.id,this.serializeUrl(E.extractedUrl),this.serializeUrl(E.urlAfterRedirects),E.targetSnapshot);this.triggerEvent(A)}),(0,ye.U)(E=>F=Object.assign(Object.assign({},E),{guards:N(E.targetSnapshot,E.currentSnapshot,this.rootContexts)})),function z(I,w){return(0,Ie.zg)(v=>{const{targetSnapshot:T,currentSnapshot:F,guards:{canActivateChecks:q,canDeactivateChecks:ve}}=v;return 0===ve.length&&0===q.length?(0,B.of)(Object.assign(Object.assign({},v),{guardsResult:!0})):function P(I,w,v,T){return(0,X.D)(I).pipe((0,Ie.zg)(F=>function mr(I,w,v,T,F){const q=w&&w.routeConfig?w.routeConfig.canDeactivate:null;if(!q||0===q.length)return(0,B.of)(!0);const ve=q.map(E=>{var A;const H=null!==(A=k(w))&&void 0!==A?A:F,fe=Qe(E,H);return Dn(function Ui(I){return I&&gr(I.canDeactivate)}(fe)?fe.canDeactivate(I,w,v,T):H.runInContext(()=>fe(I,w,v,T))).pipe((0,ze.P)())});return(0,B.of)(ve).pipe(R())}(F.component,F.route,v,w,T)),(0,ze.P)(F=>!0!==F,!0))}(ve,T,F,I).pipe((0,Ie.zg)(E=>E&&function dr(I){return"boolean"==typeof I}(E)?function K(I,w,v,T){return(0,X.D)(w).pipe((0,pt.b)(F=>(0,Je.z)(function ht(I,w){return null!==I&&w&&w(new Cs(I)),(0,B.of)(!0)}(F.route.parent,T),function Me(I,w){return null!==I&&w&&w(new qi(I)),(0,B.of)(!0)}(F.route,T),function rn(I,w,v){const T=w[w.length-1],q=w.slice(0,w.length-1).reverse().map(ve=>function te(I){const w=I.routeConfig?I.routeConfig.canActivateChild:null;return w&&0!==w.length?{node:I,guards:w}:null}(ve)).filter(ve=>null!==ve).map(ve=>nt(()=>{const E=ve.guards.map(A=>{var H;const fe=null!==(H=k(ve.node))&&void 0!==H?H:v,Ae=Qe(A,fe);return Dn(function Zi(I){return I&&gr(I.canActivateChild)}(Ae)?Ae.canActivateChild(T,I):fe.runInContext(()=>Ae(T,I))).pipe((0,ze.P)())});return(0,B.of)(E).pipe(R())}));return(0,B.of)(q).pipe(R())}(I,F.path,v),function Ct(I,w,v){const T=w.routeConfig?w.routeConfig.canActivate:null;if(!T||0===T.length)return(0,B.of)(!0);const F=T.map(q=>nt(()=>{var ve;const E=null!==(ve=k(w))&&void 0!==ve?ve:v,A=Qe(q,E);return Dn(function Fi(I){return I&&gr(I.canActivate)}(A)?A.canActivate(w,I):E.runInContext(()=>A(w,I))).pipe((0,ze.P)())}));return(0,B.of)(F).pipe(R())}(I,F.route,v))),(0,ze.P)(F=>!0!==F,!0))}(T,q,I,w):(0,B.of)(E)),(0,ye.U)(E=>Object.assign(Object.assign({},v),{guardsResult:E})))})}(this.ngModule.injector,E=>this.triggerEvent(E)),(0,He.b)(E=>{if(F.guardsResult=E.guardsResult,Hr(E.guardsResult))throw As(0,E.guardsResult);const A=new Ds(E.id,this.serializeUrl(E.extractedUrl),this.serializeUrl(E.urlAfterRedirects),E.targetSnapshot,!!E.guardsResult);this.triggerEvent(A)}),(0,Q.h)(E=>!!E.guardsResult||(this.restoreHistory(E),this.cancelNavigationTransition(E,"",3),!1)),ko(E=>{if(E.guards.canActivateChecks.length)return(0,B.of)(E).pipe((0,He.b)(A=>{const H=new _a(A.id,this.serializeUrl(A.extractedUrl),this.serializeUrl(A.urlAfterRedirects),A.targetSnapshot);this.triggerEvent(H)}),(0,le.w)(A=>{let H=!1;return(0,B.of)(A).pipe(function Tt(I,w){return(0,Ie.zg)(v=>{const{targetSnapshot:T,guards:{canActivateChecks:F}}=v;if(!F.length)return(0,B.of)(v);let q=0;return(0,X.D)(F).pipe((0,pt.b)(ve=>function mi(I,w,v,T){const F=I.routeConfig,q=I._resolve;return void 0!==(null==F?void 0:F.title)&&!ro(F)&&(q[Xt]=F.title),function wa(I,w,v,T){const F=function Ho(I){return[...Object.keys(I),...Object.getOwnPropertySymbols(I)]}(I);if(0===F.length)return(0,B.of)({});const q={};return(0,X.D)(F).pipe((0,Ie.zg)(ve=>function tu(I,w,v,T){var F;const q=null!==(F=k(w))&&void 0!==F?F:T,ve=Qe(I,q);return Dn(ve.resolve?ve.resolve(w,v):q.runInContext(()=>ve(w,v)))}(I[ve],w,v,T).pipe((0,ze.P)(),(0,He.b)(E=>{q[ve]=E}))),et(1),function er(I){return w=>w.lift(new Dr(I))}(q),Fe(ve=>Ks(ve)?ee.E:(0,ct._)(ve)))}(q,I,w,T).pipe((0,ye.U)(ve=>(I._resolvedData=ve,I.data=_i(I,v).resolve,F&&ro(F)&&(I.data[Xt]=F.title),null)))}(ve.route,T,I,w)),(0,He.b)(()=>q++),et(1),(0,Ie.zg)(ve=>q===F.length?(0,B.of)(v):ee.E))})}(this.paramsInheritanceStrategy,this.ngModule.injector),(0,He.b)({next:()=>H=!0,complete:()=>{H||(this.restoreHistory(A),this.cancelNavigationTransition(A,"",2))}}))}),(0,He.b)(A=>{const H=new po(A.id,this.serializeUrl(A.extractedUrl),this.serializeUrl(A.urlAfterRedirects),A.targetSnapshot);this.triggerEvent(H)}))}),ko(E=>{const A=H=>{var fe;const Ae=[];(null===(fe=H.routeConfig)||void 0===fe?void 0:fe.loadComponent)&&!H.routeConfig._loadedComponent&&Ae.push(this.configLoader.loadComponent(H.routeConfig).pipe((0,He.b)(qe=>{H.component=qe}),(0,ye.U)(()=>{})));for(const qe of H.children)Ae.push(...A(qe));return Ae};return $e(A(E.targetSnapshot.root)).pipe((0,zt.d)(),(0,W.q)(1))}),ko(()=>this.afterPreactivation()),(0,ye.U)(E=>{const A=function hs(I,w,v){const T=Ls(I,w._root,v?v._root:void 0);return new eo(T,w)}(this.routeReuseStrategy,E.targetSnapshot,E.currentRouterState);return F=Object.assign(Object.assign({},E),{targetRouterState:A})}),(0,He.b)(E=>{this.currentUrlTree=E.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(E.urlAfterRedirects,E.rawUrl),this.routerState=E.targetRouterState,"deferred"===this.urlUpdateStrategy&&(E.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,E),this.browserUrlTree=E.urlAfterRedirects)}),((I,w,v)=>(0,ye.U)(T=>(new f(w,T.targetRouterState,T.currentRouterState,v).activate(I),T)))(this.rootContexts,this.routeReuseStrategy,E=>this.triggerEvent(E)),(0,He.b)({next(){q=!0},complete(){q=!0}}),cr(()=>{var E;q||ve||this.cancelNavigationTransition(F,"",1),(null===(E=this.currentNavigation)||void 0===E?void 0:E.id)===F.id&&(this.currentNavigation=null)}),Fe(E=>{var A;if(ve=!0,Ir(E)){Kr(E)||(this.navigated=!0,this.restoreHistory(F,!0));const H=new Is(F.id,this.serializeUrl(F.extractedUrl),E.message,E.cancellationCode);if(T.next(H),Kr(E)){const fe=this.urlHandlingStrategy.merge(E.url,this.rawUrlTree),Ae={skipLocationChange:F.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||Go(F.source)};this.scheduleNavigation(fe,"imperative",null,Ae,{resolve:F.resolve,reject:F.reject,promise:F.promise})}else F.resolve(!1)}else{this.restoreHistory(F,!0);const H=new To(F.id,this.serializeUrl(F.extractedUrl),E,null!==(A=F.targetSnapshot)&&void 0!==A?A:void 0);T.next(H);try{F.resolve(this.errorHandler(E))}catch(fe){F.reject(fe)}}return ee.E}))}))}resetRootComponentType(v){this.rootComponentType=v,this.routerState.root.component=this.rootComponentType}setTransition(v){this.transitions.next(Object.assign(Object.assign({},this.transitions.value),v))}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(v=>{const T="popstate"===v.type?"popstate":"hashchange";"popstate"===T&&setTimeout(()=>{var F;const q={replaceUrl:!0},ve=null!==(F=v.state)&&void 0!==F&&F.navigationId?v.state:null;if(ve){const A=Object.assign({},ve);delete A.navigationId,delete A.\u0275routerPageId,0!==Object.keys(A).length&&(q.state=A)}const E=this.parseUrl(v.url);this.scheduleNavigation(E,T,ve,q)},0)}))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(v){this.events.next(v)}resetConfig(v){this.config=v.map(_o),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(v,T={}){const{relativeTo:F,queryParams:q,fragment:ve,queryParamsHandling:E,preserveFragment:A}=T,H=F||this.routerState.root,fe=A?this.currentUrlTree.fragment:ve;let Ae=null;switch(E){case"merge":Ae=Object.assign(Object.assign({},this.currentUrlTree.queryParams),q);break;case"preserve":Ae=this.currentUrlTree.queryParams;break;default:Ae=q||null}return null!==Ae&&(Ae=this.removeEmptyProps(Ae)),pe(H,this.currentUrlTree,v,Ae,null!=fe?fe:null)}navigateByUrl(v,T={skipLocationChange:!1}){const F=Hr(v)?v:this.parseUrl(v),q=this.urlHandlingStrategy.merge(F,this.rawUrlTree);return this.scheduleNavigation(q,"imperative",null,T)}navigate(v,T={skipLocationChange:!1}){return function Rc(I){for(let w=0;w<I.length;w++){if(null==I[w])throw new a.vHH(4008,false)}}(v),this.navigateByUrl(this.createUrlTree(v,T),T)}serializeUrl(v){return this.urlSerializer.serialize(v)}parseUrl(v){let T;try{T=this.urlSerializer.parse(v)}catch(F){T=this.malformedUriErrorHandler(F,this.urlSerializer,v)}return T}isActive(v,T){let F;if(F=!0===T?Object.assign({},Po):!1===T?Object.assign({},ra):T,Hr(v))return on(this.currentUrlTree,v,F);const q=this.parseUrl(v);return on(this.currentUrlTree,q,F)}removeEmptyProps(v){return Object.keys(v).reduce((T,F)=>{const q=v[F];return null!=q&&(T[F]=q),T},{})}processNavigations(){this.navigations.subscribe(v=>{var T;this.navigated=!0,this.lastSuccessfulId=v.id,this.currentPageId=v.targetPageId,this.events.next(new Wi(v.id,this.serializeUrl(v.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,null===(T=this.titleStrategy)||void 0===T||T.updateTitle(this.routerState.snapshot),v.resolve(!0)},v=>{this.console.warn(`Unhandled Navigation Error: ${v}`)})}scheduleNavigation(v,T,F,q,ve){var E,A;if(this.disposed)return Promise.resolve(!1);let H,fe,Ae;ve?(H=ve.resolve,fe=ve.reject,Ae=ve.promise):Ae=new Promise((Ht,Vt)=>{H=Ht,fe=Vt});const qe=++this.navigationId;let _t;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(F=this.location.getState()),_t=F&&F.\u0275routerPageId?F.\u0275routerPageId:q.replaceUrl||q.skipLocationChange?null!==(E=this.browserPageId)&&void 0!==E?E:0:(null!==(A=this.browserPageId)&&void 0!==A?A:0)+1):_t=0,this.setTransition({id:qe,targetPageId:_t,source:T,restoredState:F,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:v,extras:q,resolve:H,reject:fe,promise:Ae,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),Ae.catch(Ht=>Promise.reject(Ht))}setBrowserUrl(v,T){const F=this.urlSerializer.serialize(v),q=Object.assign(Object.assign({},T.extras.state),this.generateNgRouterState(T.id,T.targetPageId));this.location.isCurrentPathEqualTo(F)||T.extras.replaceUrl?this.location.replaceState(F,"",q):this.location.go(F,"",q)}restoreHistory(v,T=!1){var F,q;if("computed"===this.canceledNavigationResolution){const ve=this.currentPageId-v.targetPageId;"popstate"!==v.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==(null===(F=this.currentNavigation)||void 0===F?void 0:F.finalUrl)||0===ve?this.currentUrlTree===(null===(q=this.currentNavigation)||void 0===q?void 0:q.finalUrl)&&0===ve&&(this.resetState(v),this.browserUrlTree=v.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(ve)}else"replace"===this.canceledNavigationResolution&&(T&&this.resetState(v),this.resetUrlToCurrentUrlTree())}resetState(v){this.routerState=v.currentRouterState,this.currentUrlTree=v.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,v.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(v,T,F){const q=new Is(v.id,this.serializeUrl(v.extractedUrl),T,F);this.triggerEvent(q),v.resolve(!1)}generateNgRouterState(v,T){return"computed"===this.canceledNavigationResolution?{navigationId:v,\u0275routerPageId:T}:{navigationId:v}}}return I.\u0275fac=function(v){a.$Z()},I.\u0275prov=a.Yz7({token:I,factory:function(){return ps()},providedIn:"root"}),I})();function Go(I){return"imperative"!==I}let Io=(()=>{class I{constructor(v,T,F,q,ve){this.router=v,this.route=T,this.tabIndexAttribute=F,this.renderer=q,this.el=ve,this._preserveFragment=!1,this._skipLocationChange=!1,this._replaceUrl=!1,this.commands=null,this.onChanges=new st.xQ,this.setTabIndexIfNotOnNativeEl("0")}set preserveFragment(v){this._preserveFragment=(0,a.D6c)(v)}get preserveFragment(){return this._preserveFragment}set skipLocationChange(v){this._skipLocationChange=(0,a.D6c)(v)}get skipLocationChange(){return this._skipLocationChange}set replaceUrl(v){this._replaceUrl=(0,a.D6c)(v)}get replaceUrl(){return this._replaceUrl}setTabIndexIfNotOnNativeEl(v){if(null!=this.tabIndexAttribute)return;const T=this.renderer,F=this.el.nativeElement;null!==v?T.setAttribute(F,"tabindex",v):T.removeAttribute(F,"tabindex")}ngOnChanges(v){this.onChanges.next(this)}set routerLink(v){null!=v?(this.commands=Array.isArray(v)?v:[v],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(){return null===this.urlTree||this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!0}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}}return I.\u0275fac=function(v){return new(v||I)(a.Y36(Pr),a.Y36(Wr),a.$8M("tabindex"),a.Y36(a.Qsj),a.Y36(a.SBq))},I.\u0275dir=a.lG2({type:I,selectors:[["","routerLink","",5,"a",5,"area"]],hostBindings:function(v,T){1&v&&a.NdJ("click",function(){return T.onClick()})},inputs:{queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",routerLink:"routerLink"},standalone:!0,features:[a.TTD]}),I})();class au{}let fl=(()=>{class I{preload(v,T){return T().pipe(Fe(()=>(0,B.of)(null)))}}return I.\u0275fac=function(v){return new(v||I)},I.\u0275prov=a.Yz7({token:I,factory:I.\u0275fac,providedIn:"root"}),I})(),rc=(()=>{class I{constructor(v,T,F,q,ve){this.router=v,this.injector=F,this.preloadingStrategy=q,this.loader=ve}setUpPreloading(){this.subscription=this.router.events.pipe((0,Q.h)(v=>v instanceof Wi),(0,pt.b)(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(v,T){var F,q,ve;const E=[];for(const A of T){A.providers&&!A._injector&&(A._injector=(0,a.MMx)(A.providers,v,`Route: ${A.path}`));const H=null!==(F=A._injector)&&void 0!==F?F:v,fe=null!==(q=A._loadedInjector)&&void 0!==q?q:H;A.loadChildren&&!A._loadedRoutes&&void 0===A.canLoad||A.loadComponent&&!A._loadedComponent?E.push(this.preloadConfig(H,A)):(A.children||A._loadedRoutes)&&E.push(this.processRoutes(fe,null!==(ve=A.children)&&void 0!==ve?ve:A._loadedRoutes))}return(0,X.D)(E).pipe((0,Cr.J)())}preloadConfig(v,T){return this.preloadingStrategy.preload(T,()=>{let F;F=T.loadChildren&&void 0===T.canLoad?this.loader.loadChildren(v,T):(0,B.of)(null);const q=F.pipe((0,Ie.zg)(ve=>{var E;return null===ve?(0,B.of)(void 0):(T._loadedRoutes=ve.routes,T._loadedInjector=ve.injector,this.processRoutes(null!==(E=ve.injector)&&void 0!==E?E:v,ve.routes))}));if(T.loadComponent&&!T._loadedComponent){const ve=this.loader.loadComponent(T);return(0,X.D)([q,ve]).pipe((0,Cr.J)())}return q})}}return I.\u0275fac=function(v){return new(v||I)(a.LFG(Pr),a.LFG(a.Sil),a.LFG(a.lqb),a.LFG(au),a.LFG(ln))},I.\u0275prov=a.Yz7({token:I,factory:I.\u0275fac,providedIn:"root"}),I})();const gt=new a.OlP("");let Au=(()=>{class I{constructor(v,T,F={}){this.router=v,this.viewportScroller=T,this.options=F,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},F.scrollPositionRestoration=F.scrollPositionRestoration||"disabled",F.anchorScrolling=F.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(v=>{v instanceof fi?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=v.navigationTrigger,this.restoredId=v.restoredState?v.restoredState.navigationId:0):v instanceof Wi&&(this.lastId=v.id,this.scheduleScrollEvent(v,this.router.parseUrl(v.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(v=>{v instanceof ls&&(v.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(v.position):v.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(v.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(v,T){this.router.triggerEvent(new ls(v,"popstate"===this.lastSource?this.store[this.restoredId]:null,T))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return I.\u0275fac=function(v){a.$Z()},I.\u0275prov=a.Yz7({token:I,factory:I.\u0275fac}),I})();function gs(I,w){return{\u0275kind:I,\u0275providers:w}}function Ei(I){return[{provide:Gr,multi:!0,useValue:I}]}function ia(){const I=(0,a.f3M)(a.zs3);return w=>{var v,T;const F=I.get(a.z2F);if(w!==F.components[0])return;const q=I.get(Pr),ve=I.get($a);1===I.get(Ta)&&q.initialNavigation(),null===(v=I.get(ji,null,a.XFs.Optional))||void 0===v||v.setUpPreloading(),null===(T=I.get(gt,null,a.XFs.Optional))||void 0===T||T.init(),q.resetRootComponentType(F.componentTypes[0]),ve.next(),ve.complete()}}const $a=new a.OlP("",{factory:()=>new st.xQ}),Ta=new a.OlP("",{providedIn:"root",factory:()=>1});const ji=new a.OlP("");function Rs(I){return gs(0,[{provide:ji,useExisting:rc},{provide:au,useExisting:I}])}const oa=new a.OlP("ROUTER_FORROOT_GUARD"),ic=[de.Ye,{provide:Xe,useClass:Se},{provide:Pr,useFactory:ps},ns,{provide:Wr,useFactory:function Sa(I){return I.routerState.root},deps:[Pr]},ln];function sc(){return new a.PXZ("Router",Pr)}let Vr=(()=>{class I{constructor(v){}static forRoot(v,T){return{ngModule:I,providers:[ic,[],Ei(v),{provide:oa,useFactory:so,deps:[[Pr,new a.FiY,new a.tp0]]},{provide:Ms,useValue:T||{}},null!=T&&T.useHash?{provide:de.S$,useClass:de.Do}:{provide:de.S$,useClass:de.b0},{provide:gt,useFactory:()=>{const I=(0,a.f3M)(Pr),w=(0,a.f3M)(de.EM),v=(0,a.f3M)(Ms);return v.scrollOffset&&w.setOffset(v.scrollOffset),new Au(I,w,v)}},null!=T&&T.preloadingStrategy?Rs(T.preloadingStrategy).\u0275providers:[],{provide:a.PXZ,multi:!0,useFactory:sc},null!=T&&T.initialNavigation?Mu(T):[],[{provide:Ua,useFactory:ia},{provide:a.tb,multi:!0,useExisting:Ua}]]}}static forChild(v){return{ngModule:I,providers:[Ei(v)]}}}return I.\u0275fac=function(v){return new(v||I)(a.LFG(oa,8))},I.\u0275mod=a.oAB({type:I}),I.\u0275inj=a.cJS({imports:[rs]}),I})();function so(I){return"guarded"}function Mu(I){return["disabled"===I.initialNavigation?gs(3,[{provide:a.ip1,multi:!0,useFactory:()=>{const w=(0,a.f3M)(Pr);return()=>{w.setUpLocationChangeListener()}}},{provide:Ta,useValue:2}]).\u0275providers:[],"enabledBlocking"===I.initialNavigation?gs(2,[{provide:Ta,useValue:0},{provide:a.ip1,multi:!0,deps:[a.zs3],useFactory:w=>{const v=w.get(de.V_,Promise.resolve());let T=!1;return()=>v.then(()=>new Promise(q=>{const ve=w.get(Pr),E=w.get($a);(function F(q){w.get(Pr).events.pipe((0,Q.h)(E=>E instanceof Wi||E instanceof Is||E instanceof To),(0,ye.U)(E=>E instanceof Wi||E instanceof Is&&(0===E.code||1===E.code)&&null),(0,Q.h)(E=>null!==E),(0,W.q)(1)).subscribe(()=>{q()})})(()=>{q(!0),T=!0}),ve.afterPreactivation=()=>(q(!0),T||E.closed?(0,B.of)(void 0):E),ve.initialNavigation()}))}}]).\u0275providers:[]]}const Ua=new a.OlP("")},3942:(Pt,Ze,$)=>{"use strict";$.d(Ze,{Z:()=>ot});var a=$(2090),X=$(4859),B=$(9681),Ce=$(1877);class Te{constructor(_e,De){this._delegate=_e,this.firebase=De,(0,B._addComponent)(_e,new X.wA("app-compat",()=>this,"PUBLIC")),this.container=_e.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(_e){this._delegate.automaticDataCollectionEnabled=_e}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(_e=>{this._delegate.checkDestroyed(),_e()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,B.deleteApp)(this._delegate)))}_getService(_e,De=B._DEFAULT_ENTRY_NAME){var Je;this._delegate.checkDestroyed();const ee=this._delegate.container.getProvider(_e);return!ee.isInitialized()&&"EXPLICIT"===(null===(Je=ee.getComponent())||void 0===Je?void 0:Je.instantiationMode)&&ee.initialize(),ee.getImmediate({identifier:De})}_removeServiceInstance(_e,De=B._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(_e).clearInstance(De)}_addComponent(_e){(0,B._addComponent)(this._delegate,_e)}_addOrOverwriteComponent(_e){(0,B._addOrOverwriteComponent)(this._delegate,_e)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const he=new a.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),se=function me(){const $e=function be($e){const _e={},De={__esModule:!0,initializeApp:function nt(st,de={}){const ye=B.initializeApp(st,de);if((0,a.r3)(_e,ye.name))return _e[ye.name];const le=new $e(ye,De);return _e[ye.name]=le,le},app:ee,registerVersion:B.registerVersion,setLogLevel:B.setLogLevel,onLog:B.onLog,apps:null,SDK_VERSION:B.SDK_VERSION,INTERNAL:{registerComponent:function ct(st){const de=st.name,ye=de.replace("-compat","");if(B._registerComponent(st)&&"PUBLIC"===st.type){const le=(W=ee())=>{if("function"!=typeof W[ye])throw he.create("invalid-app-argument",{appName:de});return W[ye]()};void 0!==st.serviceProps&&(0,a.ZB)(le,st.serviceProps),De[ye]=le,$e.prototype[ye]=function(...W){return this._getService.bind(this,de).apply(this,st.multipleInstances?W:[])}}return"PUBLIC"===st.type?De[ye]:null},removeApp:function Je(st){delete _e[st]},useAsService:function Pe(st,de){return"serverAuth"===de?null:de},modularAPIs:B}};function ee(st){if(!(0,a.r3)(_e,st=st||B._DEFAULT_ENTRY_NAME))throw he.create("no-app",{appName:st});return _e[st]}return De.default=De,Object.defineProperty(De,"apps",{get:function Be(){return Object.keys(_e).map(st=>_e[st])}}),ee.App=$e,De}(Te);return $e.INTERNAL=Object.assign(Object.assign({},$e.INTERNAL),{createFirebaseNamespace:me,extendNamespace:function _e(De){(0,a.ZB)($e,De)},createSubscribe:a.ne,ErrorFactory:a.LL,deepExtend:a.ZB}),$e}(),re=new Ce.Yd("@firebase/app-compat");if((0,a.jU)()&&void 0!==self.firebase){re.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const $e=self.firebase.SDK_VERSION;$e&&$e.indexOf("LITE")>=0&&re.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const ot=se;!function Re($e){(0,B.registerVersion)("@firebase/app-compat","0.2.3",$e)}()},9681:(Pt,Ze,$)=>{"use strict";$.r(Ze),$.d(Ze,{FirebaseError:()=>Ce.ZR,SDK_VERSION:()=>Mn,_DEFAULT_ENTRY_NAME:()=>We,_addComponent:()=>Ve,_addOrOverwriteComponent:()=>ft,_apps:()=>Ne,_clearComponents:()=>xn,_components:()=>Ue,_getProvider:()=>Lt,_registerComponent:()=>et,_removeServiceInstance:()=>Rt,deleteApp:()=>Dr,getApp:()=>Jn,getApps:()=>er,initializeApp:()=>$n,onLog:()=>cr,registerVersion:()=>Rr,setLogLevel:()=>Ci});var a=$(5861),X=$(4859),B=$(1877),Ce=$(2090),Te=$(8766);class ce{constructor(wt){this.container=wt}getPlatformInfoString(){return this.container.getProviders().map(Gt=>{if(function he(Wt){const wt=Wt.getComponent();return"VERSION"===(null==wt?void 0:wt.type)}(Gt)){const on=Gt.getImmediate();return`${on.library}/${on.version}`}return null}).filter(Gt=>Gt).join(" ")}}const be="@firebase/app",se=new B.Yd("@firebase/app"),We="[DEFAULT]",Fe={[be]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},Ne=new Map,Ue=new Map;function Ve(Wt,wt){try{Wt.container.addComponent(wt)}catch(Gt){se.debug(`Component ${wt.name} failed to register with FirebaseApp ${Wt.name}`,Gt)}}function ft(Wt,wt){Wt.container.addOrOverwriteComponent(wt)}function et(Wt){const wt=Wt.name;if(Ue.has(wt))return se.debug(`There were multiple attempts to register component ${wt}.`),!1;Ue.set(wt,Wt);for(const Gt of Ne.values())Ve(Gt,Wt);return!0}function Lt(Wt,wt){const Gt=Wt.container.getProvider("heartbeat").getImmediate({optional:!0});return Gt&&Gt.triggerHeartbeat(),Wt.container.getProvider(wt)}function Rt(Wt,wt,Gt=We){Lt(Wt,wt).clearInstance(Gt)}function xn(){Ue.clear()}const Kn=new Ce.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class bn{constructor(wt,Gt,on){this._isDeleted=!1,this._options=Object.assign({},wt),this._config=Object.assign({},Gt),this._name=Gt.name,this._automaticDataCollectionEnabled=Gt.automaticDataCollectionEnabled,this._container=on,this.container.addComponent(new X.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(wt){this.checkDestroyed(),this._automaticDataCollectionEnabled=wt}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(wt){this._isDeleted=wt}checkDestroyed(){if(this.isDeleted)throw Kn.create("app-deleted",{appName:this._name})}}const Mn="9.17.1";function $n(Wt,wt={}){let Gt=Wt;"object"!=typeof wt&&(wt={name:wt});const on=Object.assign({name:We,automaticDataCollectionEnabled:!1},wt),cn=on.name;if("string"!=typeof cn||!cn)throw Kn.create("bad-app-name",{appName:String(cn)});if(Gt||(Gt=(0,Ce.aH)()),!Gt)throw Kn.create("no-options");const pn=Ne.get(cn);if(pn){if((0,Ce.vZ)(Gt,pn.options)&&(0,Ce.vZ)(on,pn.config))return pn;throw Kn.create("duplicate-app",{appName:cn})}const Oe=new X.H0(cn);for(const ke of Ue.values())Oe.addComponent(ke);const we=new bn(Gt,on,Oe);return Ne.set(cn,we),we}function Jn(Wt=We){const wt=Ne.get(Wt);if(!wt&&Wt===We)return $n();if(!wt)throw Kn.create("no-app",{appName:Wt});return wt}function er(){return Array.from(Ne.values())}function Dr(Wt){return yn.apply(this,arguments)}function yn(){return(yn=(0,a.Z)(function*(Wt){const wt=Wt.name;Ne.has(wt)&&(Ne.delete(wt),yield Promise.all(Wt.container.getProviders().map(Gt=>Gt.delete())),Wt.isDeleted=!0)})).apply(this,arguments)}function Rr(Wt,wt,Gt){var on;let cn=null!==(on=Fe[Wt])&&void 0!==on?on:Wt;Gt&&(cn+=`-${Gt}`);const pn=cn.match(/\s|\//),Oe=wt.match(/\s|\//);if(pn||Oe){const we=[`Unable to register library "${cn}" with version "${wt}":`];return pn&&we.push(`library name "${cn}" contains illegal characters (whitespace or "/")`),pn&&Oe&&we.push("and"),Oe&&we.push(`version name "${wt}" contains illegal characters (whitespace or "/")`),void se.warn(we.join(" "))}et(new X.wA(`${cn}-version`,()=>({library:cn,version:wt}),"VERSION"))}function cr(Wt,wt){if(null!==Wt&&"function"!=typeof Wt)throw Kn.create("invalid-log-argument");(0,B.Am)(Wt,wt)}function Ci(Wt){(0,B.Ub)(Wt)}const Cr="firebase-heartbeat-store";let zr=null;function St(){return zr||(zr=(0,Te.X3)("firebase-heartbeat-database",1,{upgrade:(Wt,wt)=>{0===wt&&Wt.createObjectStore(Cr)}}).catch(Wt=>{throw Kn.create("idb-open",{originalErrorMessage:Wt.message})})),zr}function yt(){return(yt=(0,a.Z)(function*(Wt){try{return(yield St()).transaction(Cr).objectStore(Cr).get(tr(Wt))}catch(wt){if(wt instanceof Ce.ZR)se.warn(wt.message);else{const Gt=Kn.create("idb-get",{originalErrorMessage:null==wt?void 0:wt.message});se.warn(Gt.message)}}})).apply(this,arguments)}function rr(Wt,wt){return Un.apply(this,arguments)}function Un(){return(Un=(0,a.Z)(function*(Wt,wt){try{const on=(yield St()).transaction(Cr,"readwrite");return yield on.objectStore(Cr).put(wt,tr(Wt)),on.done}catch(Gt){if(Gt instanceof Ce.ZR)se.warn(Gt.message);else{const on=Kn.create("idb-set",{originalErrorMessage:null==Gt?void 0:Gt.message});se.warn(on.message)}}})).apply(this,arguments)}function tr(Wt){return`${Wt.name}!${Wt.options.appId}`}class ir{constructor(wt){this.container=wt,this._heartbeatsCache=null;const Gt=this.container.getProvider("app").getImmediate();this._storage=new an(Gt),this._heartbeatsCachePromise=this._storage.read().then(on=>(this._heartbeatsCache=on,on))}triggerHeartbeat(){var wt=this;return(0,a.Z)(function*(){const on=wt.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),cn=jn();if(null===wt._heartbeatsCache&&(wt._heartbeatsCache=yield wt._heartbeatsCachePromise),wt._heartbeatsCache.lastSentHeartbeatDate!==cn&&!wt._heartbeatsCache.heartbeats.some(pn=>pn.date===cn))return wt._heartbeatsCache.heartbeats.push({date:cn,agent:on}),wt._heartbeatsCache.heartbeats=wt._heartbeatsCache.heartbeats.filter(pn=>{const Oe=new Date(pn.date).valueOf();return Date.now()-Oe<=2592e6}),wt._storage.overwrite(wt._heartbeatsCache)})()}getHeartbeatsHeader(){var wt=this;return(0,a.Z)(function*(){if(null===wt._heartbeatsCache&&(yield wt._heartbeatsCachePromise),null===wt._heartbeatsCache||0===wt._heartbeatsCache.heartbeats.length)return"";const Gt=jn(),{heartbeatsToSend:on,unsentEntries:cn}=function zi(Wt,wt=1024){const Gt=[];let on=Wt.slice();for(const cn of Wt){const pn=Gt.find(Oe=>Oe.agent===cn.agent);if(pn){if(pn.dates.push(cn.date),Dn(Gt)>wt){pn.dates.pop();break}}else if(Gt.push({agent:cn.agent,dates:[cn.date]}),Dn(Gt)>wt){Gt.pop();break}on=on.slice(1)}return{heartbeatsToSend:Gt,unsentEntries:on}}(wt._heartbeatsCache.heartbeats),pn=(0,Ce.L)(JSON.stringify({version:2,heartbeats:on}));return wt._heartbeatsCache.lastSentHeartbeatDate=Gt,cn.length>0?(wt._heartbeatsCache.heartbeats=cn,yield wt._storage.overwrite(wt._heartbeatsCache)):(wt._heartbeatsCache.heartbeats=[],wt._storage.overwrite(wt._heartbeatsCache)),pn})()}}function jn(){return(new Date).toISOString().substring(0,10)}class an{constructor(wt){this.app=wt,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,a.Z)(function*(){return!!(0,Ce.hl)()&&(0,Ce.eu)().then(()=>!0).catch(()=>!1)})()}read(){var wt=this;return(0,a.Z)(function*(){return(yield wt._canUseIndexedDBPromise)&&(yield function Xt(Wt){return yt.apply(this,arguments)}(wt.app))||{heartbeats:[]}})()}overwrite(wt){var Gt=this;return(0,a.Z)(function*(){var on;if(yield Gt._canUseIndexedDBPromise){const pn=yield Gt.read();return rr(Gt.app,{lastSentHeartbeatDate:null!==(on=wt.lastSentHeartbeatDate)&&void 0!==on?on:pn.lastSentHeartbeatDate,heartbeats:wt.heartbeats})}})()}add(wt){var Gt=this;return(0,a.Z)(function*(){var on;if(yield Gt._canUseIndexedDBPromise){const pn=yield Gt.read();return rr(Gt.app,{lastSentHeartbeatDate:null!==(on=wt.lastSentHeartbeatDate)&&void 0!==on?on:pn.lastSentHeartbeatDate,heartbeats:[...pn.heartbeats,...wt.heartbeats]})}})()}}function Dn(Wt){return(0,Ce.L)(JSON.stringify({version:2,heartbeats:Wt})).length}!function jr(Wt){et(new X.wA("platform-logger",wt=>new ce(wt),"PRIVATE")),et(new X.wA("heartbeat",wt=>new ir(wt),"PRIVATE")),Rr(be,"0.9.3",Wt),Rr(be,"0.9.3","esm2017"),Rr("fire-js","")}("")},4859:(Pt,Ze,$)=>{"use strict";$.d(Ze,{H0:()=>be,wA:()=>B});var a=$(5861),X=$(2090);class B{constructor(se,re,ae){this.name=se,this.instanceFactory=re,this.type=ae,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(se){return this.instantiationMode=se,this}setMultipleInstances(se){return this.multipleInstances=se,this}setServiceProps(se){return this.serviceProps=se,this}setInstanceCreatedCallback(se){return this.onInstanceCreated=se,this}}const Ce="[DEFAULT]";class Te{constructor(se,re){this.name=se,this.container=re,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(se){const re=this.normalizeInstanceIdentifier(se);if(!this.instancesDeferred.has(re)){const ae=new X.BH;if(this.instancesDeferred.set(re,ae),this.isInitialized(re)||this.shouldAutoInitialize())try{const ie=this.getOrInitializeService({instanceIdentifier:re});ie&&ae.resolve(ie)}catch(ie){}}return this.instancesDeferred.get(re).promise}getImmediate(se){var re;const ae=this.normalizeInstanceIdentifier(null==se?void 0:se.identifier),ie=null!==(re=null==se?void 0:se.optional)&&void 0!==re&&re;if(!this.isInitialized(ae)&&!this.shouldAutoInitialize()){if(ie)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:ae})}catch(Re){if(ie)return null;throw Re}}getComponent(){return this.component}setComponent(se){if(se.name!==this.name)throw Error(`Mismatching Component ${se.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=se,this.shouldAutoInitialize()){if(function he(me){return"EAGER"===me.instantiationMode}(se))try{this.getOrInitializeService({instanceIdentifier:Ce})}catch(re){}for(const[re,ae]of this.instancesDeferred.entries()){const ie=this.normalizeInstanceIdentifier(re);try{const Re=this.getOrInitializeService({instanceIdentifier:ie});ae.resolve(Re)}catch(Re){}}}}clearInstance(se=Ce){this.instancesDeferred.delete(se),this.instancesOptions.delete(se),this.instances.delete(se)}delete(){var se=this;return(0,a.Z)(function*(){const re=Array.from(se.instances.values());yield Promise.all([...re.filter(ae=>"INTERNAL"in ae).map(ae=>ae.INTERNAL.delete()),...re.filter(ae=>"_delete"in ae).map(ae=>ae._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(se=Ce){return this.instances.has(se)}getOptions(se=Ce){return this.instancesOptions.get(se)||{}}initialize(se={}){const{options:re={}}=se,ae=this.normalizeInstanceIdentifier(se.instanceIdentifier);if(this.isInitialized(ae))throw Error(`${this.name}(${ae}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const ie=this.getOrInitializeService({instanceIdentifier:ae,options:re});for(const[Re,ot]of this.instancesDeferred.entries())ae===this.normalizeInstanceIdentifier(Re)&&ot.resolve(ie);return ie}onInit(se,re){var ae;const ie=this.normalizeInstanceIdentifier(re),Re=null!==(ae=this.onInitCallbacks.get(ie))&&void 0!==ae?ae:new Set;Re.add(se),this.onInitCallbacks.set(ie,Re);const ot=this.instances.get(ie);return ot&&se(ot,ie),()=>{Re.delete(se)}}invokeOnInitCallbacks(se,re){const ae=this.onInitCallbacks.get(re);if(ae)for(const ie of ae)try{ie(se,re)}catch(Re){}}getOrInitializeService({instanceIdentifier:se,options:re={}}){let ae=this.instances.get(se);if(!ae&&this.component&&(ae=this.component.instanceFactory(this.container,{instanceIdentifier:(me=se,me===Ce?void 0:me),options:re}),this.instances.set(se,ae),this.instancesOptions.set(se,re),this.invokeOnInitCallbacks(ae,se),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,se,ae)}catch(ie){}var me;return ae||null}normalizeInstanceIdentifier(se=Ce){return this.component?this.component.multipleInstances?se:Ce:se}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class be{constructor(se){this.name=se,this.providers=new Map}addComponent(se){const re=this.getProvider(se.name);if(re.isComponentSet())throw new Error(`Component ${se.name} has already been registered with ${this.name}`);re.setComponent(se)}addOrOverwriteComponent(se){this.getProvider(se.name).isComponentSet()&&this.providers.delete(se.name),this.addComponent(se)}getProvider(se){if(this.providers.has(se))return this.providers.get(se);const re=new Te(se,this);return this.providers.set(se,re),re}getProviders(){return Array.from(this.providers.values())}}},1877:(Pt,Ze,$)=>{"use strict";$.d(Ze,{Am:()=>me,Ub:()=>be,Yd:()=>he,in:()=>X});const a=[];var X=(()=>{return(se=X||(X={}))[se.DEBUG=0]="DEBUG",se[se.VERBOSE=1]="VERBOSE",se[se.INFO=2]="INFO",se[se.WARN=3]="WARN",se[se.ERROR=4]="ERROR",se[se.SILENT=5]="SILENT",X;var se})();const B={debug:X.DEBUG,verbose:X.VERBOSE,info:X.INFO,warn:X.WARN,error:X.ERROR,silent:X.SILENT},Ce=X.INFO,Te={[X.DEBUG]:"log",[X.VERBOSE]:"log",[X.INFO]:"info",[X.WARN]:"warn",[X.ERROR]:"error"},ce=(se,re,...ae)=>{if(re<se.logLevel)return;const ie=(new Date).toISOString(),Re=Te[re];if(!Re)throw new Error(`Attempted to log a message with an invalid logType (value: ${re})`);console[Re](`[${ie}]  ${se.name}:`,...ae)};class he{constructor(re){this.name=re,this._logLevel=Ce,this._logHandler=ce,this._userLogHandler=null,a.push(this)}get logLevel(){return this._logLevel}set logLevel(re){if(!(re in X))throw new TypeError(`Invalid value "${re}" assigned to \`logLevel\``);this._logLevel=re}setLogLevel(re){this._logLevel="string"==typeof re?B[re]:re}get logHandler(){return this._logHandler}set logHandler(re){if("function"!=typeof re)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=re}get userLogHandler(){return this._userLogHandler}set userLogHandler(re){this._userLogHandler=re}debug(...re){this._userLogHandler&&this._userLogHandler(this,X.DEBUG,...re),this._logHandler(this,X.DEBUG,...re)}log(...re){this._userLogHandler&&this._userLogHandler(this,X.VERBOSE,...re),this._logHandler(this,X.VERBOSE,...re)}info(...re){this._userLogHandler&&this._userLogHandler(this,X.INFO,...re),this._logHandler(this,X.INFO,...re)}warn(...re){this._userLogHandler&&this._userLogHandler(this,X.WARN,...re),this._logHandler(this,X.WARN,...re)}error(...re){this._userLogHandler&&this._userLogHandler(this,X.ERROR,...re),this._logHandler(this,X.ERROR,...re)}}function be(se){a.forEach(re=>{re.setLogLevel(se)})}function me(se,re){for(const ae of a){let ie=null;re&&re.level&&(ie=B[re.level]),ae.userLogHandler=null===se?null:(Re,ot,...$e)=>{const _e=$e.map(De=>{if(null==De)return null;if("string"==typeof De)return De;if("number"==typeof De||"boolean"==typeof De)return De.toString();if(De instanceof Error)return De.message;try{return JSON.stringify(De)}catch(Je){return null}}).filter(De=>De).join(" ");ot>=(null!=ie?ie:Re.logLevel)&&se({level:X[ot].toLowerCase(),message:_e,args:$e,type:Re.name})}}}},259:(Pt,Ze,$)=>{"use strict";$.d(Ze,{C6:()=>a.getApps,Mq:()=>a.getApp});var a=$(9681);(0,a.registerVersion)("firebase","9.17.1","app")},9260:(Pt,Ze,$)=>{"use strict";$.d(Ze,{Z:()=>a.Z});var a=$(3942);a.Z.registerVersion("firebase","9.17.1","app-compat")},407:(Pt,Ze,$)=>{"use strict";$.r(Ze);var a=$(5861),X=$(3942),B=$(2090),Ce=$(9681),Te=$(1877),ce=$(655),he=$(4859);const ot=function ie(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance."}},$e=function Re(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},_e=new B.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),Je=new Te.Yd("@firebase/auth");function ee(_,...h){Je.logLevel<=Te.in.ERROR&&Je.error(`Auth (${Ce.SDK_VERSION}): ${_}`,...h)}function nt(_,...h){throw st(_,...h)}function Be(_,...h){return st(_,...h)}function ct(_,h,g){const D=Object.assign(Object.assign({},$e()),{[h]:g});return new B.LL("auth","Firebase",D).create(h,{appName:_.name})}function Pe(_,h,g){if(!(h instanceof g))throw g.name!==h.constructor.name&&nt(_,"argument-error"),ct(_,"argument-error",`Type of ${h.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function st(_,...h){if("string"!=typeof _){const g=h[0],D=[...h.slice(1)];return D[0]&&(D[0].appName=_.name),_._errorFactory.create(g,...D)}return _e.create(_,...h)}function de(_,h,...g){if(!_)throw st(h,...g)}function ye(_){const h="INTERNAL ASSERTION FAILED: "+_;throw ee(h),new Error(h)}function le(_,h){_||ye(h)}const W=new Map;function Y(_){le(_ instanceof Function,"Expected a class definition");let h=W.get(_);return h?(le(h instanceof _,"Instance stored in cache mismatched with class"),h):(h=new _,W.set(_,h),h)}function ze(){var _;return"undefined"!=typeof self&&(null===(_=self.location)||void 0===_?void 0:_.href)||""}function pt(){return"http:"===He()||"https:"===He()}function He(){var _;return"undefined"!=typeof self&&(null===(_=self.location)||void 0===_?void 0:_.protocol)||null}class Ne{constructor(h,g){this.shortDelay=h,this.longDelay=g,le(g>h,"Short delay should be less than long delay!"),this.isMobile=(0,B.uI)()||(0,B.b$)()}get(){return function We(){return!("undefined"!=typeof navigator&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(pt()||(0,B.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Ue(_,h){le(_.emulator,"Emulator should always be set here");const{url:g}=_.emulator;return h?`${g}${h.startsWith("/")?h.slice(1):h}`:g}class Ve{static initialize(h,g,D){this.fetchImpl=h,g&&(this.headersImpl=g),D&&(this.responseImpl=D)}static fetch(){return this.fetchImpl?this.fetchImpl:"undefined"!=typeof self&&"fetch"in self?self.fetch:void ye("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:"undefined"!=typeof self&&"Headers"in self?self.Headers:void ye("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:"undefined"!=typeof self&&"Response"in self?self.Response:void ye("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const ft={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error"},et=new Ne(3e4,6e4);function Lt(_,h){return _.tenantId&&!h.tenantId?Object.assign(Object.assign({},h),{tenantId:_.tenantId}):h}function Rt(_,h,g,D){return xn.apply(this,arguments)}function xn(){return(xn=(0,a.Z)(function*(_,h,g,D,j={}){return zt(_,j,(0,a.Z)(function*(){let ne={},Ye={};D&&("GET"===h?Ye=D:ne={body:JSON.stringify(D)});const It=(0,B.xO)(Object.assign({key:_.config.apiKey},Ye)).slice(1),Kt=yield _._getAdditionalHeaders();return Kt["Content-Type"]="application/json",_.languageCode&&(Kt["X-Firebase-Locale"]=_.languageCode),Ve.fetch()($n(_,_.config.apiHost,g,It),Object.assign({method:h,headers:Kt,referrerPolicy:"no-referrer"},ne))}))})).apply(this,arguments)}function zt(_,h,g){return Kn.apply(this,arguments)}function Kn(){return(Kn=(0,a.Z)(function*(_,h,g){_._canInitEmulator=!1;const D=Object.assign(Object.assign({},ft),h);try{const j=new Jn(_),ne=yield Promise.race([g(),j.promise]);j.clearNetworkTimeout();const Ye=yield ne.json();if("needConfirmation"in Ye)throw er(_,"account-exists-with-different-credential",Ye);if(ne.ok&&!("errorMessage"in Ye))return Ye;{const It=ne.ok?Ye.errorMessage:Ye.error.message,[Kt,un]=It.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===Kt)throw er(_,"credential-already-in-use",Ye);if("EMAIL_EXISTS"===Kt)throw er(_,"email-already-in-use",Ye);if("USER_DISABLED"===Kt)throw er(_,"user-disabled",Ye);const Fn=D[Kt]||Kt.toLowerCase().replace(/[_\s]+/g,"-");if(un)throw ct(_,Fn,un);nt(_,Fn)}}catch(j){if(j instanceof B.ZR)throw j;nt(_,"network-request-failed")}})).apply(this,arguments)}function bn(_,h,g,D){return Mn.apply(this,arguments)}function Mn(){return(Mn=(0,a.Z)(function*(_,h,g,D,j={}){const ne=yield Rt(_,h,g,D,j);return"mfaPendingCredential"in ne&&nt(_,"multi-factor-auth-required",{_serverResponse:ne}),ne})).apply(this,arguments)}function $n(_,h,g,D){const j=`${h}${g}?${D}`;return _.config.emulator?Ue(_.config,j):`${_.config.apiScheme}://${j}`}class Jn{constructor(h){this.auth=h,this.timer=null,this.promise=new Promise((g,D)=>{this.timer=setTimeout(()=>D(Be(this.auth,"network-request-failed")),et.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function er(_,h,g){const D={appName:_.name};g.email&&(D.email=g.email),g.phoneNumber&&(D.phoneNumber=g.phoneNumber);const j=Be(_,h,D);return j.customData._tokenResponse=g,j}function yn(){return(yn=(0,a.Z)(function*(_,h){return Rt(_,"POST","/v1/accounts:delete",h)})).apply(this,arguments)}function Rr(_,h){return cr.apply(this,arguments)}function cr(){return(cr=(0,a.Z)(function*(_,h){return Rt(_,"POST","/v1/accounts:update",h)})).apply(this,arguments)}function Ci(_,h){return lr.apply(this,arguments)}function lr(){return(lr=(0,a.Z)(function*(_,h){return Rt(_,"POST","/v1/accounts:lookup",h)})).apply(this,arguments)}function en(_){if(_)try{const h=new Date(Number(_));if(!isNaN(h.getTime()))return h.toUTCString()}catch(h){}}function St(){return(St=(0,a.Z)(function*(_,h=!1){const g=(0,B.m9)(_),D=yield g.getIdToken(h),j=yt(D);de(j&&j.exp&&j.auth_time&&j.iat,g.auth,"internal-error");const ne="object"==typeof j.firebase?j.firebase:void 0,Ye=null==ne?void 0:ne.sign_in_provider;return{claims:j,token:D,authTime:en(Xt(j.auth_time)),issuedAtTime:en(Xt(j.iat)),expirationTime:en(Xt(j.exp)),signInProvider:Ye||null,signInSecondFactor:(null==ne?void 0:ne.sign_in_second_factor)||null}})).apply(this,arguments)}function Xt(_){return 1e3*Number(_)}function yt(_){const[h,g,D]=_.split(".");if(void 0===h||void 0===g||void 0===D)return ee("JWT malformed, contained fewer than 3 sections"),null;try{const j=(0,B.tV)(g);return j?JSON.parse(j):(ee("Failed to decode base64 JWT payload"),null)}catch(j){return ee("Caught error parsing JWT payload as JSON",null==j?void 0:j.toString()),null}}function Un(_,h){return tr.apply(this,arguments)}function tr(){return(tr=(0,a.Z)(function*(_,h,g=!1){if(g)return h;try{return yield h}catch(D){throw D instanceof B.ZR&&nr(D)&&_.auth.currentUser===_&&(yield _.auth.signOut()),D}})).apply(this,arguments)}function nr({code:_}){return"auth/user-disabled"===_||"auth/user-token-expired"===_}class fr{constructor(h){this.user=h,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){!this.isRunning||(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(h){var g;if(h){const D=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),D}{this.errorBackoff=3e4;const j=(null!==(g=this.user.stsTokenManager.expirationTime)&&void 0!==g?g:0)-Date.now()-3e5;return Math.max(0,j)}}schedule(h=!1){var g=this;if(!this.isRunning)return;const D=this.getInterval(h);this.timerId=setTimeout((0,a.Z)(function*(){yield g.iteration()}),D)}iteration(){var h=this;return(0,a.Z)(function*(){try{yield h.user.getIdToken(!0)}catch(g){return void("auth/network-request-failed"===(null==g?void 0:g.code)&&h.schedule(!0))}h.schedule()})()}}class ir{constructor(h,g){this.createdAt=h,this.lastLoginAt=g,this._initializeTime()}_initializeTime(){this.lastSignInTime=en(this.lastLoginAt),this.creationTime=en(this.createdAt)}_copy(h){this.createdAt=h.createdAt,this.lastLoginAt=h.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function jn(_){return zi.apply(this,arguments)}function zi(){return(zi=(0,a.Z)(function*(_){var h;const g=_.auth,D=yield _.getIdToken(),j=yield Un(_,Ci(g,{idToken:D}));de(null==j?void 0:j.users.length,g,"internal-error");const ne=j.users[0];_._notifyReloadListener(ne);const Ye=null!==(h=ne.providerUserInfo)&&void 0!==h&&h.length?Wt(ne.providerUserInfo):[],It=jr(_.providerData,Ye),Fn=!!_.isAnonymous&&!(_.email&&ne.passwordHash||null!=It&&It.length),Rn={uid:ne.localId,displayName:ne.displayName||null,photoURL:ne.photoUrl||null,email:ne.email||null,emailVerified:ne.emailVerified||!1,phoneNumber:ne.phoneNumber||null,tenantId:ne.tenantId||null,providerData:It,metadata:new ir(ne.createdAt,ne.lastLoginAt),isAnonymous:Fn};Object.assign(_,Rn)})).apply(this,arguments)}function Dn(){return(Dn=(0,a.Z)(function*(_){const h=(0,B.m9)(_);yield jn(h),yield h.auth._persistUserIfCurrent(h),h.auth._notifyListenersIfCurrent(h)})).apply(this,arguments)}function jr(_,h){return[..._.filter(D=>!h.some(j=>j.providerId===D.providerId)),...h]}function Wt(_){return _.map(h=>{var{providerId:g}=h,D=(0,ce._T)(h,["providerId"]);return{providerId:g,uid:D.rawId||"",displayName:D.displayName||null,email:D.email||null,phoneNumber:D.phoneNumber||null,photoURL:D.photoUrl||null}})}function Gt(){return(Gt=(0,a.Z)(function*(_,h){const g=yield zt(_,{},(0,a.Z)(function*(){const D=(0,B.xO)({grant_type:"refresh_token",refresh_token:h}).slice(1),{tokenApiHost:j,apiKey:ne}=_.config,Ye=$n(_,j,"/v1/token",`key=${ne}`),It=yield _._getAdditionalHeaders();return It["Content-Type"]="application/x-www-form-urlencoded",Ve.fetch()(Ye,{method:"POST",headers:It,body:D})}));return{accessToken:g.access_token,expiresIn:g.expires_in,refreshToken:g.refresh_token}})).apply(this,arguments)}class on{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(h){de(h.idToken,"internal-error"),de(void 0!==h.idToken,"internal-error"),de(void 0!==h.refreshToken,"internal-error");const g="expiresIn"in h&&void 0!==h.expiresIn?Number(h.expiresIn):function rr(_){const h=yt(_);return de(h,"internal-error"),de(void 0!==h.exp,"internal-error"),de(void 0!==h.iat,"internal-error"),Number(h.exp)-Number(h.iat)}(h.idToken);this.updateTokensAndExpiration(h.idToken,h.refreshToken,g)}getToken(h,g=!1){var D=this;return(0,a.Z)(function*(){return de(!D.accessToken||D.refreshToken,h,"user-token-expired"),g||!D.accessToken||D.isExpired?D.refreshToken?(yield D.refresh(h,D.refreshToken),D.accessToken):null:D.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(h,g){var D=this;return(0,a.Z)(function*(){const{accessToken:j,refreshToken:ne,expiresIn:Ye}=yield function wt(_,h){return Gt.apply(this,arguments)}(h,g);D.updateTokensAndExpiration(j,ne,Number(Ye))})()}updateTokensAndExpiration(h,g,D){this.refreshToken=g||null,this.accessToken=h||null,this.expirationTime=Date.now()+1e3*D}static fromJSON(h,g){const{refreshToken:D,accessToken:j,expirationTime:ne}=g,Ye=new on;return D&&(de("string"==typeof D,"internal-error",{appName:h}),Ye.refreshToken=D),j&&(de("string"==typeof j,"internal-error",{appName:h}),Ye.accessToken=j),ne&&(de("number"==typeof ne,"internal-error",{appName:h}),Ye.expirationTime=ne),Ye}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(h){this.accessToken=h.accessToken,this.refreshToken=h.refreshToken,this.expirationTime=h.expirationTime}_clone(){return Object.assign(new on,this.toJSON())}_performRefresh(){return ye("not implemented")}}function cn(_,h){de("string"==typeof _||void 0===_,"internal-error",{appName:h})}class pn{constructor(h){var{uid:g,auth:D,stsTokenManager:j}=h,ne=(0,ce._T)(h,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new fr(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=g,this.auth=D,this.stsTokenManager=j,this.accessToken=j.accessToken,this.displayName=ne.displayName||null,this.email=ne.email||null,this.emailVerified=ne.emailVerified||!1,this.phoneNumber=ne.phoneNumber||null,this.photoURL=ne.photoURL||null,this.isAnonymous=ne.isAnonymous||!1,this.tenantId=ne.tenantId||null,this.providerData=ne.providerData?[...ne.providerData]:[],this.metadata=new ir(ne.createdAt||void 0,ne.lastLoginAt||void 0)}getIdToken(h){var g=this;return(0,a.Z)(function*(){const D=yield Un(g,g.stsTokenManager.getToken(g.auth,h));return de(D,g.auth,"internal-error"),g.accessToken!==D&&(g.accessToken=D,yield g.auth._persistUserIfCurrent(g),g.auth._notifyListenersIfCurrent(g)),D})()}getIdTokenResult(h){return function zr(_){return St.apply(this,arguments)}(this,h)}reload(){return function an(_){return Dn.apply(this,arguments)}(this)}_assign(h){this!==h&&(de(this.uid===h.uid,this.auth,"internal-error"),this.displayName=h.displayName,this.photoURL=h.photoURL,this.email=h.email,this.emailVerified=h.emailVerified,this.phoneNumber=h.phoneNumber,this.isAnonymous=h.isAnonymous,this.tenantId=h.tenantId,this.providerData=h.providerData.map(g=>Object.assign({},g)),this.metadata._copy(h.metadata),this.stsTokenManager._assign(h.stsTokenManager))}_clone(h){return new pn(Object.assign(Object.assign({},this),{auth:h,stsTokenManager:this.stsTokenManager._clone()}))}_onReload(h){de(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=h,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(h){this.reloadListener?this.reloadListener(h):this.reloadUserInfo=h}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(h,g=!1){var D=this;return(0,a.Z)(function*(){let j=!1;h.idToken&&h.idToken!==D.stsTokenManager.accessToken&&(D.stsTokenManager.updateFromServerResponse(h),j=!0),g&&(yield jn(D)),yield D.auth._persistUserIfCurrent(D),j&&D.auth._notifyListenersIfCurrent(D)})()}delete(){var h=this;return(0,a.Z)(function*(){const g=yield h.getIdToken();return yield Un(h,function Dr(_,h){return yn.apply(this,arguments)}(h.auth,{idToken:g})),h.stsTokenManager.clearRefreshToken(),h.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(h=>Object.assign({},h)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(h,g){var D,j,ne,Ye,It,Kt,un,Fn;const Rn=null!==(D=g.displayName)&&void 0!==D?D:void 0,_s=null!==(j=g.email)&&void 0!==j?j:void 0,Fo=null!==(ne=g.phoneNumber)&&void 0!==ne?ne:void 0,zc=null!==(Ye=g.photoURL)&&void 0!==Ye?Ye:void 0,xl=null!==(It=g.tenantId)&&void 0!==It?It:void 0,Cd=null!==(Kt=g._redirectEventId)&&void 0!==Kt?Kt:void 0,Hu=null!==(un=g.createdAt)&&void 0!==un?un:void 0,za=null!==(Fn=g.lastLoginAt)&&void 0!==Fn?Fn:void 0,{uid:Sd,emailVerified:Cp,isAnonymous:Wc,providerData:Qs,stsTokenManager:Sp}=g;de(Sd&&Sp,h,"internal-error");const Tp=on.fromJSON(this.name,Sp);de("string"==typeof Sd,h,"internal-error"),cn(Rn,h.name),cn(_s,h.name),de("boolean"==typeof Cp,h,"internal-error"),de("boolean"==typeof Wc,h,"internal-error"),cn(Fo,h.name),cn(zc,h.name),cn(xl,h.name),cn(Cd,h.name),cn(Hu,h.name),cn(za,h.name);const ha=new pn({uid:Sd,auth:h,email:_s,emailVerified:Cp,displayName:Rn,isAnonymous:Wc,photoURL:zc,phoneNumber:Fo,tenantId:xl,stsTokenManager:Tp,createdAt:Hu,lastLoginAt:za});return Qs&&Array.isArray(Qs)&&(ha.providerData=Qs.map(Ap=>Object.assign({},Ap))),Cd&&(ha._redirectEventId=Cd),ha}static _fromIdTokenResponse(h,g,D=!1){return(0,a.Z)(function*(){const j=new on;j.updateFromServerResponse(g);const ne=new pn({uid:g.localId,auth:h,stsTokenManager:j,isAnonymous:D});return yield jn(ne),ne})()}}const we=(()=>{class _{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,a.Z)(function*(){return!0})()}_set(g,D){var j=this;return(0,a.Z)(function*(){j.storage[g]=D})()}_get(g){var D=this;return(0,a.Z)(function*(){const j=D.storage[g];return void 0===j?null:j})()}_remove(g){var D=this;return(0,a.Z)(function*(){delete D.storage[g]})()}_addListener(g,D){}_removeListener(g,D){}}return _.type="NONE",_})();function ke(_,h,g){return`firebase:${_}:${h}:${g}`}class mt{constructor(h,g,D){this.persistence=h,this.auth=g,this.userKey=D;const{config:j,name:ne}=this.auth;this.fullUserKey=ke(this.userKey,j.apiKey,ne),this.fullPersistenceKey=ke("persistence",j.apiKey,ne),this.boundEventHandler=g._onStorageEvent.bind(g),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(h){return this.persistence._set(this.fullUserKey,h.toJSON())}getCurrentUser(){var h=this;return(0,a.Z)(function*(){const g=yield h.persistence._get(h.fullUserKey);return g?pn._fromJSON(h.auth,g):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(h){var g=this;return(0,a.Z)(function*(){if(g.persistence===h)return;const D=yield g.getCurrentUser();return yield g.removeCurrentUser(),g.persistence=h,D?g.setCurrentUser(D):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(h,g,D="authUser"){return(0,a.Z)(function*(){if(!g.length)return new mt(Y(we),h,D);const j=(yield Promise.all(g.map(function(){var un=(0,a.Z)(function*(Fn){if(yield Fn._isAvailable())return Fn});return function(Fn){return un.apply(this,arguments)}}()))).filter(un=>un);let ne=j[0]||Y(we);const Ye=ke(D,h.config.apiKey,h.name);let It=null;for(const un of g)try{const Fn=yield un._get(Ye);if(Fn){const Rn=pn._fromJSON(h,Fn);un!==ne&&(It=Rn),ne=un;break}}catch(Fn){}const Kt=j.filter(un=>un._shouldAllowMigration);return ne._shouldAllowMigration&&Kt.length?(ne=Kt[0],It&&(yield ne._set(Ye,It.toJSON())),yield Promise.all(g.map(function(){var un=(0,a.Z)(function*(Fn){if(Fn!==ne)try{yield Fn._remove(Ye)}catch(Rn){}});return function(Fn){return un.apply(this,arguments)}}())),new mt(ne,h,D)):new mt(ne,h,D)})()}}function rt(_){const h=_.toLowerCase();if(h.includes("opera/")||h.includes("opr/")||h.includes("opios/"))return"Opera";if(pr(h))return"IEMobile";if(h.includes("msie")||h.includes("trident/"))return"IE";if(h.includes("edge/"))return"Edge";if(Mt(h))return"Firefox";if(h.includes("silk/"))return"Silk";if(Xe(h))return"Blackberry";if(Se(h))return"Webos";if(gn(h))return"Safari";if((h.includes("chrome/")||Gn(h))&&!h.includes("edge/"))return"Chrome";if(hn(h))return"Android";{const D=_.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===(null==D?void 0:D.length))return D[1]}return"Other"}function Mt(_=(0,B.z$)()){return/firefox\//i.test(_)}function gn(_=(0,B.z$)()){const h=_.toLowerCase();return h.includes("safari/")&&!h.includes("chrome/")&&!h.includes("crios/")&&!h.includes("android")}function Gn(_=(0,B.z$)()){return/crios\//i.test(_)}function pr(_=(0,B.z$)()){return/iemobile/i.test(_)}function hn(_=(0,B.z$)()){return/android/i.test(_)}function Xe(_=(0,B.z$)()){return/blackberry/i.test(_)}function Se(_=(0,B.z$)()){return/webos/i.test(_)}function Ee(_=(0,B.z$)()){return/iphone|ipad|ipod/i.test(_)||/macintosh/i.test(_)&&/mobile/i.test(_)}function nn(_=(0,B.z$)()){return Ee(_)||hn(_)||Se(_)||Xe(_)||/windows phone/i.test(_)||pr(_)}function sr(_,h=[]){let g;switch(_){case"Browser":g=rt((0,B.z$)());break;case"Worker":g=`${rt((0,B.z$)())}-${_}`;break;default:g=_}const D=h.length?h.join(","):"FirebaseCore-web";return`${g}/JsCore/${Ce.SDK_VERSION}/${D}`}class zn{constructor(h){this.auth=h,this.queue=[]}pushCallback(h,g){const D=ne=>new Promise((Ye,It)=>{try{Ye(h(ne))}catch(Kt){It(Kt)}});D.onAbort=g,this.queue.push(D);const j=this.queue.length-1;return()=>{this.queue[j]=()=>Promise.resolve()}}runMiddleware(h){var g=this;return(0,a.Z)(function*(){if(g.auth.currentUser===h)return;const D=[];try{for(const j of g.queue)yield j(h),j.onAbort&&D.push(j.onAbort)}catch(j){D.reverse();for(const ne of D)try{ne()}catch(Ye){}throw g.auth._errorFactory.create("login-blocked",{originalMessage:null==j?void 0:j.message})}})()}}class si{constructor(h,g,D){this.app=h,this.heartbeatServiceProvider=g,this.config=D,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Ut(this),this.idTokenSubscription=new Ut(this),this.beforeStateQueue=new zn(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=_e,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=h.name,this.clientVersion=D.sdkClientVersion}_initializeWithPersistence(h,g){var D=this;return g&&(this._popupRedirectResolver=Y(g)),this._initializationPromise=this.queue((0,a.Z)(function*(){var j,ne;if(!D._deleted&&(D.persistenceManager=yield mt.create(D,h),!D._deleted)){if(null!==(j=D._popupRedirectResolver)&&void 0!==j&&j._shouldInitProactively)try{yield D._popupRedirectResolver._initialize(D)}catch(Ye){}yield D.initializeCurrentUser(g),D.lastNotifiedUid=(null===(ne=D.currentUser)||void 0===ne?void 0:ne.uid)||null,!D._deleted&&(D._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var h=this;return(0,a.Z)(function*(){if(h._deleted)return;const g=yield h.assertedPersistence.getCurrentUser();if(h.currentUser||g){if(h.currentUser&&g&&h.currentUser.uid===g.uid)return h._currentUser._assign(g),void(yield h.currentUser.getIdToken());yield h._updateCurrentUser(g,!0)}})()}initializeCurrentUser(h){var g=this;return(0,a.Z)(function*(){var D;const j=yield g.assertedPersistence.getCurrentUser();let ne=j,Ye=!1;if(h&&g.config.authDomain){yield g.getOrInitRedirectPersistenceManager();const It=null===(D=g.redirectUser)||void 0===D?void 0:D._redirectEventId,Kt=null==ne?void 0:ne._redirectEventId,un=yield g.tryRedirectSignIn(h);(!It||It===Kt)&&(null==un?void 0:un.user)&&(ne=un.user,Ye=!0)}if(!ne)return g.directlySetCurrentUser(null);if(!ne._redirectEventId){if(Ye)try{yield g.beforeStateQueue.runMiddleware(ne)}catch(It){ne=j,g._popupRedirectResolver._overrideRedirectResult(g,()=>Promise.reject(It))}return ne?g.reloadAndSetCurrentUserOrClear(ne):g.directlySetCurrentUser(null)}return de(g._popupRedirectResolver,g,"argument-error"),yield g.getOrInitRedirectPersistenceManager(),g.redirectUser&&g.redirectUser._redirectEventId===ne._redirectEventId?g.directlySetCurrentUser(ne):g.reloadAndSetCurrentUserOrClear(ne)})()}tryRedirectSignIn(h){var g=this;return(0,a.Z)(function*(){let D=null;try{D=yield g._popupRedirectResolver._completeRedirectFn(g,h,!0)}catch(j){yield g._setRedirectUser(null)}return D})()}reloadAndSetCurrentUserOrClear(h){var g=this;return(0,a.Z)(function*(){try{yield jn(h)}catch(D){if("auth/network-request-failed"!==(null==D?void 0:D.code))return g.directlySetCurrentUser(null)}return g.directlySetCurrentUser(h)})()}useDeviceLanguage(){this.languageCode=function Fe(){if("undefined"==typeof navigator)return null;const _=navigator;return _.languages&&_.languages[0]||_.language||null}()}_delete(){var h=this;return(0,a.Z)(function*(){h._deleted=!0})()}updateCurrentUser(h){var g=this;return(0,a.Z)(function*(){const D=h?(0,B.m9)(h):null;return D&&de(D.auth.config.apiKey===g.config.apiKey,g,"invalid-user-token"),g._updateCurrentUser(D&&D._clone(g))})()}_updateCurrentUser(h,g=!1){var D=this;return(0,a.Z)(function*(){if(!D._deleted)return h&&de(D.tenantId===h.tenantId,D,"tenant-id-mismatch"),g||(yield D.beforeStateQueue.runMiddleware(h)),D.queue((0,a.Z)(function*(){yield D.directlySetCurrentUser(h),D.notifyAuthListeners()}))})()}signOut(){var h=this;return(0,a.Z)(function*(){return yield h.beforeStateQueue.runMiddleware(null),(h.redirectPersistenceManager||h._popupRedirectResolver)&&(yield h._setRedirectUser(null)),h._updateCurrentUser(null,!0)})()}setPersistence(h){var g=this;return this.queue((0,a.Z)(function*(){yield g.assertedPersistence.setPersistence(Y(h))}))}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(h){this._errorFactory=new B.LL("auth","Firebase",h())}onAuthStateChanged(h,g,D){return this.registerStateListener(this.authStateSubscription,h,g,D)}beforeAuthStateChanged(h,g){return this.beforeStateQueue.pushCallback(h,g)}onIdTokenChanged(h,g,D){return this.registerStateListener(this.idTokenSubscription,h,g,D)}toJSON(){var h;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(h=this._currentUser)||void 0===h?void 0:h.toJSON()}}_setRedirectUser(h,g){var D=this;return(0,a.Z)(function*(){const j=yield D.getOrInitRedirectPersistenceManager(g);return null===h?j.removeCurrentUser():j.setCurrentUser(h)})()}getOrInitRedirectPersistenceManager(h){var g=this;return(0,a.Z)(function*(){if(!g.redirectPersistenceManager){const D=h&&Y(h)||g._popupRedirectResolver;de(D,g,"argument-error"),g.redirectPersistenceManager=yield mt.create(g,[Y(D._redirectPersistence)],"redirectUser"),g.redirectUser=yield g.redirectPersistenceManager.getCurrentUser()}return g.redirectPersistenceManager})()}_redirectUserForId(h){var g=this;return(0,a.Z)(function*(){var D,j;return g._isInitialized&&(yield g.queue((0,a.Z)(function*(){}))),(null===(D=g._currentUser)||void 0===D?void 0:D._redirectEventId)===h?g._currentUser:(null===(j=g.redirectUser)||void 0===j?void 0:j._redirectEventId)===h?g.redirectUser:null})()}_persistUserIfCurrent(h){var g=this;return(0,a.Z)(function*(){if(h===g.currentUser)return g.queue((0,a.Z)(function*(){return g.directlySetCurrentUser(h)}))})()}_notifyListenersIfCurrent(h){h===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var h,g;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const D=null!==(g=null===(h=this.currentUser)||void 0===h?void 0:h.uid)&&void 0!==g?g:null;this.lastNotifiedUid!==D&&(this.lastNotifiedUid=D,this.authStateSubscription.next(this.currentUser))}registerStateListener(h,g,D,j){if(this._deleted)return()=>{};const ne="function"==typeof g?g:g.next.bind(g),Ye=this._isInitialized?Promise.resolve():this._initializationPromise;return de(Ye,this,"internal-error"),Ye.then(()=>ne(this.currentUser)),"function"==typeof g?h.addObserver(g,D,j):h.addObserver(g)}directlySetCurrentUser(h){var g=this;return(0,a.Z)(function*(){g.currentUser&&g.currentUser!==h&&g._currentUser._stopProactiveRefresh(),h&&g.isProactiveRefreshEnabled&&h._startProactiveRefresh(),g.currentUser=h,h?yield g.assertedPersistence.setCurrentUser(h):yield g.assertedPersistence.removeCurrentUser()})()}queue(h){return this.operations=this.operations.then(h,h),this.operations}get assertedPersistence(){return de(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(h){!h||this.frameworks.includes(h)||(this.frameworks.push(h),this.frameworks.sort(),this.clientVersion=sr(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var h=this;return(0,a.Z)(function*(){var g;const D={"X-Client-Version":h.clientVersion};h.app.options.appId&&(D["X-Firebase-gmpid"]=h.app.options.appId);const j=yield null===(g=h.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===g?void 0:g.getHeartbeatsHeader();return j&&(D["X-Firebase-Client"]=j),D})()}}function Wn(_){return(0,B.m9)(_)}class Ut{constructor(h){this.auth=h,this.observer=null,this.addObserver=(0,B.ne)(g=>this.observer=g)}get next(){return de(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function Ln(_){const h=_.indexOf(":");return h<0?"":_.substr(0,h+1)}function Fr(_){if(!_)return null;const h=Number(_);return isNaN(h)?null:h}class ei{constructor(h,g){this.providerId=h,this.signInMethod=g}toJSON(){return ye("not implemented")}_getIdTokenResponse(h){return ye("not implemented")}_linkToIdToken(h,g){return ye("not implemented")}_getReauthenticationResolver(h){return ye("not implemented")}}function Vn(_,h){return oi.apply(this,arguments)}function oi(){return(oi=(0,a.Z)(function*(_,h){return Rt(_,"POST","/v1/accounts:resetPassword",Lt(_,h))})).apply(this,arguments)}function vi(_,h){return En.apply(this,arguments)}function En(){return(En=(0,a.Z)(function*(_,h){return Rt(_,"POST","/v1/accounts:update",h)})).apply(this,arguments)}function di(_,h){return Hr.apply(this,arguments)}function Hr(){return(Hr=(0,a.Z)(function*(_,h){return Rt(_,"POST","/v1/accounts:update",Lt(_,h))})).apply(this,arguments)}function Ti(){return(Ti=(0,a.Z)(function*(_,h){return bn(_,"POST","/v1/accounts:signInWithPassword",Lt(_,h))})).apply(this,arguments)}function br(_,h){return Z.apply(this,arguments)}function Z(){return(Z=(0,a.Z)(function*(_,h){return Rt(_,"POST","/v1/accounts:sendOobCode",Lt(_,h))})).apply(this,arguments)}function pe(_,h){return Le.apply(this,arguments)}function Le(){return(Le=(0,a.Z)(function*(_,h){return br(_,h)})).apply(this,arguments)}function Ke(_,h){return lt.apply(this,arguments)}function lt(){return(lt=(0,a.Z)(function*(_,h){return br(_,h)})).apply(this,arguments)}function ue(_,h){return je.apply(this,arguments)}function je(){return(je=(0,a.Z)(function*(_,h){return br(_,h)})).apply(this,arguments)}function it(_,h){return dt.apply(this,arguments)}function dt(){return(dt=(0,a.Z)(function*(_,h){return br(_,h)})).apply(this,arguments)}function Bt(){return(Bt=(0,a.Z)(function*(_,h){return bn(_,"POST","/v1/accounts:signInWithEmailLink",Lt(_,h))})).apply(this,arguments)}function An(){return(An=(0,a.Z)(function*(_,h){return bn(_,"POST","/v1/accounts:signInWithEmailLink",Lt(_,h))})).apply(this,arguments)}class mn extends ei{constructor(h,g,D,j=null){super("password",D),this._email=h,this._password=g,this._tenantId=j}static _fromEmailAndPassword(h,g){return new mn(h,g,"password")}static _fromEmailAndCode(h,g,D=null){return new mn(h,g,"emailLink",D)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(h){const g="string"==typeof h?JSON.parse(h):h;if((null==g?void 0:g.email)&&(null==g?void 0:g.password)){if("password"===g.signInMethod)return this._fromEmailAndPassword(g.email,g.password);if("emailLink"===g.signInMethod)return this._fromEmailAndCode(g.email,g.password,g.tenantId)}return null}_getIdTokenResponse(h){var g=this;return(0,a.Z)(function*(){switch(g.signInMethod){case"password":return function Si(_,h){return Ti.apply(this,arguments)}(h,{returnSecureToken:!0,email:g._email,password:g._password});case"emailLink":return function bt(_,h){return Bt.apply(this,arguments)}(h,{email:g._email,oobCode:g._password});default:nt(h,"internal-error")}})()}_linkToIdToken(h,g){var D=this;return(0,a.Z)(function*(){switch(D.signInMethod){case"password":return vi(h,{idToken:g,returnSecureToken:!0,email:D._email,password:D._password});case"emailLink":return function Qt(_,h){return An.apply(this,arguments)}(h,{idToken:g,email:D._email,oobCode:D._password});default:nt(h,"internal-error")}})()}_getReauthenticationResolver(h){return this._getIdTokenResponse(h)}}function Zn(_,h){return ti.apply(this,arguments)}function ti(){return(ti=(0,a.Z)(function*(_,h){return bn(_,"POST","/v1/accounts:signInWithIdp",Lt(_,h))})).apply(this,arguments)}class gi extends ei{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(h){const g=new gi(h.providerId,h.signInMethod);return h.idToken||h.accessToken?(h.idToken&&(g.idToken=h.idToken),h.accessToken&&(g.accessToken=h.accessToken),h.nonce&&!h.pendingToken&&(g.nonce=h.nonce),h.pendingToken&&(g.pendingToken=h.pendingToken)):h.oauthToken&&h.oauthTokenSecret?(g.accessToken=h.oauthToken,g.secret=h.oauthTokenSecret):nt("argument-error"),g}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(h){const g="string"==typeof h?JSON.parse(h):h,{providerId:D,signInMethod:j}=g,ne=(0,ce._T)(g,["providerId","signInMethod"]);if(!D||!j)return null;const Ye=new gi(D,j);return Ye.idToken=ne.idToken||void 0,Ye.accessToken=ne.accessToken||void 0,Ye.secret=ne.secret,Ye.nonce=ne.nonce,Ye.pendingToken=ne.pendingToken||null,Ye}_getIdTokenResponse(h){return Zn(h,this.buildRequest())}_linkToIdToken(h,g){const D=this.buildRequest();return D.idToken=g,Zn(h,D)}_getReauthenticationResolver(h){const g=this.buildRequest();return g.autoCreate=!1,Zn(h,g)}buildRequest(){const h={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)h.pendingToken=this.pendingToken;else{const g={};this.idToken&&(g.id_token=this.idToken),this.accessToken&&(g.access_token=this.accessToken),this.secret&&(g.oauth_token_secret=this.secret),g.providerId=this.providerId,this.nonce&&!this.pendingToken&&(g.nonce=this.nonce),h.postBody=(0,B.xO)(g)}return h}}function Ns(_,h){return us.apply(this,arguments)}function us(){return(us=(0,a.Z)(function*(_,h){return Rt(_,"POST","/v1/accounts:sendVerificationCode",Lt(_,h))})).apply(this,arguments)}function fi(){return(fi=(0,a.Z)(function*(_,h){return bn(_,"POST","/v1/accounts:signInWithPhoneNumber",Lt(_,h))})).apply(this,arguments)}function Is(){return(Is=(0,a.Z)(function*(_,h){const g=yield bn(_,"POST","/v1/accounts:signInWithPhoneNumber",Lt(_,h));if(g.temporaryProof)throw er(_,"account-exists-with-different-credential",g);return g})).apply(this,arguments)}const To={USER_NOT_FOUND:"user-not-found"};function ws(){return(ws=(0,a.Z)(function*(_,h){return bn(_,"POST","/v1/accounts:signInWithPhoneNumber",Lt(_,Object.assign(Object.assign({},h),{operation:"REAUTH"})),To)})).apply(this,arguments)}class Ds extends ei{constructor(h){super("phone","phone"),this.params=h}static _fromVerification(h,g){return new Ds({verificationId:h,verificationCode:g})}static _fromTokenResponse(h,g){return new Ds({phoneNumber:h,temporaryProof:g})}_getIdTokenResponse(h){return function Vi(_,h){return fi.apply(this,arguments)}(h,this._makeVerificationRequest())}_linkToIdToken(h,g){return function Wi(_,h){return Is.apply(this,arguments)}(h,Object.assign({idToken:g},this._makeVerificationRequest()))}_getReauthenticationResolver(h){return function fo(_,h){return ws.apply(this,arguments)}(h,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:h,phoneNumber:g,verificationId:D,verificationCode:j}=this.params;return h&&g?{temporaryProof:h,phoneNumber:g}:{sessionInfo:D,code:j}}toJSON(){const h={providerId:this.providerId};return this.params.phoneNumber&&(h.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(h.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(h.verificationCode=this.params.verificationCode),this.params.verificationId&&(h.verificationId=this.params.verificationId),h}static fromJSON(h){"string"==typeof h&&(h=JSON.parse(h));const{verificationId:g,verificationCode:D,phoneNumber:j,temporaryProof:ne}=h;return D||g||j||ne?new Ds({verificationId:g,verificationCode:D,phoneNumber:j,temporaryProof:ne}):null}}class cs{constructor(h){var g,D,j,ne,Ye,It;const Kt=(0,B.zd)((0,B.pd)(h)),un=null!==(g=Kt.apiKey)&&void 0!==g?g:null,Fn=null!==(D=Kt.oobCode)&&void 0!==D?D:null,Rn=function _a(_){switch(_){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(j=Kt.mode)&&void 0!==j?j:null);de(un&&Fn&&Rn,"argument-error"),this.apiKey=un,this.operation=Rn,this.code=Fn,this.continueUrl=null!==(ne=Kt.continueUrl)&&void 0!==ne?ne:null,this.languageCode=null!==(Ye=Kt.languageCode)&&void 0!==Ye?Ye:null,this.tenantId=null!==(It=Kt.tenantId)&&void 0!==It?It:null}static parseLink(h){const g=function po(_){const h=(0,B.zd)((0,B.pd)(_)).link,g=h?(0,B.zd)((0,B.pd)(h)).deep_link_id:null,D=(0,B.zd)((0,B.pd)(_)).deep_link_id;return(D?(0,B.zd)((0,B.pd)(D)).link:null)||D||g||h||_}(h);try{return new cs(g)}catch(D){return null}}}let Cs=(()=>{class _{constructor(){this.providerId=_.PROVIDER_ID}static credential(g,D){return mn._fromEmailAndPassword(g,D)}static credentialWithLink(g,D){const j=cs.parseLink(D);return de(j,"argument-error"),mn._fromEmailAndCode(g,j.code,j.tenantId)}}return _.PROVIDER_ID="password",_.EMAIL_PASSWORD_SIGN_IN_METHOD="password",_.EMAIL_LINK_SIGN_IN_METHOD="emailLink",_})();class Bi{constructor(h){this.providerId=h,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(h){this.defaultLanguageCode=h}setCustomParameters(h){return this.customParameters=h,this}getCustomParameters(){return this.customParameters}}class qi extends Bi{constructor(){super(...arguments),this.scopes=[]}addScope(h){return this.scopes.includes(h)||this.scopes.push(h),this}getScopes(){return[...this.scopes]}}class Ws extends qi{static credentialFromJSON(h){const g="string"==typeof h?JSON.parse(h):h;return de("providerId"in g&&"signInMethod"in g,"argument-error"),gi._fromParams(g)}credential(h){return this._credential(Object.assign(Object.assign({},h),{nonce:h.rawNonce}))}_credential(h){return de(h.idToken||h.accessToken,"argument-error"),gi._fromParams(Object.assign(Object.assign({},h),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(h){return Ws.oauthCredentialFromTaggedObject(h)}static credentialFromError(h){return Ws.oauthCredentialFromTaggedObject(h.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:h}){if(!h)return null;const{oauthIdToken:g,oauthAccessToken:D,oauthTokenSecret:j,pendingToken:ne,nonce:Ye,providerId:It}=h;if(!D&&!j&&!g&&!ne||!It)return null;try{return new Ws(It)._credential({idToken:g,accessToken:D,nonce:Ye,pendingToken:ne})}catch(Kt){return null}}}let ls=(()=>{class _ extends qi{constructor(){super("facebook.com")}static credential(g){return gi._fromParams({providerId:_.PROVIDER_ID,signInMethod:_.FACEBOOK_SIGN_IN_METHOD,accessToken:g})}static credentialFromResult(g){return _.credentialFromTaggedObject(g)}static credentialFromError(g){return _.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g||!("oauthAccessToken"in g)||!g.oauthAccessToken)return null;try{return _.credential(g.oauthAccessToken)}catch(D){return null}}}return _.FACEBOOK_SIGN_IN_METHOD="facebook.com",_.PROVIDER_ID="facebook.com",_})(),Pi=(()=>{class _ extends qi{constructor(){super("google.com"),this.addScope("profile")}static credential(g,D){return gi._fromParams({providerId:_.PROVIDER_ID,signInMethod:_.GOOGLE_SIGN_IN_METHOD,idToken:g,accessToken:D})}static credentialFromResult(g){return _.credentialFromTaggedObject(g)}static credentialFromError(g){return _.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g)return null;const{oauthIdToken:D,oauthAccessToken:j}=g;if(!D&&!j)return null;try{return _.credential(D,j)}catch(ne){return null}}}return _.GOOGLE_SIGN_IN_METHOD="google.com",_.PROVIDER_ID="google.com",_})(),Fs=(()=>{class _ extends qi{constructor(){super("github.com")}static credential(g){return gi._fromParams({providerId:_.PROVIDER_ID,signInMethod:_.GITHUB_SIGN_IN_METHOD,accessToken:g})}static credentialFromResult(g){return _.credentialFromTaggedObject(g)}static credentialFromError(g){return _.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g||!("oauthAccessToken"in g)||!g.oauthAccessToken)return null;try{return _.credential(g.oauthAccessToken)}catch(D){return null}}}return _.GITHUB_SIGN_IN_METHOD="github.com",_.PROVIDER_ID="github.com",_})();class Ai extends ei{constructor(h,g){super(h,h),this.pendingToken=g}_getIdTokenResponse(h){return Zn(h,this.buildRequest())}_linkToIdToken(h,g){const D=this.buildRequest();return D.idToken=g,Zn(h,D)}_getReauthenticationResolver(h){const g=this.buildRequest();return g.autoCreate=!1,Zn(h,g)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(h){const g="string"==typeof h?JSON.parse(h):h,{providerId:D,signInMethod:j,pendingToken:ne}=g;return D&&j&&ne&&D===j?new Ai(D,ne):null}static _create(h,g){return new Ai(h,g)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class ai extends Bi{constructor(h){de(h.startsWith("saml."),"argument-error"),super(h)}static credentialFromResult(h){return ai.samlCredentialFromTaggedObject(h)}static credentialFromError(h){return ai.samlCredentialFromTaggedObject(h.customData||{})}static credentialFromJSON(h){const g=Ai.fromJSON(h);return de(g,"argument-error"),g}static samlCredentialFromTaggedObject({_tokenResponse:h}){if(!h)return null;const{pendingToken:g,providerId:D}=h;if(!g||!D)return null;try{return Ai._create(D,g)}catch(j){return null}}}let eo=(()=>{class _ extends qi{constructor(){super("twitter.com")}static credential(g,D){return gi._fromParams({providerId:_.PROVIDER_ID,signInMethod:_.TWITTER_SIGN_IN_METHOD,oauthToken:g,oauthTokenSecret:D})}static credentialFromResult(g){return _.credentialFromTaggedObject(g)}static credentialFromError(g){return _.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g)return null;const{oauthAccessToken:D,oauthTokenSecret:j}=g;if(!D||!j)return null;try{return _.credential(D,j)}catch(ne){return null}}}return _.TWITTER_SIGN_IN_METHOD="twitter.com",_.PROVIDER_ID="twitter.com",_})();function es(_,h){return Ao.apply(this,arguments)}function Ao(){return(Ao=(0,a.Z)(function*(_,h){return bn(_,"POST","/v1/accounts:signUp",Lt(_,h))})).apply(this,arguments)}class Wr{constructor(h){this.user=h.user,this.providerId=h.providerId,this._tokenResponse=h._tokenResponse,this.operationType=h.operationType}static _fromIdTokenResponse(h,g,D,j=!1){return(0,a.Z)(function*(){const ne=yield pn._fromIdTokenResponse(h,D,j),Ye=_i(D);return new Wr({user:ne,providerId:Ye,_tokenResponse:D,operationType:g})})()}static _forOperation(h,g,D){return(0,a.Z)(function*(){yield h._updateTokensIfNecessary(D,!0);const j=_i(D);return new Wr({user:h,providerId:j,_tokenResponse:D,operationType:g})})()}}function _i(_){return _.providerId?_.providerId:"phoneNumber"in _?"phone":null}function Yi(){return(Yi=(0,a.Z)(function*(_){var h;const g=Wn(_);if(yield g._initializationPromise,null!==(h=g.currentUser)&&void 0!==h&&h.isAnonymous)return new Wr({user:g.currentUser,providerId:null,operationType:"signIn"});const D=yield es(g,{returnSecureToken:!0}),j=yield Wr._fromIdTokenResponse(g,"signIn",D,!0);return yield g._updateCurrentUser(j.user),j})).apply(this,arguments)}class ts extends B.ZR{constructor(h,g,D,j){var ne;super(g.code,g.message),this.operationType=D,this.user=j,Object.setPrototypeOf(this,ts.prototype),this.customData={appName:h.name,tenantId:null!==(ne=h.tenantId)&&void 0!==ne?ne:void 0,_serverResponse:g.customData._serverResponse,operationType:D}}static _fromErrorAndOperation(h,g,D,j){return new ts(h,g,D,j)}}function xi(_,h,g,D){return("reauthenticate"===h?g._getReauthenticationResolver(_):g._getIdTokenResponse(_)).catch(ne=>{throw"auth/multi-factor-auth-required"===ne.code?ts._fromErrorAndOperation(_,ne,h,D):ne})}function qn(_){return new Set(_.map(({providerId:h})=>h).filter(h=>!!h))}function Er(){return(Er=(0,a.Z)(function*(_,h){const g=(0,B.m9)(_);yield kr(!0,g,h);const{providerUserInfo:D}=yield Rr(g.auth,{idToken:yield g.getIdToken(),deleteProvider:[h]}),j=qn(D||[]);return g.providerData=g.providerData.filter(ne=>j.has(ne.providerId)),j.has("phone")||(g.phoneNumber=null),yield g.auth._persistUserIfCurrent(g),g})).apply(this,arguments)}function hs(_,h){return Ls.apply(this,arguments)}function Ls(){return(Ls=(0,a.Z)(function*(_,h,g=!1){const D=yield Un(_,h._linkToIdToken(_.auth,yield _.getIdToken()),g);return Wr._forOperation(_,"link",D)})).apply(this,arguments)}function kr(_,h,g){return pi.apply(this,arguments)}function pi(){return(pi=(0,a.Z)(function*(_,h,g){yield jn(h);const j=!1===_?"provider-already-linked":"no-such-provider";de(qn(h.providerData).has(g)===_,h.auth,j)})).apply(this,arguments)}function Ts(_,h){return As.apply(this,arguments)}function As(){return(As=(0,a.Z)(function*(_,h,g=!1){const{auth:D}=_,j="reauthenticate";try{const ne=yield Un(_,xi(D,j,h,_),g);de(ne.idToken,D,"internal-error");const Ye=yt(ne.idToken);de(Ye,D,"internal-error");const{sub:It}=Ye;return de(_.uid===It,D,"user-mismatch"),Wr._forOperation(_,j,ne)}catch(ne){throw"auth/user-not-found"===(null==ne?void 0:ne.code)&&nt(D,"user-mismatch"),ne}})).apply(this,arguments)}function $i(_,h){return Kr.apply(this,arguments)}function Kr(){return(Kr=(0,a.Z)(function*(_,h,g=!1){const D="signIn",j=yield xi(_,D,h),ne=yield Wr._fromIdTokenResponse(_,D,j);return g||(yield _._updateCurrentUser(ne.user)),ne})).apply(this,arguments)}function Ir(_,h){return qs.apply(this,arguments)}function qs(){return(qs=(0,a.Z)(function*(_,h){return $i(Wn(_),h)})).apply(this,arguments)}function ns(_,h){return Mi.apply(this,arguments)}function Mi(){return(Mi=(0,a.Z)(function*(_,h){const g=(0,B.m9)(_);return yield kr(!1,g,h.providerId),hs(g,h)})).apply(this,arguments)}function Ki(_,h){return mo.apply(this,arguments)}function mo(){return(mo=(0,a.Z)(function*(_,h){return Ts((0,B.m9)(_),h)})).apply(this,arguments)}function On(_,h){return rs.apply(this,arguments)}function rs(){return(rs=(0,a.Z)(function*(_,h){return bn(_,"POST","/v1/accounts:signInWithCustomToken",Lt(_,h))})).apply(this,arguments)}function Ys(){return(Ys=(0,a.Z)(function*(_,h){const g=Wn(_),D=yield On(g,{token:h,returnSecureToken:!0}),j=yield Wr._fromIdTokenResponse(g,"signIn",D);return yield g._updateCurrentUser(j.user),j})).apply(this,arguments)}class xo{constructor(h,g){this.factorId=h,this.uid=g.mfaEnrollmentId,this.enrollmentTime=new Date(g.enrolledAt).toUTCString(),this.displayName=g.displayName}static _fromServerResponse(h,g){return"phoneInfo"in g?yo._fromServerResponse(h,g):nt(h,"internal-error")}}class yo extends xo{constructor(h){super("phone",h),this.phoneNumber=h.phoneInfo}static _fromServerResponse(h,g){return new yo(g)}}function Mo(_,h,g){var D;de((null===(D=g.url)||void 0===D?void 0:D.length)>0,_,"invalid-continue-uri"),de(void 0===g.dynamicLinkDomain||g.dynamicLinkDomain.length>0,_,"invalid-dynamic-link-domain"),h.continueUrl=g.url,h.dynamicLinkDomain=g.dynamicLinkDomain,h.canHandleCodeInApp=g.handleCodeInApp,g.iOS&&(de(g.iOS.bundleId.length>0,_,"missing-ios-bundle-id"),h.iOSBundleId=g.iOS.bundleId),g.android&&(de(g.android.packageName.length>0,_,"missing-android-pkg-name"),h.androidInstallApp=g.android.installApp,h.androidMinimumVersionCode=g.android.minimumVersion,h.androidPackageName=g.android.packageName)}function Uo(){return(Uo=(0,a.Z)(function*(_,h,g){const D=(0,B.m9)(_),j={requestType:"PASSWORD_RESET",email:h};g&&Mo(D,j,g),yield Ke(D,j)})).apply(this,arguments)}function or(){return(or=(0,a.Z)(function*(_,h,g){yield Vn((0,B.m9)(_),{oobCode:h,newPassword:g})})).apply(this,arguments)}function Ni(){return(Ni=(0,a.Z)(function*(_,h){yield di((0,B.m9)(_),{oobCode:h})})).apply(this,arguments)}function V(_,h){return k.apply(this,arguments)}function k(){return(k=(0,a.Z)(function*(_,h){const g=(0,B.m9)(_),D=yield Vn(g,{oobCode:h}),j=D.requestType;switch(de(j,g,"internal-error"),j){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":de(D.newEmail,g,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":de(D.mfaInfo,g,"internal-error");default:de(D.email,g,"internal-error")}let ne=null;return D.mfaInfo&&(ne=xo._fromServerResponse(Wn(g),D.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===D.requestType?D.newEmail:D.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===D.requestType?D.email:D.newEmail)||null,multiFactorInfo:ne},operation:j}})).apply(this,arguments)}function f(){return(f=(0,a.Z)(function*(_,h){const{data:g}=yield V((0,B.m9)(_),h);return g.email})).apply(this,arguments)}function y(){return(y=(0,a.Z)(function*(_,h,g){const D=Wn(_),j=yield es(D,{returnSecureToken:!0,email:h,password:g}),ne=yield Wr._fromIdTokenResponse(D,"signIn",j);return yield D._updateCurrentUser(ne.user),ne})).apply(this,arguments)}function Qe(){return(Qe=(0,a.Z)(function*(_,h,g){const D=(0,B.m9)(_),j={requestType:"EMAIL_SIGNIN",email:h};de(g.handleCodeInApp,D,"argument-error"),g&&Mo(D,j,g),yield ue(D,j)})).apply(this,arguments)}function In(){return(In=(0,a.Z)(function*(_,h,g){const D=(0,B.m9)(_),j=Cs.credentialWithLink(h,g||ze());return de(j._tenantId===(D.tenantId||null),D,"tenant-id-mismatch"),Ir(D,j)})).apply(this,arguments)}function ar(_,h){return gr.apply(this,arguments)}function gr(){return(gr=(0,a.Z)(function*(_,h){return Rt(_,"POST","/v1/accounts:createAuthUri",Lt(_,h))})).apply(this,arguments)}function Ri(){return(Ri=(0,a.Z)(function*(_,h){const D={identifier:h,continueUri:pt()?ze():"http://localhost"},{signinMethods:j}=yield ar((0,B.m9)(_),D);return j||[]})).apply(this,arguments)}function Zi(){return(Zi=(0,a.Z)(function*(_,h){const g=(0,B.m9)(_),j={requestType:"VERIFY_EMAIL",idToken:yield _.getIdToken()};h&&Mo(g.auth,j,h);const{email:ne}=yield pe(g.auth,j);ne!==_.email&&(yield _.reload())})).apply(this,arguments)}function fs(){return(fs=(0,a.Z)(function*(_,h,g){const D=(0,B.m9)(_),ne={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield _.getIdToken(),newEmail:h};g&&Mo(D.auth,ne,g);const{email:Ye}=yield it(D.auth,ne);Ye!==_.email&&(yield _.reload())})).apply(this,arguments)}function ba(_,h){return ea.apply(this,arguments)}function ea(){return(ea=(0,a.Z)(function*(_,h){return Rt(_,"POST","/v1/accounts:update",h)})).apply(this,arguments)}function jo(){return(jo=(0,a.Z)(function*(_,{displayName:h,photoURL:g}){if(void 0===h&&void 0===g)return;const D=(0,B.m9)(_),ne={idToken:yield D.getIdToken(),displayName:h,photoUrl:g,returnSecureToken:!0},Ye=yield Un(D,ba(D.auth,ne));D.displayName=Ye.displayName||null,D.photoURL=Ye.photoUrl||null;const It=D.providerData.find(({providerId:Kt})=>"password"===Kt);It&&(It.displayName=D.displayName,It.photoURL=D.photoURL),yield D._updateTokensIfNecessary(Ye)})).apply(this,arguments)}function P(_,h,g){return K.apply(this,arguments)}function K(){return(K=(0,a.Z)(function*(_,h,g){const{auth:D}=_,ne={idToken:yield _.getIdToken(),returnSecureToken:!0};h&&(ne.email=h),g&&(ne.password=g);const Ye=yield Un(_,vi(D,ne));yield _._updateTokensIfNecessary(Ye,!0)})).apply(this,arguments)}class ht{constructor(h,g,D={}){this.isNewUser=h,this.providerId=g,this.profile=D}}class Ct extends ht{constructor(h,g,D,j){super(h,g,D),this.username=j}}class rn extends ht{constructor(h,g){super(h,"facebook.com",g)}}class mr extends Ct{constructor(h,g){super(h,"github.com",g,"string"==typeof(null==g?void 0:g.login)?null==g?void 0:g.login:null)}}class Nn extends ht{constructor(h,g){super(h,"google.com",g)}}class Yn extends Ct{constructor(h,g,D){super(h,"twitter.com",g,D)}}function wn(_){const{user:h,_tokenResponse:g}=_;return h.isAnonymous&&!g?{providerId:null,isNewUser:!1,profile:null}:function Me(_){var h,g;if(!_)return null;const{providerId:D}=_,j=_.rawUserInfo?JSON.parse(_.rawUserInfo):{},ne=_.isNewUser||"identitytoolkit#SignupNewUserResponse"===_.kind;if(!D&&(null==_?void 0:_.idToken)){const Ye=null===(g=null===(h=yt(_.idToken))||void 0===h?void 0:h.firebase)||void 0===g?void 0:g.sign_in_provider;if(Ye)return new ht(ne,"anonymous"!==Ye&&"custom"!==Ye?Ye:null)}if(!D)return null;switch(D){case"facebook.com":return new rn(ne,j);case"github.com":return new mr(ne,j);case"google.com":return new Nn(ne,j);case"twitter.com":return new Yn(ne,j,_.screenName||null);case"custom":case"anonymous":return new ht(ne,null);default:return new ht(ne,D,j)}}(g)}class ni{constructor(h,g,D){this.type=h,this.credential=g,this.auth=D}static _fromIdtoken(h,g){return new ni("enroll",h,g)}static _fromMfaPendingCredential(h){return new ni("signin",h)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(h){var g,D;if(null!=h&&h.multiFactorSession){if(null!==(g=h.multiFactorSession)&&void 0!==g&&g.pendingCredential)return ni._fromMfaPendingCredential(h.multiFactorSession.pendingCredential);if(null!==(D=h.multiFactorSession)&&void 0!==D&&D.idToken)return ni._fromIdtoken(h.multiFactorSession.idToken)}return null}}class ta{constructor(h,g,D){this.session=h,this.hints=g,this.signInResolver=D}static _fromError(h,g){const D=Wn(h),j=g.customData._serverResponse,ne=(j.mfaInfo||[]).map(It=>xo._fromServerResponse(D,It));de(j.mfaPendingCredential,D,"internal-error");const Ye=ni._fromMfaPendingCredential(j.mfaPendingCredential);return new ta(Ye,ne,function(){var It=(0,a.Z)(function*(Kt){const un=yield Kt._process(D,Ye);delete j.mfaInfo,delete j.mfaPendingCredential;const Fn=Object.assign(Object.assign({},j),{idToken:un.idToken,refreshToken:un.refreshToken});switch(g.operationType){case"signIn":const Rn=yield Wr._fromIdTokenResponse(D,g.operationType,Fn);return yield D._updateCurrentUser(Rn.user),Rn;case"reauthenticate":return de(g.user,D,"internal-error"),Wr._forOperation(g.user,g.operationType,Fn);default:nt(D,"internal-error")}});return function(Kt){return It.apply(this,arguments)}}())}resolveSignIn(h){var g=this;return(0,a.Z)(function*(){return g.signInResolver(h)})()}}function Xi(_,h){return Rt(_,"POST","/v2/accounts/mfaEnrollment:start",Lt(_,h))}class Ia{constructor(h){this.user=h,this.enrolledFactors=[],h._onReload(g=>{g.mfaInfo&&(this.enrolledFactors=g.mfaInfo.map(D=>xo._fromServerResponse(h.auth,D)))})}static _fromUser(h){return new Ia(h)}getSession(){var h=this;return(0,a.Z)(function*(){return ni._fromIdtoken(yield h.user.getIdToken(),h.user.auth)})()}enroll(h,g){var D=this;return(0,a.Z)(function*(){const j=h,ne=yield D.getSession(),Ye=yield Un(D.user,j._process(D.user.auth,ne,g));return yield D.user._updateTokensIfNecessary(Ye),D.user.reload()})()}unenroll(h){var g=this;return(0,a.Z)(function*(){const D="string"==typeof h?h:h.uid,j=yield g.user.getIdToken();try{const ne=yield Un(g.user,function Na(_,h){return Rt(_,"POST","/v2/accounts/mfaEnrollment:withdraw",Lt(_,h))}(g.user.auth,{idToken:j,mfaEnrollmentId:D}));g.enrolledFactors=g.enrolledFactors.filter(({uid:Ye})=>Ye!==D),yield g.user._updateTokensIfNecessary(ne),yield g.user.reload()}catch(ne){throw ne}})()}}const Oo=new WeakMap,na="__sak";class nc{constructor(h,g){this.storageRetriever=h,this.type=g}_isAvailable(){try{return this.storage?(this.storage.setItem(na,"1"),this.storage.removeItem(na),Promise.resolve(!0)):Promise.resolve(!1)}catch(h){return Promise.resolve(!1)}}_set(h,g){return this.storage.setItem(h,JSON.stringify(g)),Promise.resolve()}_get(h){const g=this.storage.getItem(h);return Promise.resolve(g?JSON.parse(g):null)}_remove(h){return this.storage.removeItem(h),Promise.resolve()}get storage(){return this.storageRetriever()}}const bo=(()=>{class _ extends nc{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(g,D)=>this.onStorageEvent(g,D),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function Du(){const _=(0,B.z$)();return gn(_)||Ee(_)}()&&function Sr(){try{return!(!window||window===window.top)}catch(_){return!1}}(),this.fallbackToPolling=nn(),this._shouldAllowMigration=!0}forAllChangedKeys(g){for(const D of Object.keys(this.listeners)){const j=this.storage.getItem(D),ne=this.localCache[D];j!==ne&&g(D,ne,j)}}onStorageEvent(g,D=!1){if(!g.key)return void this.forAllChangedKeys((It,Kt,un)=>{this.notifyListeners(It,un)});const j=g.key;if(D?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const It=this.storage.getItem(j);if(g.newValue!==It)null!==g.newValue?this.storage.setItem(j,g.newValue):this.storage.removeItem(j);else if(this.localCache[j]===g.newValue&&!D)return}const ne=()=>{const It=this.storage.getItem(j);!D&&this.localCache[j]===It||this.notifyListeners(j,It)},Ye=this.storage.getItem(j);!function qt(){return(0,B.w1)()&&10===document.documentMode}()||Ye===g.newValue||g.newValue===g.oldValue?ne():setTimeout(ne,10)}notifyListeners(g,D){this.localCache[g]=D;const j=this.listeners[g];if(j)for(const ne of Array.from(j))ne(D&&JSON.parse(D))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((g,D,j)=>{this.onStorageEvent(new StorageEvent("storage",{key:g,oldValue:D,newValue:j}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(g,D){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[g]||(this.listeners[g]=new Set,this.localCache[g]=this.storage.getItem(g)),this.listeners[g].add(D)}_removeListener(g,D){this.listeners[g]&&(this.listeners[g].delete(D),0===this.listeners[g].size&&delete this.listeners[g]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(g,D){var j=()=>super._set,ne=this;return(0,a.Z)(function*(){yield j().call(ne,g,D),ne.localCache[g]=JSON.stringify(D)})()}_get(g){var D=()=>super._get,j=this;return(0,a.Z)(function*(){const ne=yield D().call(j,g);return j.localCache[g]=JSON.stringify(ne),ne})()}_remove(g){var D=()=>super._remove,j=this;return(0,a.Z)(function*(){yield D().call(j,g),delete j.localCache[g]})()}}return _.type="LOCAL",_})(),no=(()=>{class _ extends nc{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(g,D){}_removeListener(g,D){}}return _.type="SESSION",_})();let Nt=(()=>{class _{constructor(g){this.eventTarget=g,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(g){const D=this.receivers.find(ne=>ne.isListeningto(g));if(D)return D;const j=new _(g);return this.receivers.push(j),j}isListeningto(g){return this.eventTarget===g}handleEvent(g){var D=this;return(0,a.Z)(function*(){const j=g,{eventId:ne,eventType:Ye,data:It}=j.data,Kt=D.handlersMap[Ye];if(null==Kt||!Kt.size)return;j.ports[0].postMessage({status:"ack",eventId:ne,eventType:Ye});const un=Array.from(Kt).map(function(){var Rn=(0,a.Z)(function*(_s){return _s(j.origin,It)});return function(_s){return Rn.apply(this,arguments)}}()),Fn=yield function Su(_){return Promise.all(_.map(function(){var h=(0,a.Z)(function*(g){try{return{fulfilled:!0,value:yield g}}catch(D){return{fulfilled:!1,reason:D}}});return function(g){return h.apply(this,arguments)}}()))}(un);j.ports[0].postMessage({status:"done",eventId:ne,eventType:Ye,response:Fn})})()}_subscribe(g,D){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[g]||(this.handlersMap[g]=new Set),this.handlersMap[g].add(D)}_unsubscribe(g,D){this.handlersMap[g]&&D&&this.handlersMap[g].delete(D),(!D||0===this.handlersMap[g].size)&&delete this.handlersMap[g],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return _.receivers=[],_})();function Zr(_="",h=10){let g="";for(let D=0;D<h;D++)g+=Math.floor(10*Math.random());return _+g}class xs{constructor(h){this.target=h,this.handlers=new Set}removeMessageHandler(h){h.messageChannel&&(h.messageChannel.port1.removeEventListener("message",h.onMessage),h.messageChannel.port1.close()),this.handlers.delete(h)}_send(h,g,D=50){var j=this;return(0,a.Z)(function*(){const ne="undefined"!=typeof MessageChannel?new MessageChannel:null;if(!ne)throw new Error("connection_unavailable");let Ye,It;return new Promise((Kt,un)=>{const Fn=Zr("",20);ne.port1.start();const Rn=setTimeout(()=>{un(new Error("unsupported_event"))},D);It={messageChannel:ne,onMessage(_s){const Fo=_s;if(Fo.data.eventId===Fn)switch(Fo.data.status){case"ack":clearTimeout(Rn),Ye=setTimeout(()=>{un(new Error("timeout"))},3e3);break;case"done":clearTimeout(Ye),Kt(Fo.data.response);break;default:clearTimeout(Rn),clearTimeout(Ye),un(new Error("invalid_response"))}}},j.handlers.add(It),ne.port1.addEventListener("message",It.onMessage),j.target.postMessage({eventType:h,eventId:Fn,data:g},[ne.port2])}).finally(()=>{It&&j.removeMessageHandler(It)})})()}}function li(){return window}function dn(){return void 0!==li().WorkerGlobalScope&&"function"==typeof li().importScripts}function Yt(){return(Yt=(0,a.Z)(function*(){if(null==navigator||!navigator.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch(_){return null}})).apply(this,arguments)}const mi="firebaseLocalStorageDb",Ho="firebaseLocalStorage",tu="fbase_key";class ro{constructor(h){this.request=h}toPromise(){return new Promise((h,g)=>{this.request.addEventListener("success",()=>{h(this.request.result)}),this.request.addEventListener("error",()=>{g(this.request.error)})})}}function ko(_,h){return _.transaction([Ho],h?"readwrite":"readonly").objectStore(Ho)}function Da(){const _=indexedDB.open(mi,1);return new Promise((h,g)=>{_.addEventListener("error",()=>{g(_.error)}),_.addEventListener("upgradeneeded",()=>{const D=_.result;try{D.createObjectStore(Ho,{keyPath:tu})}catch(j){g(j)}}),_.addEventListener("success",(0,a.Z)(function*(){const D=_.result;D.objectStoreNames.contains(Ho)?h(D):(D.close(),yield function nu(){const _=indexedDB.deleteDatabase(mi);return new ro(_).toPromise()}(),h(yield Da()))}))})}function ru(_,h,g){return iu.apply(this,arguments)}function iu(){return(iu=(0,a.Z)(function*(_,h,g){const D=ko(_,!0).put({[tu]:h,value:g});return new ro(D).toPromise()})).apply(this,arguments)}function Ca(){return(Ca=(0,a.Z)(function*(_,h){const g=ko(_,!1).get(h),D=yield new ro(g).toPromise();return void 0===D?null:D.value})).apply(this,arguments)}function kn(_,h){const g=ko(_,!0).delete(h);return new ro(g).toPromise()}const ln=(()=>{class _{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var g=this;return(0,a.Z)(function*(){return g.db||(g.db=yield Da()),g.db})()}_withRetries(g){var D=this;return(0,a.Z)(function*(){let j=0;for(;;)try{const ne=yield D._openDb();return yield g(ne)}catch(ne){if(j++>3)throw ne;D.db&&(D.db.close(),D.db=void 0)}})()}initializeServiceWorkerMessaging(){var g=this;return(0,a.Z)(function*(){return dn()?g.initializeReceiver():g.initializeSender()})()}initializeReceiver(){var g=this;return(0,a.Z)(function*(){g.receiver=Nt._getInstance(function Tt(){return dn()?self:null}()),g.receiver._subscribe("keyChanged",function(){var D=(0,a.Z)(function*(j,ne){return{keyProcessed:(yield g._poll()).includes(ne.key)}});return function(j,ne){return D.apply(this,arguments)}}()),g.receiver._subscribe("ping",function(){var D=(0,a.Z)(function*(j,ne){return["keyChanged"]});return function(j,ne){return D.apply(this,arguments)}}())})()}initializeSender(){var g=this;return(0,a.Z)(function*(){var D,j;if(g.activeServiceWorker=yield function La(){return Yt.apply(this,arguments)}(),!g.activeServiceWorker)return;g.sender=new xs(g.activeServiceWorker);const ne=yield g.sender._send("ping",{},800);!ne||(null===(D=ne[0])||void 0===D?void 0:D.fulfilled)&&(null===(j=ne[0])||void 0===j?void 0:j.value.includes("keyChanged"))&&(g.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(g){var D=this;return(0,a.Z)(function*(){if(D.sender&&D.activeServiceWorker&&function vt(){var _;return(null===(_=null==navigator?void 0:navigator.serviceWorker)||void 0===_?void 0:_.controller)||null}()===D.activeServiceWorker)try{yield D.sender._send("keyChanged",{key:g},D.serviceWorkerReceiverAvailable?800:50)}catch(j){}})()}_isAvailable(){return(0,a.Z)(function*(){try{if(!indexedDB)return!1;const g=yield Da();return yield ru(g,na,"1"),yield kn(g,na),!0}catch(g){}return!1})()}_withPendingWrite(g){var D=this;return(0,a.Z)(function*(){D.pendingWrites++;try{yield g()}finally{D.pendingWrites--}})()}_set(g,D){var j=this;return(0,a.Z)(function*(){return j._withPendingWrite((0,a.Z)(function*(){return yield j._withRetries(ne=>ru(ne,g,D)),j.localCache[g]=D,j.notifyServiceWorker(g)}))})()}_get(g){var D=this;return(0,a.Z)(function*(){const j=yield D._withRetries(ne=>function su(_,h){return Ca.apply(this,arguments)}(ne,g));return D.localCache[g]=j,j})()}_remove(g){var D=this;return(0,a.Z)(function*(){return D._withPendingWrite((0,a.Z)(function*(){return yield D._withRetries(j=>kn(j,g)),delete D.localCache[g],D.notifyServiceWorker(g)}))})()}_poll(){var g=this;return(0,a.Z)(function*(){const D=yield g._withRetries(Ye=>{const It=ko(Ye,!1).getAll();return new ro(It).toPromise()});if(!D)return[];if(0!==g.pendingWrites)return[];const j=[],ne=new Set;for(const{fbase_key:Ye,value:It}of D)ne.add(Ye),JSON.stringify(g.localCache[Ye])!==JSON.stringify(It)&&(g.notifyListeners(Ye,It),j.push(Ye));for(const Ye of Object.keys(g.localCache))g.localCache[Ye]&&!ne.has(Ye)&&(g.notifyListeners(Ye,null),j.push(Ye));return j})()}notifyListeners(g,D){this.localCache[g]=D;const j=this.listeners[g];if(j)for(const ne of Array.from(j))ne(D)}startPolling(){var g=this;this.stopPolling(),this.pollTimer=setInterval((0,a.Z)(function*(){return g._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(g,D){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[g]||(this.listeners[g]=new Set,this._get(g)),this.listeners[g].add(D)}_removeListener(g,D){this.listeners[g]&&(this.listeners[g].delete(D),0===this.listeners[g].size&&delete this.listeners[g]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return _.type="LOCAL",_})();function Xs(_,h){return Rt(_,"POST","/v2/accounts/mfaSignIn:start",Lt(_,h))}function qr(){return(qr=(0,a.Z)(function*(_){return(yield Rt(_,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function Po(_){return new Promise((h,g)=>{const D=document.createElement("script");D.setAttribute("src",_),D.onload=h,D.onerror=j=>{const ne=Be("internal-error");ne.customData=j,g(ne)},D.type="text/javascript",D.charset="UTF-8",function Zt(){var _,h;return null!==(h=null===(_=document.getElementsByTagName("head"))||void 0===_?void 0:_[0])&&void 0!==h?h:document}().appendChild(D)})}function ra(_){return`__${_}${Math.floor(1e6*Math.random())}`}const Pr=1e12;class Rc{constructor(h){this.auth=h,this.counter=Pr,this._widgets=new Map}render(h,g){const D=this.counter;return this._widgets.set(D,new Go(h,this.auth.name,g||{})),this.counter++,D}reset(h){var g;const D=h||Pr;null===(g=this._widgets.get(D))||void 0===g||g.delete(),this._widgets.delete(D)}getResponse(h){var g;return(null===(g=this._widgets.get(h||Pr))||void 0===g?void 0:g.getResponse())||""}execute(h){var g=this;return(0,a.Z)(function*(){var D;return null===(D=g._widgets.get(h||Pr))||void 0===D||D.execute(),""})()}}class Go{constructor(h,g,D){this.params=D,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const j="string"==typeof h?document.getElementById(h):h;de(j,"argument-error",{appName:g}),this.container=j,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function Io(_){const h=[],g="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let D=0;D<_;D++)h.push(g.charAt(Math.floor(Math.random()*g.length)));return h.join("")}(50);const{callback:h,"expired-callback":g}=this.params;if(h)try{h(this.responseToken)}catch(D){}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,g)try{g()}catch(D){}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const ou=ra("rcb"),Us=new Ne(3e4,6e4);class au{constructor(){var h;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!(null===(h=li().grecaptcha)||void 0===h||!h.render)}load(h,g=""){return de(function fl(_){return _.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(_)}(g),h,"argument-error"),this.shouldResolveImmediately(g)?Promise.resolve(li().grecaptcha):new Promise((D,j)=>{const ne=li().setTimeout(()=>{j(Be(h,"network-request-failed"))},Us.get());li()[ou]=()=>{li().clearTimeout(ne),delete li()[ou];const It=li().grecaptcha;if(!It)return void j(Be(h,"internal-error"));const Kt=It.render;It.render=(un,Fn)=>{const Rn=Kt(un,Fn);return this.counter++,Rn},this.hostLanguage=g,D(It)},Po(`https://www.google.com/recaptcha/api.js??${(0,B.xO)({onload:ou,render:"explicit",hl:g})}`).catch(()=>{clearTimeout(ne),j(Be(h,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(h){var g;return!(null===(g=li().grecaptcha)||void 0===g||!g.render)&&(h===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class Va{load(h){return(0,a.Z)(function*(){return new Rc(h)})()}clearedOneInstance(){}}const rc="recaptcha",gt={theme:"light",type:"image"};class Au{constructor(h,g=Object.assign({},gt),D){this.parameters=g,this.type=rc,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=Wn(D),this.isInvisible="invisible"===this.parameters.size,de("undefined"!=typeof document,this.auth,"operation-not-supported-in-this-environment");const j="string"==typeof h?document.getElementById(h):h;de(j,this.auth,"argument-error"),this.container=j,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new Va:new au,this.validateStartingState()}verify(){var h=this;return(0,a.Z)(function*(){h.assertNotDestroyed();const g=yield h.render(),D=h.getAssertedRecaptcha();return D.getResponse(g)||new Promise(ne=>{const Ye=It=>{!It||(h.tokenChangeListeners.delete(Ye),ne(It))};h.tokenChangeListeners.add(Ye),h.isInvisible&&D.execute(g)})})()}render(){try{this.assertNotDestroyed()}catch(h){return Promise.reject(h)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(h=>{throw this.renderPromise=null,h})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(h=>{this.container.removeChild(h)})}validateStartingState(){de(!this.parameters.sitekey,this.auth,"argument-error"),de(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),de("undefined"!=typeof document,this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(h){return g=>{if(this.tokenChangeListeners.forEach(D=>D(g)),"function"==typeof h)h(g);else if("string"==typeof h){const D=li()[h];"function"==typeof D&&D(g)}}}assertNotDestroyed(){de(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var h=this;return(0,a.Z)(function*(){if(yield h.init(),!h.widgetId){let g=h.container;if(!h.isInvisible){const D=document.createElement("div");g.appendChild(D),g=D}h.widgetId=h.getAssertedRecaptcha().render(g,h.parameters)}return h.widgetId})()}init(){var h=this;return(0,a.Z)(function*(){de(pt()&&!dn(),h.auth,"internal-error"),yield function js(){let _=null;return new Promise(h=>{"complete"!==document.readyState?(_=()=>h(),window.addEventListener("load",_)):h()}).catch(h=>{throw _&&window.removeEventListener("load",_),h})}(),h.recaptcha=yield h._recaptchaLoader.load(h.auth,h.auth.languageCode||void 0);const g=yield function Bs(_){return qr.apply(this,arguments)}(h.auth);de(g,h.auth,"internal-error"),h.parameters.sitekey=g})()}getAssertedRecaptcha(){return de(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class Ba{constructor(h,g){this.verificationId=h,this.onConfirmation=g}confirm(h){const g=Ds._fromVerification(this.verificationId,h);return this.onConfirmation(g)}}function gs(){return(gs=(0,a.Z)(function*(_,h,g){const D=Wn(_),j=yield Ta(D,h,(0,B.m9)(g));return new Ba(j,ne=>Ir(D,ne))})).apply(this,arguments)}function wo(){return(wo=(0,a.Z)(function*(_,h,g){const D=(0,B.m9)(_);yield kr(!1,D,"phone");const j=yield Ta(D.auth,h,(0,B.m9)(g));return new Ba(j,ne=>ns(D,ne))})).apply(this,arguments)}function $a(){return($a=(0,a.Z)(function*(_,h,g){const D=(0,B.m9)(_),j=yield Ta(D.auth,h,(0,B.m9)(g));return new Ba(j,ne=>Ki(D,ne))})).apply(this,arguments)}function Ta(_,h,g){return ms.apply(this,arguments)}function ms(){return(ms=(0,a.Z)(function*(_,h,g){var D;const j=yield g.verify();try{let ne;if(de("string"==typeof j,_,"argument-error"),de(g.type===rc,_,"argument-error"),ne="string"==typeof h?{phoneNumber:h}:h,"session"in ne){const Ye=ne.session;if("phoneNumber"in ne)return de("enroll"===Ye.type,_,"internal-error"),(yield Xi(_,{idToken:Ye.credential,phoneEnrollmentInfo:{phoneNumber:ne.phoneNumber,recaptchaToken:j}})).phoneSessionInfo.sessionInfo;{de("signin"===Ye.type,_,"internal-error");const It=(null===(D=ne.multiFactorHint)||void 0===D?void 0:D.uid)||ne.multiFactorUid;return de(It,_,"missing-multi-factor-info"),(yield Xs(_,{mfaPendingCredential:Ye.credential,mfaEnrollmentId:It,phoneSignInInfo:{recaptchaToken:j}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:Ye}=yield Ns(_,{phoneNumber:ne.phoneNumber,recaptchaToken:j});return Ye}}finally{g._reset()}})).apply(this,arguments)}function Aa(){return(Aa=(0,a.Z)(function*(_,h){yield hs((0,B.m9)(_),h)})).apply(this,arguments)}let ji=(()=>{class _{constructor(g){this.providerId=_.PROVIDER_ID,this.auth=Wn(g)}verifyPhoneNumber(g,D){return Ta(this.auth,g,(0,B.m9)(D))}static credential(g,D){return Ds._fromVerification(g,D)}static credentialFromResult(g){return _.credentialFromTaggedObject(g)}static credentialFromError(g){return _.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g)return null;const{phoneNumber:D,temporaryProof:j}=g;return D&&j?Ds._fromTokenResponse(D,j):null}}return _.PROVIDER_ID="phone",_.PHONE_SIGN_IN_METHOD="phone",_})();function Rs(_,h){return h?Y(h):(de(_._popupRedirectResolver,_,"argument-error"),_._popupRedirectResolver)}class io extends ei{constructor(h){super("custom","custom"),this.params=h}_getIdTokenResponse(h){return Zn(h,this._buildIdpRequest())}_linkToIdToken(h,g){return Zn(h,this._buildIdpRequest(g))}_getReauthenticationResolver(h){return Zn(h,this._buildIdpRequest())}_buildIdpRequest(h){const g={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return h&&(g.idToken=h),g}}function sa(_){return $i(_.auth,new io(_),_.bypassAuthState)}function xa(_){const{auth:h,user:g}=_;return de(g,h,"internal-error"),Ts(g,new io(_),_.bypassAuthState)}function oa(_){return ic.apply(this,arguments)}function ic(){return(ic=(0,a.Z)(function*(_){const{auth:h,user:g}=_;return de(g,h,"internal-error"),hs(g,new io(_),_.bypassAuthState)})).apply(this,arguments)}class sc{constructor(h,g,D,j,ne=!1){this.auth=h,this.resolver=D,this.user=j,this.bypassAuthState=ne,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(g)?g:[g]}execute(){var h=this;return new Promise(function(){var g=(0,a.Z)(function*(D,j){h.pendingPromise={resolve:D,reject:j};try{h.eventManager=yield h.resolver._initialize(h.auth),yield h.onExecution(),h.eventManager.registerConsumer(h)}catch(ne){h.reject(ne)}});return function(D,j){return g.apply(this,arguments)}}())}onAuthEvent(h){var g=this;return(0,a.Z)(function*(){const{urlResponse:D,sessionId:j,postBody:ne,tenantId:Ye,error:It,type:Kt}=h;if(It)return void g.reject(It);const un={auth:g.auth,requestUri:D,sessionId:j,tenantId:Ye||void 0,postBody:ne||void 0,user:g.user,bypassAuthState:g.bypassAuthState};try{g.resolve(yield g.getIdpTask(Kt)(un))}catch(Fn){g.reject(Fn)}})()}onError(h){this.reject(h)}getIdpTask(h){switch(h){case"signInViaPopup":case"signInViaRedirect":return sa;case"linkViaPopup":case"linkViaRedirect":return oa;case"reauthViaPopup":case"reauthViaRedirect":return xa;default:nt(this.auth,"internal-error")}}resolve(h){le(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(h),this.unregisterAndCleanUp()}reject(h){le(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(h),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const Vr=new Ne(2e3,1e4);function ys(){return(ys=(0,a.Z)(function*(_,h,g){const D=Wn(_);Pe(_,h,Bi);const j=Rs(D,g);return new Hs(D,"signInViaPopup",h,j).executeNotNull()})).apply(this,arguments)}function so(){return(so=(0,a.Z)(function*(_,h,g){const D=(0,B.m9)(_);Pe(D.auth,h,Bi);const j=Rs(D.auth,g);return new Hs(D.auth,"reauthViaPopup",h,j,D).executeNotNull()})).apply(this,arguments)}function Ua(){return(Ua=(0,a.Z)(function*(_,h,g){const D=(0,B.m9)(_);Pe(D.auth,h,Bi);const j=Rs(D.auth,g);return new Hs(D.auth,"linkViaPopup",h,j,D).executeNotNull()})).apply(this,arguments)}let Hs=(()=>{class _ extends sc{constructor(g,D,j,ne,Ye){super(g,D,ne,Ye),this.provider=j,this.authWindow=null,this.pollId=null,_.currentPopupAction&&_.currentPopupAction.cancel(),_.currentPopupAction=this}executeNotNull(){var g=this;return(0,a.Z)(function*(){const D=yield g.execute();return de(D,g.auth,"internal-error"),D})()}onExecution(){var g=this;return(0,a.Z)(function*(){le(1===g.filter.length,"Popup operations only handle one event");const D=Zr();g.authWindow=yield g.resolver._openPopup(g.auth,g.provider,g.filter[0],D),g.authWindow.associatedEvent=D,g.resolver._originValidation(g.auth).catch(j=>{g.reject(j)}),g.resolver._isIframeWebStorageSupported(g.auth,j=>{j||g.reject(Be(g.auth,"web-storage-unsupported"))}),g.pollUserCancellation()})()}get eventId(){var g;return(null===(g=this.authWindow)||void 0===g?void 0:g.associatedEvent)||null}cancel(){this.reject(Be(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,_.currentPopupAction=null}pollUserCancellation(){const g=()=>{var D,j;this.pollId=null!==(j=null===(D=this.authWindow)||void 0===D?void 0:D.window)&&void 0!==j&&j.closed?window.setTimeout(()=>{this.pollId=null,this.reject(Be(this.auth,"popup-closed-by-user"))},2e3):window.setTimeout(g,Vr.get())};g()}}return _.currentPopupAction=null,_})();const I=new Map;class w extends sc{constructor(h,g,D=!1){super(h,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],g,void 0,D),this.eventId=null}execute(){var h=()=>super.execute,g=this;return(0,a.Z)(function*(){let D=I.get(g.auth._key());if(!D){try{const ne=(yield function v(_,h){return T.apply(this,arguments)}(g.resolver,g.auth))?yield h().call(g):null;D=()=>Promise.resolve(ne)}catch(j){D=()=>Promise.reject(j)}I.set(g.auth._key(),D)}return g.bypassAuthState||I.set(g.auth._key(),()=>Promise.resolve(null)),D()})()}onAuthEvent(h){var g=()=>super.onAuthEvent,D=this;return(0,a.Z)(function*(){if("signInViaRedirect"===h.type)return g().call(D,h);if("unknown"!==h.type){if(h.eventId){const j=yield D.auth._redirectUserForId(h.eventId);if(j)return D.user=j,g().call(D,h);D.resolve(null)}}else D.resolve(null)})()}onExecution(){return(0,a.Z)(function*(){})()}cleanUp(){}}function T(){return(T=(0,a.Z)(function*(_,h){const g=H(h),D=A(_);if(!(yield D._isAvailable()))return!1;const j="true"===(yield D._get(g));return yield D._remove(g),j})).apply(this,arguments)}function F(_,h){return q.apply(this,arguments)}function q(){return(q=(0,a.Z)(function*(_,h){return A(_)._set(H(h),"true")})).apply(this,arguments)}function E(_,h){I.set(_._key(),h)}function A(_){return Y(_._redirectPersistence)}function H(_){return ke("pendingRedirect",_.config.apiKey,_.name)}function qe(){return(qe=(0,a.Z)(function*(_,h,g){const D=Wn(_);Pe(_,h,Bi),yield D._initializationPromise;const j=Rs(D,g);return yield F(j,D),j._openRedirect(D,h,"signInViaRedirect")})).apply(this,arguments)}function Vt(){return(Vt=(0,a.Z)(function*(_,h,g){const D=(0,B.m9)(_);Pe(D.auth,h,Bi),yield D.auth._initializationPromise;const j=Rs(D.auth,g);yield F(j,D.auth);const ne=yield ua(D);return j._openRedirect(D.auth,h,"reauthViaRedirect",ne)})).apply(this,arguments)}function Sn(){return(Sn=(0,a.Z)(function*(_,h,g){const D=(0,B.m9)(_);Pe(D.auth,h,Bi),yield D.auth._initializationPromise;const j=Rs(D.auth,g);yield kr(!1,D,h.providerId),yield F(j,D.auth);const ne=yield ua(D);return j._openRedirect(D.auth,h,"linkViaRedirect",ne)})).apply(this,arguments)}function yr(){return(yr=(0,a.Z)(function*(_,h){return yield Wn(_)._initializationPromise,zo(_,h,!1)})).apply(this,arguments)}function zo(_,h){return uu.apply(this,arguments)}function uu(){return(uu=(0,a.Z)(function*(_,h,g=!1){const D=Wn(_),j=Rs(D,h),Ye=yield new w(D,j,g).execute();return Ye&&!g&&(delete Ye.user._redirectEventId,yield D._persistUserIfCurrent(Ye.user),yield D._setRedirectUser(null,h)),Ye})).apply(this,arguments)}function ua(_){return Pn.apply(this,arguments)}function Pn(){return(Pn=(0,a.Z)(function*(_){const h=Zr(`${_.uid}:::`);return _._redirectEventId=h,yield _.auth._setRedirectUser(_),yield _.auth._persistUserIfCurrent(_),h})).apply(this,arguments)}class Do{constructor(h){this.auth=h,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(h){this.consumers.add(h),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,h)&&(this.sendToConsumer(this.queuedRedirectEvent,h),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(h){this.consumers.delete(h)}onEvent(h){if(this.hasEventBeenHandled(h))return!1;let g=!1;return this.consumers.forEach(D=>{this.isEventForConsumer(h,D)&&(g=!0,this.sendToConsumer(h,D),this.saveEventToCache(h))}),this.hasHandledPotentialRedirect||!function oc(_){switch(_.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Oc(_);default:return!1}}(h)||(this.hasHandledPotentialRedirect=!0,g||(this.queuedRedirectEvent=h,g=!0)),g}sendToConsumer(h,g){var D;if(h.error&&!Oc(h)){const j=(null===(D=h.error.code)||void 0===D?void 0:D.split("auth/")[1])||"internal-error";g.onError(Be(this.auth,j))}else g.onAuthEvent(h)}isEventForConsumer(h,g){const D=null===g.eventId||!!h.eventId&&h.eventId===g.eventId;return g.filter.includes(h.type)&&D}hasEventBeenHandled(h){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(pl(h))}saveEventToCache(h){this.cachedEventUids.add(pl(h)),this.lastProcessedEventTime=Date.now()}}function pl(_){return[_.type,_.eventId,_.sessionId,_.tenantId].filter(h=>h).join("-")}function Oc({type:_,error:h}){return"unknown"===_&&"auth/no-auth-event"===(null==h?void 0:h.code)}function Ru(_){return kc.apply(this,arguments)}function kc(){return(kc=(0,a.Z)(function*(_,h={}){return Rt(_,"GET","/v1/projects",h)})).apply(this,arguments)}const Ch=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Sh=/^https?/;function Ou(){return(Ou=(0,a.Z)(function*(_){if(_.config.emulator)return;const{authorizedDomains:h}=yield Ru(_);for(const g of h)try{if(fp(g))return}catch(D){}nt(_,"unauthorized-domain")})).apply(this,arguments)}function fp(_){const h=ze(),{protocol:g,hostname:D}=new URL(h);if(_.startsWith("chrome-extension://")){const Ye=new URL(_);return""===Ye.hostname&&""===D?"chrome-extension:"===g&&_.replace("chrome-extension://","")===h.replace("chrome-extension://",""):"chrome-extension:"===g&&Ye.hostname===D}if(!Sh.test(g))return!1;if(Ch.test(_))return D===_;const j=_.replace(/\./g,"\\.");return new RegExp("^(.+\\."+j+"|"+j+")$","i").test(D)}const pp=new Ne(3e4,6e4);function fd(){const _=li().___jsl;if(null!=_&&_.H)for(const h of Object.keys(_.H))if(_.H[h].r=_.H[h].r||[],_.H[h].L=_.H[h].L||[],_.H[h].r=[..._.H[h].L],_.CP)for(let g=0;g<_.CP.length;g++)_.CP[g]=null}let pd=null;function gp(_){return pd=pd||function Th(_){return new Promise((h,g)=>{var D,j,ne;function Ye(){fd(),gapi.load("gapi.iframes",{callback:()=>{h(gapi.iframes.getContext())},ontimeout:()=>{fd(),g(Be(_,"network-request-failed"))},timeout:pp.get()})}if(null!==(j=null===(D=li().gapi)||void 0===D?void 0:D.iframes)&&void 0!==j&&j.Iframe)h(gapi.iframes.getContext());else{if(null===(ne=li().gapi)||void 0===ne||!ne.load){const It=ra("iframefcb");return li()[It]=()=>{gapi.load?Ye():g(Be(_,"network-request-failed"))},Po(`https://apis.google.com/js/api.js?onload=${It}`).catch(Kt=>g(Kt))}Ye()}}).catch(h=>{throw pd=null,h})}(_),pd}const uc=new Ne(5e3,15e3),Pc={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Gs=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function ri(_){const h=_.config;de(h.authDomain,_,"auth-domain-config-required");const g=h.emulator?Ue(h,"emulator/auth/iframe"):`https://${_.config.authDomain}/__/auth/iframe`,D={apiKey:h.apiKey,appName:_.name,v:Ce.SDK_VERSION},j=Gs.get(_.config.apiHost);j&&(D.eid=j);const ne=_._getFrameworks();return ne.length&&(D.fw=ne.join(",")),`${g}?${(0,B.xO)(D).slice(1)}`}function ja(){return ja=(0,a.Z)(function*(_){const h=yield gp(_),g=li().gapi;return de(g,_,"internal-error"),h.open({where:document.body,url:ri(_),messageHandlersFilter:g.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Pc,dontclear:!0},D=>new Promise(function(){var j=(0,a.Z)(function*(ne,Ye){yield D.restyle({setHideOnLeave:!1});const It=Be(_,"network-request-failed"),Kt=li().setTimeout(()=>{Ye(It)},uc.get());function un(){li().clearTimeout(Kt),ne(D)}D.ping(un).then(un,()=>{Ye(It)})});return function(ne,Ye){return j.apply(this,arguments)}}()))}),ja.apply(this,arguments)}const No={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class cc{constructor(h){this.window=h,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch(h){}}}function ku(_,h,g,D,j,ne){de(_.config.authDomain,_,"auth-domain-config-required"),de(_.config.apiKey,_,"invalid-api-key");const Ye={apiKey:_.config.apiKey,appName:_.name,authType:g,redirectUrl:D,v:Ce.SDK_VERSION,eventId:j};if(h instanceof Bi){h.setDefaultLanguage(_.languageCode),Ye.providerId=h.providerId||"",(0,B.xb)(h.getCustomParameters())||(Ye.customParameters=JSON.stringify(h.getCustomParameters()));for(const[Kt,un]of Object.entries(ne||{}))Ye[Kt]=un}if(h instanceof qi){const Kt=h.getScopes().filter(un=>""!==un);Kt.length>0&&(Ye.scopes=Kt.join(","))}_.tenantId&&(Ye.tid=_.tenantId);const It=Ye;for(const Kt of Object.keys(It))void 0===It[Kt]&&delete It[Kt];return`${function yl({config:_}){return _.emulator?Ue(_,"emulator/auth/handler"):`https://${_.authDomain}/__/auth/handler`}(_)}?${(0,B.xO)(It).slice(1)}`}const qo="webStorageSupport";class Fc extends class yd{constructor(h){this.factorId=h}_process(h,g,D){switch(g.type){case"enroll":return this._finalizeEnroll(h,g.credential,D);case"signin":return this._finalizeSignIn(h,g.credential);default:return ye("unexpected MultiFactorSessionType")}}}{constructor(h){super("phone"),this.credential=h}static _fromCredential(h){return new Fc(h)}_finalizeEnroll(h,g,D){return function Ea(_,h){return Rt(_,"POST","/v2/accounts/mfaEnrollment:finalize",Lt(_,h))}(h,{idToken:g,displayName:D,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(h,g){return function Tr(_,h){return Rt(_,"POST","/v2/accounts/mfaSignIn:finalize",Lt(_,h))}(h,{mfaPendingCredential:g,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let vl=(()=>{class _{constructor(){}static assertion(g){return Fc._fromCredential(g)}}return _.FACTOR_ID="phone",_})();var _l="@firebase/auth";class oo{constructor(h){this.auth=h,this.internalListeners=new Map}getUid(){var h;return this.assertAuthConfigured(),(null===(h=this.auth.currentUser)||void 0===h?void 0:h.uid)||null}getToken(h){var g=this;return(0,a.Z)(function*(){return g.assertAuthConfigured(),yield g.auth._initializationPromise,g.auth.currentUser?{accessToken:yield g.auth.currentUser.getIdToken(h)}:null})()}addAuthTokenListener(h){if(this.assertAuthConfigured(),this.internalListeners.has(h))return;const g=this.auth.onIdTokenChanged(D=>{h((null==D?void 0:D.stsTokenManager.accessToken)||null)});this.internalListeners.set(h,g),this.updateProactiveRefresh()}removeAuthTokenListener(h){this.assertAuthConfigured();const g=this.internalListeners.get(h);!g||(this.internalListeners.delete(h),g(),this.updateProactiveRefresh())}assertAuthConfigured(){de(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function Pu(){return window}function El(){return(El=(0,a.Z)(function*(_,h,g){var D;const{BuildInfo:j}=Pu();le(h.sessionId,"AuthEvent did not contain a session ID");const ne=yield fu(h.sessionId),Ye={};return Ee()?Ye.ibi=j.packageName:hn()?Ye.apn=j.packageName:nt(_,"operation-not-supported-in-this-environment"),j.displayName&&(Ye.appDisplayName=j.displayName),Ye.sessionId=ne,ku(_,g,h.type,void 0,null!==(D=h.eventId)&&void 0!==D?D:void 0,Ye)})).apply(this,arguments)}function lc(){return(lc=(0,a.Z)(function*(_){const{BuildInfo:h}=Pu(),g={};Ee()?g.iosBundleId=h.packageName:hn()?g.androidPackageName=h.packageName:nt(_,"operation-not-supported-in-this-environment"),yield Ru(_,g)})).apply(this,arguments)}function hu(){return(hu=(0,a.Z)(function*(_,h,g){const{cordova:D}=Pu();let j=()=>{};try{yield new Promise((ne,Ye)=>{let It=null;function Kt(){var Rn;ne();const _s=null===(Rn=D.plugins.browsertab)||void 0===Rn?void 0:Rn.close;"function"==typeof _s&&_s(),"function"==typeof(null==g?void 0:g.close)&&g.close()}function un(){It||(It=window.setTimeout(()=>{Ye(Be(_,"redirect-cancelled-by-user"))},2e3))}function Fn(){"visible"===(null==document?void 0:document.visibilityState)&&un()}h.addPassiveListener(Kt),document.addEventListener("resume",un,!1),hn()&&document.addEventListener("visibilitychange",Fn,!1),j=()=>{h.removePassiveListener(Kt),document.removeEventListener("resume",un,!1),document.removeEventListener("visibilitychange",Fn,!1),It&&window.clearTimeout(It)}})}finally{j()}})).apply(this,arguments)}function fu(_){return Vc.apply(this,arguments)}function Vc(){return(Vc=(0,a.Z)(function*(_){const h=dc(_),g=yield crypto.subtle.digest("SHA-256",h);return Array.from(new Uint8Array(g)).map(j=>j.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}function dc(_){if(le(/[0-9a-zA-Z]+/.test(_),"Can only convert alpha-numeric strings"),"undefined"!=typeof TextEncoder)return(new TextEncoder).encode(_);const h=new ArrayBuffer(_.length),g=new Uint8Array(h);for(let D=0;D<_.length;D++)g[D]=_.charCodeAt(D);return g}(0,B.Pz)("authIdTokenMaxAge"),function du(_){(0,Ce._registerComponent)(new he.wA("auth",(h,{options:g})=>{const D=h.getProvider("app").getImmediate(),j=h.getProvider("heartbeat"),{apiKey:ne,authDomain:Ye}=D.options;return((It,Kt)=>{de(ne&&!ne.includes(":"),"invalid-api-key",{appName:It.name}),de(!(null!=Ye&&Ye.includes(":")),"argument-error",{appName:It.name});const un={apiKey:ne,authDomain:Ye,clientPlatform:_,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:sr(_)},Fn=new si(It,Kt,un);return function Ie(_,h){const g=(null==h?void 0:h.persistence)||[],D=(Array.isArray(g)?g:[g]).map(Y);null!=h&&h.errorMap&&_._updateErrorMap(h.errorMap),_._initializeWithPersistence(D,null==h?void 0:h.popupRedirectResolver)}(Fn,g),Fn})(D,j)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((h,g,D)=>{h.getProvider("auth-internal").initialize()})),(0,Ce._registerComponent)(new he.wA("auth-internal",h=>{const g=Wn(h.getProvider("auth").getImmediate());return new oo(g)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,Ce.registerVersion)(_l,"0.21.3",function Ma(_){switch(_){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(_)),(0,Ce.registerVersion)(_l,"0.21.3","esm2017")}("Browser");class Bc extends Do{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(h=>{this.resolveInialized=h})}addPassiveListener(h){this.passiveListeners.add(h)}removePassiveListener(h){this.passiveListeners.delete(h)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(h){return this.resolveInialized(),this.passiveListeners.forEach(g=>g(h)),super.onEvent(h)}initialized(){var h=this;return(0,a.Z)(function*(){yield h.initPromise})()}}function $c(_){return Oh.apply(this,arguments)}function Oh(){return(Oh=(0,a.Z)(function*(_){const h=yield hc()._get(fc(_));return h&&(yield hc()._remove(fc(_))),h})).apply(this,arguments)}function Oi(){const _=[],h="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let g=0;g<20;g++){const D=Math.floor(Math.random()*h.length);_.push(h.charAt(D))}return _.join("")}function hc(){return Y(bo)}function fc(_){return ke("authEvent",_.config.apiKey,_.name)}function ca(_){if(null==_||!_.includes("?"))return{};const[h,...g]=_.split("?");return(0,B.zd)(g.join("?"))}function ii(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:Be("no-auth-event")}}function Lu(){var _;return(null===(_=null==self?void 0:self.location)||void 0===_?void 0:_.protocol)||null}function Qi(_=(0,B.z$)()){return!("file:"!==Lu()&&"ionic:"!==Lu()&&"capacitor:"!==Lu()||!_.toLowerCase().match(/iphone|ipad|ipod|android/))}function gc(){try{const _=self.localStorage,h=Zr();if(_)return _.setItem(h,"1"),_.removeItem(h),!function Vu(_=(0,B.z$)()){return function Vh(){return(0,B.w1)()&&11===(null==document?void 0:document.documentMode)}()||function Ip(_=(0,B.z$)()){return/Edge\/\d+/.test(_)}(_)}()||(0,B.hl)()}catch(_){return Os()&&(0,B.hl)()}return!1}function Os(){return"undefined"!=typeof global&&"WorkerGlobalScope"in global&&"importScripts"in global}function Uc(){return(function Ep(){return"http:"===Lu()||"https:"===Lu()}()||(0,B.ru)()||Qi())&&!function Br(){return(0,B.b$)()||(0,B.UG)()}()&&gc()&&!Os()}function Bu(){return Qi()&&"undefined"!=typeof document}function Yo(){return(Yo=(0,a.Z)(function*(){return!!Bu()&&new Promise(_=>{const h=setTimeout(()=>{_(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(h),_(!0)})})})).apply(this,arguments)}const ks={LOCAL:"local",NONE:"none",SESSION:"session"},$u=de,wp="persistence";function jc(_){return Uu.apply(this,arguments)}function Uu(){return(Uu=(0,a.Z)(function*(_){yield _._initializationPromise;const h=Ko(),g=ke(wp,_.config.apiKey,_.name);h&&h.setItem(g,_._getPersistence())})).apply(this,arguments)}function Ko(){var _;try{return(null===(_=function Ed(){return"undefined"!=typeof window?window:null}())||void 0===_?void 0:_.sessionStorage)||null}catch(h){return null}}const Sl=de;class la{constructor(){this.browserResolver=Y(class md{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=no,this._completeRedirectFn=zo,this._overrideRedirectResult=E}_openPopup(h,g,D,j){var ne=this;return(0,a.Z)(function*(){var Ye;le(null===(Ye=ne.eventManagers[h._key()])||void 0===Ye?void 0:Ye.manager,"_initialize() not called before _openPopup()");const It=ku(h,g,D,ze(),j);return function Wo(_,h,g,D=500,j=600){const ne=Math.max((window.screen.availHeight-j)/2,0).toString(),Ye=Math.max((window.screen.availWidth-D)/2,0).toString();let It="";const Kt=Object.assign(Object.assign({},No),{width:D.toString(),height:j.toString(),top:ne,left:Ye}),un=(0,B.z$)().toLowerCase();g&&(It=Gn(un)?"_blank":g),Mt(un)&&(h=h||"http://localhost",Kt.scrollbars="yes");const Fn=Object.entries(Kt).reduce((_s,[Fo,zc])=>`${_s}${Fo}=${zc},`,"");if(function Et(_=(0,B.z$)()){var h;return Ee(_)&&!(null===(h=window.navigator)||void 0===h||!h.standalone)}(un)&&"_self"!==It)return function Nc(_,h){const g=document.createElement("a");g.href=_,g.target=h;const D=document.createEvent("MouseEvent");D.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),g.dispatchEvent(D)}(h||"",It),new cc(null);const Rn=window.open(h||"",It,Fn);de(Rn,_,"popup-blocked");try{Rn.focus()}catch(_s){}return new cc(Rn)}(h,It,Zr())})()}_openRedirect(h,g,D,j){var ne=this;return(0,a.Z)(function*(){return yield ne._originValidation(h),function tn(_){li().location.href=_}(ku(h,g,D,ze(),j)),new Promise(()=>{})})()}_initialize(h){const g=h._key();if(this.eventManagers[g]){const{manager:j,promise:ne}=this.eventManagers[g];return j?Promise.resolve(j):(le(ne,"If manager is not set, promise should be"),ne)}const D=this.initAndGetManager(h);return this.eventManagers[g]={promise:D},D.catch(()=>{delete this.eventManagers[g]}),D}initAndGetManager(h){var g=this;return(0,a.Z)(function*(){const D=yield function yp(_){return ja.apply(this,arguments)}(h),j=new Do(h);return D.register("authEvent",ne=>(de(null==ne?void 0:ne.authEvent,h,"invalid-auth-event"),{status:j.onEvent(ne.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),g.eventManagers[h._key()]={manager:j},g.iframes[h._key()]=D,j})()}_isIframeWebStorageSupported(h,g){this.iframes[h._key()].send(qo,{type:qo},j=>{var ne;const Ye=null===(ne=null==j?void 0:j[0])||void 0===ne?void 0:ne[qo];void 0!==Ye&&g(!!Ye),nt(h,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(h){const g=h._key();return this.originValidationPromises[g]||(this.originValidationPromises[g]=function ac(_){return Ou.apply(this,arguments)}(h)),this.originValidationPromises[g]}get _shouldInitProactively(){return nn()||gn()||Ee()}}),this.cordovaResolver=Y(class Dl{constructor(){this._redirectPersistence=no,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=zo,this._overrideRedirectResult=E}_initialize(h){var g=this;return(0,a.Z)(function*(){const D=h._key();let j=g.eventManagers.get(D);return j||(j=new Bc(h),g.eventManagers.set(D,j),g.attachCallbackListeners(h,j)),j})()}_openPopup(h){nt(h,"operation-not-supported-in-this-environment")}_openRedirect(h,g,D,j){var ne=this;return(0,a.Z)(function*(){!function Nu(_){var h,g,D,j,ne,Ye,It,Kt,un,Fn;const Rn=Pu();de("function"==typeof(null===(h=null==Rn?void 0:Rn.universalLinks)||void 0===h?void 0:h.subscribe),_,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),de(void 0!==(null===(g=null==Rn?void 0:Rn.BuildInfo)||void 0===g?void 0:g.packageName),_,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),de("function"==typeof(null===(ne=null===(j=null===(D=null==Rn?void 0:Rn.cordova)||void 0===D?void 0:D.plugins)||void 0===j?void 0:j.browsertab)||void 0===ne?void 0:ne.openUrl),_,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),de("function"==typeof(null===(Kt=null===(It=null===(Ye=null==Rn?void 0:Rn.cordova)||void 0===Ye?void 0:Ye.plugins)||void 0===It?void 0:It.browsertab)||void 0===Kt?void 0:Kt.isAvailable),_,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),de("function"==typeof(null===(Fn=null===(un=null==Rn?void 0:Rn.cordova)||void 0===un?void 0:un.InAppBrowser)||void 0===Fn?void 0:Fn.open),_,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(h);const Ye=yield ne._initialize(h);yield Ye.initialized(),Ye.resetRedirect(),function ve(){I.clear()}(),yield ne._originValidation(h);const It=function Il(_,h,g=null){return{type:h,eventId:g,urlResponse:null,sessionId:Oi(),postBody:null,tenantId:_.tenantId,error:Be(_,"no-auth-event")}}(h,D,j);yield function wl(_,h){return hc()._set(fc(_),h)}(h,It);const Kt=yield function Mh(_,h,g){return El.apply(this,arguments)}(h,It,g),un=yield function _d(_){const{cordova:h}=Pu();return new Promise(g=>{h.plugins.browsertab.isAvailable(D=>{let j=null;D?h.plugins.browsertab.openUrl(_):j=h.InAppBrowser.open(_,function tt(_=(0,B.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(_)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(_)}()?"_blank":"_system","location=yes"),g(j)})})}(Kt);return function Ha(_,h,g){return hu.apply(this,arguments)}(h,Ye,un)})()}_isIframeWebStorageSupported(h,g){throw new Error("Method not implemented.")}_originValidation(h){const g=h._key();return this.originValidationPromises[g]||(this.originValidationPromises[g]=function Rh(_){return lc.apply(this,arguments)}(h)),this.originValidationPromises[g]}attachCallbackListeners(h,g){const{universalLinks:D,handleOpenURL:j,BuildInfo:ne}=Pu(),Ye=setTimeout((0,a.Z)(function*(){yield $c(h),g.onEvent(ii())}),500),It=function(){var Fn=(0,a.Z)(function*(Rn){clearTimeout(Ye);const _s=yield $c(h);let Fo=null;_s&&(null==Rn?void 0:Rn.url)&&(Fo=function kh(_,h){var g,D;const j=function Nh(_){const h=ca(_),g=h.link?decodeURIComponent(h.link):void 0,D=ca(g).link,j=h.deep_link_id?decodeURIComponent(h.deep_link_id):void 0;return ca(j).link||j||D||g||_}(h);if(j.includes("/__/auth/callback")){const ne=ca(j),Ye=ne.firebaseError?function Ph(_){try{return JSON.parse(_)}catch(h){return null}}(decodeURIComponent(ne.firebaseError)):null,It=null===(D=null===(g=null==Ye?void 0:Ye.code)||void 0===g?void 0:g.split("auth/"))||void 0===D?void 0:D[1],Kt=It?Be(It):null;return Kt?{type:_.type,eventId:_.eventId,tenantId:_.tenantId,error:Kt,urlResponse:null,sessionId:null,postBody:null}:{type:_.type,eventId:_.eventId,tenantId:_.tenantId,sessionId:_.sessionId,urlResponse:j,postBody:null}}return null}(_s,Rn.url)),g.onEvent(Fo||ii())});return function(_s){return Fn.apply(this,arguments)}}();void 0!==D&&"function"==typeof D.subscribe&&D.subscribe(null,It);const Kt=j,un=`${ne.packageName.toLowerCase()}://`;Pu().handleOpenURL=function(){var Fn=(0,a.Z)(function*(Rn){if(Rn.toLowerCase().startsWith(un)&&It({url:Rn}),"function"==typeof Kt)try{Kt(Rn)}catch(_s){console.error(_s)}});return function(Rn){return Fn.apply(this,arguments)}}()}}),this.underlyingResolver=null,this._redirectPersistence=no,this._completeRedirectFn=zo,this._overrideRedirectResult=E}_initialize(h){var g=this;return(0,a.Z)(function*(){return yield g.selectUnderlyingResolver(),g.assertedUnderlyingResolver._initialize(h)})()}_openPopup(h,g,D,j){var ne=this;return(0,a.Z)(function*(){return yield ne.selectUnderlyingResolver(),ne.assertedUnderlyingResolver._openPopup(h,g,D,j)})()}_openRedirect(h,g,D,j){var ne=this;return(0,a.Z)(function*(){return yield ne.selectUnderlyingResolver(),ne.assertedUnderlyingResolver._openRedirect(h,g,D,j)})()}_isIframeWebStorageSupported(h,g){this.assertedUnderlyingResolver._isIframeWebStorageSupported(h,g)}_originValidation(h){return this.assertedUnderlyingResolver._originValidation(h)}get _shouldInitProactively(){return Bu()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return Sl(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var h=this;return(0,a.Z)(function*(){if(h.underlyingResolver)return;const g=yield function bd(){return Yo.apply(this,arguments)}();h.underlyingResolver=g?h.cordovaResolver:h.browserResolver})()}}function yc(_){return _.unwrap()}function Id(_){return Ga(_)}function Ga(_){const{_tokenResponse:h}=_ instanceof B.ZR?_.customData:_;if(!h)return null;if(!(_ instanceof B.ZR)&&"temporaryProof"in h&&"phoneNumber"in h)return ji.credentialFromResult(_);const g=h.providerId;if(!g||"password"===g)return null;let D;switch(g){case"google.com":D=Pi;break;case"facebook.com":D=ls;break;case"github.com":D=Fs;break;case"twitter.com":D=eo;break;default:const{oauthIdToken:j,oauthAccessToken:ne,oauthTokenSecret:Ye,pendingToken:It,nonce:Kt}=h;return ne||Ye||j||It?It?g.startsWith("saml.")?Ai._create(g,It):gi._fromParams({providerId:g,signInMethod:g,pendingToken:It,idToken:j,accessToken:ne}):new Ws(g).credential({idToken:j,accessToken:ne,rawNonce:Kt}):null}return _ instanceof B.ZR?D.credentialFromError(_):D.credentialFromResult(_)}function ao(_,h){return h.catch(g=>{throw g instanceof B.ZR&&function Hc(_,h){var g;const D=null===(g=h.customData)||void 0===g?void 0:g._tokenResponse;if("auth/multi-factor-auth-required"===(null==h?void 0:h.code))h.resolver=new Dp(_,function bi(_,h){var g;const D=(0,B.m9)(_),j=h;return de(h.customData.operationType,D,"argument-error"),de(null===(g=j.customData._serverResponse)||void 0===g?void 0:g.mfaPendingCredential,D,"argument-error"),ta._fromError(D,j)}(_,h));else if(D){const j=Ga(h),ne=h;j&&(ne.credential=j,ne.tenantId=D.tenantId||void 0,ne.email=D.email||void 0,ne.phoneNumber=D.phoneNumber||void 0)}}(_,g),g}).then(g=>{const j=g.user;return{operationType:g.operationType,credential:Id(g),additionalUserInfo:wn(g),user:uo.getOrCreate(j)}})}function Gc(_,h){return wd.apply(this,arguments)}function wd(){return(wd=(0,a.Z)(function*(_,h){const g=yield h;return{verificationId:g.verificationId,confirm:D=>ao(_,g.confirm(D))}})).apply(this,arguments)}class Dp{constructor(h,g){this.resolver=g,this.auth=function Bh(_){return _.wrapped()}(h)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(h){return ao(yc(this.auth),this.resolver.resolveSignIn(h))}}class uo{constructor(h){this._delegate=h,this.multiFactor=function wu(_){const h=(0,B.m9)(_);return Oo.has(h)||Oo.set(h,Ia._fromUser(h)),Oo.get(h)}(h)}static getOrCreate(h){return uo.USER_MAP.has(h)||uo.USER_MAP.set(h,new uo(h)),uo.USER_MAP.get(h)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(h){return this._delegate.getIdTokenResult(h)}getIdToken(h){return this._delegate.getIdToken(h)}linkAndRetrieveDataWithCredential(h){return this.linkWithCredential(h)}linkWithCredential(h){var g=this;return(0,a.Z)(function*(){return ao(g.auth,ns(g._delegate,h))})()}linkWithPhoneNumber(h,g){var D=this;return(0,a.Z)(function*(){return Gc(D.auth,function Ei(_,h,g){return wo.apply(this,arguments)}(D._delegate,h,g))})()}linkWithPopup(h){var g=this;return(0,a.Z)(function*(){return ao(g.auth,function Mu(_,h,g){return Ua.apply(this,arguments)}(g._delegate,h,la))})()}linkWithRedirect(h){var g=this;return(0,a.Z)(function*(){return yield jc(Wn(g.auth)),function fn(_,h,g){return function Hn(_,h,g){return Sn.apply(this,arguments)}(_,h,g)}(g._delegate,h,la)})()}reauthenticateAndRetrieveDataWithCredential(h){return this.reauthenticateWithCredential(h)}reauthenticateWithCredential(h){var g=this;return(0,a.Z)(function*(){return ao(g.auth,Ki(g._delegate,h))})()}reauthenticateWithPhoneNumber(h,g){return Gc(this.auth,function ia(_,h,g){return $a.apply(this,arguments)}(this._delegate,h,g))}reauthenticateWithPopup(h){return ao(this.auth,function Xr(_,h,g){return so.apply(this,arguments)}(this._delegate,h,la))}reauthenticateWithRedirect(h){var g=this;return(0,a.Z)(function*(){return yield jc(Wn(g.auth)),function _t(_,h,g){return function Ht(_,h,g){return Vt.apply(this,arguments)}(_,h,g)}(g._delegate,h,la)})()}sendEmailVerification(h){return function Fi(_,h){return Zi.apply(this,arguments)}(this._delegate,h)}unlink(h){var g=this;return(0,a.Z)(function*(){return yield function Ss(_,h){return Er.apply(this,arguments)}(g._delegate,h),g})()}updateEmail(h){return function R(_,h){return P((0,B.m9)(_),h,null)}(this._delegate,h)}updatePassword(h){return function z(_,h){return P((0,B.m9)(_),null,h)}(this._delegate,h)}updatePhoneNumber(h){return function Ii(_,h){return Aa.apply(this,arguments)}(this._delegate,h)}updateProfile(h){return function Ks(_,h){return jo.apply(this,arguments)}(this._delegate,h)}verifyBeforeUpdateEmail(h,g){return function Ui(_,h,g){return fs.apply(this,arguments)}(this._delegate,h,g)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}uo.USER_MAP=new WeakMap;const da=de;let $h=(()=>{class _{constructor(g,D){if(this.app=g,D.isInitialized())return this._delegate=D.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:j}=g.options;da(j,"invalid-api-key",{appName:g.name}),da(j,"invalid-api-key",{appName:g.name});const ne="undefined"!=typeof window?la:void 0;this._delegate=D.initialize({options:{persistence:Dd(j,g.name),popupRedirectResolver:ne}}),this._delegate._updateErrorMap(ot),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?uo.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(g){this._delegate.languageCode=g}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(g){this._delegate.tenantId=g}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(g,D){!function Cn(_,h,g){const D=Wn(_);de(D._canInitEmulator,D,"emulator-config-failed"),de(/^https?:\/\//.test(h),D,"invalid-emulator-scheme");const j=!(null==g||!g.disableWarnings),ne=Ln(h),{host:Ye,port:It}=function xr(_){const h=Ln(_),g=/(\/\/)?([^?#/]+)/.exec(_.substr(h.length));if(!g)return{host:"",port:null};const D=g[2].split("@").pop()||"",j=/^(\[[^\]]+\])(:|$)/.exec(D);if(j){const ne=j[1];return{host:ne,port:Fr(D.substr(ne.length+1))}}{const[ne,Ye]=D.split(":");return{host:ne,port:Fr(Ye)}}}(h);D.config.emulator={url:`${ne}//${Ye}${null===It?"":`:${It}`}/`},D.settings.appVerificationDisabledForTesting=!0,D.emulatorConfig=Object.freeze({host:Ye,port:It,protocol:ne.replace(":",""),options:Object.freeze({disableWarnings:j})}),j||function _r(){function _(){const h=document.createElement("p"),g=h.style;h.innerText="Running in emulator mode. Do not use with production credentials.",g.position="fixed",g.width="100%",g.backgroundColor="#ffffff",g.border=".1em solid #000000",g.color="#b50000",g.bottom="0px",g.left="0px",g.margin="0px",g.zIndex="10000",g.textAlign="center",h.classList.add("firebase-emulator-warning"),document.body.appendChild(h)}"undefined"!=typeof console&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),"undefined"!=typeof window&&"undefined"!=typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",_):_())}()}(this._delegate,g,D)}applyActionCode(g){return function _o(_,h){return Ni.apply(this,arguments)}(this._delegate,g)}checkActionCode(g){return V(this._delegate,g)}confirmPasswordReset(g,D){return function xt(_,h,g){return or.apply(this,arguments)}(this._delegate,g,D)}createUserWithEmailAndPassword(g,D){var j=this;return(0,a.Z)(function*(){return ao(j._delegate,function x(_,h,g){return y.apply(this,arguments)}(j._delegate,g,D))})()}fetchProvidersForEmail(g){return this.fetchSignInMethodsForEmail(g)}fetchSignInMethodsForEmail(g){return function dr(_,h){return Ri.apply(this,arguments)}(this._delegate,g)}isSignInWithEmailLink(g){return function kt(_,h){const g=cs.parseLink(h);return"EMAIL_SIGNIN"===(null==g?void 0:g.operation)}(0,g)}getRedirectResult(){var g=this;return(0,a.Z)(function*(){da(Uc(),g._delegate,"operation-not-supported-in-this-environment");const D=yield function Hi(_,h){return yr.apply(this,arguments)}(g._delegate,la);return D?ao(g._delegate,Promise.resolve(D)):{credential:null,user:null}})()}addFrameworkForLogging(g){!function Fh(_,h){Wn(_)._logFramework(h)}(this._delegate,g)}onAuthStateChanged(g,D,j){const{next:ne,error:Ye,complete:It}=Gi(g,D,j);return this._delegate.onAuthStateChanged(ne,Ye,It)}onIdTokenChanged(g,D,j){const{next:ne,error:Ye,complete:It}=Gi(g,D,j);return this._delegate.onIdTokenChanged(ne,Ye,It)}sendSignInLinkToEmail(g,D){return function te(_,h,g){return Qe.apply(this,arguments)}(this._delegate,g,D)}sendPasswordResetEmail(g,D){return function vo(_,h,g){return Uo.apply(this,arguments)}(this._delegate,g,D||void 0)}setPersistence(g){var D=this;return(0,a.Z)(function*(){let j;switch(function hr(_,h){$u(Object.values(ks).includes(h),_,"invalid-persistence-type"),(0,B.b$)()?$u(h!==ks.SESSION,_,"unsupported-persistence-type"):(0,B.UG)()?$u(h===ks.NONE,_,"unsupported-persistence-type"):Os()?$u(h===ks.NONE||h===ks.LOCAL&&(0,B.hl)(),_,"unsupported-persistence-type"):$u(h===ks.NONE||gc(),_,"unsupported-persistence-type")}(D._delegate,g),g){case ks.SESSION:j=no;break;case ks.LOCAL:j=(yield Y(ln)._isAvailable())?ln:bo;break;case ks.NONE:j=we;break;default:return nt("argument-error",{appName:D._delegate.name})}return D._delegate.setPersistence(j)})()}signInAndRetrieveDataWithCredential(g){return this.signInWithCredential(g)}signInAnonymously(){return ao(this._delegate,function Or(_){return Yi.apply(this,arguments)}(this._delegate))}signInWithCredential(g){return ao(this._delegate,Ir(this._delegate,g))}signInWithCustomToken(g){return ao(this._delegate,function $o(_,h){return Ys.apply(this,arguments)}(this._delegate,g))}signInWithEmailAndPassword(g,D){return ao(this._delegate,function N(_,h,g){return Ir((0,B.m9)(_),Cs.credential(h,g))}(this._delegate,g,D))}signInWithEmailLink(g,D){return ao(this._delegate,function $t(_,h,g){return In.apply(this,arguments)}(this._delegate,g,D))}signInWithPhoneNumber(g,D){return Gc(this._delegate,function Sa(_,h,g){return gs.apply(this,arguments)}(this._delegate,g,D))}signInWithPopup(g){var D=this;return(0,a.Z)(function*(){return da(Uc(),D._delegate,"operation-not-supported-in-this-environment"),ao(D._delegate,function xu(_,h,g){return ys.apply(this,arguments)}(D._delegate,g,la))})()}signInWithRedirect(g){var D=this;return(0,a.Z)(function*(){return da(Uc(),D._delegate,"operation-not-supported-in-this-environment"),yield jc(D._delegate),function fe(_,h,g){return function Ae(_,h,g){return qe.apply(this,arguments)}(_,h,g)}(D._delegate,g,la)})()}updateCurrentUser(g){return this._delegate.updateCurrentUser(g)}verifyPasswordResetCode(g){return function M(_,h){return f.apply(this,arguments)}(this._delegate,g)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return _.Persistence=ks,_})();function Gi(_,h,g){let D=_;"function"!=typeof _&&({next:D,error:h,complete:g}=_);const j=D;return{next:Ye=>j(Ye&&uo.getOrCreate(Ye)),error:h,complete:g}}function Dd(_,h){const g=function mc(_,h){const g=Ko();if(!g)return[];const D=ke(wp,_,h);switch(g.getItem(D)){case ks.NONE:return[we];case ks.LOCAL:return[ln,no];case ks.SESSION:return[no];default:return[]}}(_,h);if("undefined"!=typeof self&&!g.includes(ln)&&g.push(ln),"undefined"!=typeof window)for(const D of[bo,no])g.includes(D)||g.push(D);return g.includes(we)||g.push(we),g}class Tl{constructor(){this.providerId="phone",this._delegate=new ji(yc(X.Z.auth()))}static credential(h,g){return ji.credential(h,g)}verifyPhoneNumber(h,g){return this._delegate.verifyPhoneNumber(h,g)}unwrap(){return this._delegate}}Tl.PHONE_SIGN_IN_METHOD=ji.PHONE_SIGN_IN_METHOD,Tl.PROVIDER_ID=ji.PROVIDER_ID;const ju=de;class Ra{constructor(h,g,D=X.Z.app()){var j;ju(null===(j=D.options)||void 0===j?void 0:j.apiKey,"invalid-api-key",{appName:D.name}),this._delegate=new Au(h,g,D.auth()),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function Uh(_){_.INTERNAL.registerComponent(new he.wA("auth-compat",h=>{const g=h.getProvider("app-compat").getImmediate(),D=h.getProvider("auth");return new $h(g,D)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"}},EmailAuthProvider:Cs,FacebookAuthProvider:ls,GithubAuthProvider:Fs,GoogleAuthProvider:Pi,OAuthProvider:Ws,SAMLAuthProvider:ai,PhoneAuthProvider:Tl,PhoneMultiFactorGenerator:vl,RecaptchaVerifier:Ra,TwitterAuthProvider:eo,Auth:$h,AuthCredential:ei,Error:B.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),_.registerVersion("@firebase/auth-compat","0.3.3")}(X.Z)},8766:(Pt,Ze,$)=>{"use strict";$.d(Ze,{Lj:()=>nt,X3:()=>ee});var a=$(5861);let B,Ce;const he=new WeakMap,be=new WeakMap,me=new WeakMap,se=new WeakMap,re=new WeakMap;let Re={get(de,ye,le){if(de instanceof IDBTransaction){if("done"===ye)return be.get(de);if("objectStoreNames"===ye)return de.objectStoreNames||me.get(de);if("store"===ye)return le.objectStoreNames[1]?void 0:le.objectStore(le.objectStoreNames[0])}return De(de[ye])},set:(de,ye,le)=>(de[ye]=le,!0),has:(de,ye)=>de instanceof IDBTransaction&&("done"===ye||"store"===ye)||ye in de};function _e(de){return"function"==typeof de?function $e(de){return de!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function ce(){return Ce||(Ce=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(de)?function(...ye){return de.apply(Je(this),ye),De(he.get(this))}:function(...ye){return De(de.apply(Je(this),ye))}:function(ye,...le){const W=de.call(Je(this),ye,...le);return me.set(W,ye.sort?ye.sort():[ye]),De(W)}}(de):(de instanceof IDBTransaction&&function ie(de){if(be.has(de))return;const ye=new Promise((le,W)=>{const Y=()=>{de.removeEventListener("complete",Q),de.removeEventListener("error",Ie),de.removeEventListener("abort",Ie)},Q=()=>{le(),Y()},Ie=()=>{W(de.error||new DOMException("AbortError","AbortError")),Y()};de.addEventListener("complete",Q),de.addEventListener("error",Ie),de.addEventListener("abort",Ie)});be.set(de,ye)}(de),((de,ye)=>ye.some(le=>de instanceof le))(de,function Te(){return B||(B=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(de,Re):de)}function De(de){if(de instanceof IDBRequest)return function ae(de){const ye=new Promise((le,W)=>{const Y=()=>{de.removeEventListener("success",Q),de.removeEventListener("error",Ie)},Q=()=>{le(De(de.result)),Y()},Ie=()=>{W(de.error),Y()};de.addEventListener("success",Q),de.addEventListener("error",Ie)});return ye.then(le=>{le instanceof IDBCursor&&he.set(le,de)}).catch(()=>{}),re.set(ye,de),ye}(de);if(se.has(de))return se.get(de);const ye=_e(de);return ye!==de&&(se.set(de,ye),re.set(ye,de)),ye}const Je=de=>re.get(de);function ee(de,ye,{blocked:le,upgrade:W,blocking:Y,terminated:Q}={}){const Ie=indexedDB.open(de,ye),ze=De(Ie);return W&&Ie.addEventListener("upgradeneeded",pt=>{W(De(Ie.result),pt.oldVersion,pt.newVersion,De(Ie.transaction))}),le&&Ie.addEventListener("blocked",()=>le()),ze.then(pt=>{Q&&pt.addEventListener("close",()=>Q()),Y&&pt.addEventListener("versionchange",()=>Y())}).catch(()=>{}),ze}function nt(de,{blocked:ye}={}){const le=indexedDB.deleteDatabase(de);return ye&&le.addEventListener("blocked",()=>ye()),De(le).then(()=>{})}const Be=["get","getKey","getAll","getAllKeys","count"],ct=["put","add","delete","clear"],Pe=new Map;function st(de,ye){if(!(de instanceof IDBDatabase)||ye in de||"string"!=typeof ye)return;if(Pe.get(ye))return Pe.get(ye);const le=ye.replace(/FromIndex$/,""),W=ye!==le,Y=ct.includes(le);if(!(le in(W?IDBIndex:IDBObjectStore).prototype)||!Y&&!Be.includes(le))return;const Q=function(){var Ie=(0,a.Z)(function*(ze,...pt){const He=this.transaction(ze,Y?"readwrite":"readonly");let We=He.store;return W&&(We=We.index(pt.shift())),(yield Promise.all([We[le](...pt),Y&&He.done]))[0]});return function(pt){return Ie.apply(this,arguments)}}();return Pe.set(ye,Q),Q}!function ot(de){Re=de(Re)}(de=>UI($I({},de),{get:(ye,le,W)=>st(ye,le)||de.get(ye,le,W),has:(ye,le)=>!!st(ye,le)||de.has(ye,le)}))},5861:(Pt,Ze,$)=>{"use strict";function a(B,Ce,Te,ce,he,be,me){try{var se=B[be](me),re=se.value}catch(ae){return void Te(ae)}se.done?Ce(re):Promise.resolve(re).then(ce,he)}function X(B){return function(){var Ce=this,Te=arguments;return new Promise(function(ce,he){var be=B.apply(Ce,Te);function me(re){a(be,ce,he,me,se,"next",re)}function se(re){a(be,ce,he,me,se,"throw",re)}me(void 0)})}}$.d(Ze,{Z:()=>X})}},Pt=>{Pt(Pt.s=3543)}]);